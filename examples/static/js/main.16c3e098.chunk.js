/*! For license information please see main.16c3e098.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{136:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},236:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},237:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(33),i=n.n(o),a=n(95),c=(n(159),n(34)),u=n(32),s=n(8),l=n(5),f=n.n(l),p=(n(160),n(110)),d=n(147),h=n(260),y=(n(161),n(1));function v(e){return Object(y.jsxs)("div",{className:"example-header",children:[Object(y.jsxs)("div",{className:"content",style:e.contentStyle,children:[e.content?Object(y.jsx)("span",{className:"content-text",children:e.content}):"",e.children]}),Object(y.jsxs)("div",{className:"tools",children:[Object(y.jsx)("a",{href:"http://logic-flow.org/examples/",rel:"noreferrer",target:"_blank",children:"\u67e5\u770b\u5168\u90e8\u793a\u4f8b"}),e.githubPath?Object(y.jsx)(p.a,{arrowPointAtCenter:!0,placement:"bottomRight",title:"\u5728 Github \u4e2d\u67e5\u770b",children:Object(y.jsx)(d.a,{type:"text",shape:"circle",target:"_blank",href:"https://github.com/didi/LogicFlow/tree/master/examples/src/pages"+e.githubPath,icon:Object(y.jsx)(h.a,{})})}):null]})]})}var g={stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}},b={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var m=n(13),O=n(22),x=n(15),j=n(14),w=(n(232),function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},r}return Object(O.a)(n,[{key:"mouseDown",value:function(e){var t=e.type,n=e.text;(0,this.props.mouseDownHandle)({type:t,text:n})}},{key:"render",value:function(){var e=this,t=this.state.shapeList;return Object(y.jsx)("div",{className:"panel",children:t.map((function(t){var n=t.type,r=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(n),onMouseDown:function(){e.mouseDown(t)}}),Object(y.jsx)("span",{children:r})]},n)}))})}}]),n}(r.Component)),_=(n(233),function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lf=void 0,e.mouseDownHandle=function(t){e.lf.dnd.startDrag(t)},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.lf=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9",githubPath:"/basic/dnd/index.tsx"}),Object(y.jsxs)("div",{className:"dnd-example-container",children:[Object(y.jsx)(w,{mouseDownHandle:this.mouseDownHandle}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),n}(r.Component)),E=(n(80),n(234),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),S={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},P=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).dotlf=void 0,r.meshlf=void 0,r.handleClick=function(e){e!==r.state.currentGrid&&r.setState({currentGrid:e})},r.dotlf=null,r.meshlf=null,r.state={currentGrid:"dot"},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dotlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(S),this.meshlf.render(S)}},{key:"render",value:function(){var e=this,t=this.state.currentGrid;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/grid/index.tsx",children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(y.jsx)(d.a,{onClick:function(){e.handleClick("dot")},children:"Dot"}),Object(y.jsx)(d.a,{onClick:function(){e.handleClick("mesh")},children:"Mesh"})]}),Object(y.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===t?"visible":"hidden")}),Object(y.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===t?"visible":"hidden")})]})}}]),n}(r.Component),A={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},N={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var M=n(102),k=new M.a([32,32,1]);function D(){return k.next()}var T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(e){function t(t,n){return t.id||(t.id="Event_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return T(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t.extendKey="StartEventModel",t}(l.CircleNodeModel),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.extendKey="StartEventNode",t}(l.CircleNode),R={type:"bpmn:startEvent",view:I,model:C},L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)},B=function(e){function t(t,n){return t.id||(t.id="Event_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return L(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(l.CircleNodeModel),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.props.model,n=t.getNodeStyle(),r=t.x,o=t.y,i=t.r,a=e.prototype.getShape.call(this);return Object(l.h)("g",{},a,Object(l.h)("circle",z(z({},n),{cx:r,cy:o,r:i-5})))},t.extendKey="EndEventView",t}(l.CircleNode),F={type:"bpmn:endEvent",view:G,model:B},H=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},U.apply(this,arguments)},X=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(r=e.call(this,t,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}return H(t,e),t.extendKey="ExclusiveGatewayModel",t}(l.PolygonNodeModel),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle();return Object(l.h)("g",{transform:"matrix(1 0 0 1 "+(t-r/2)+" "+(n-o/2)+")"},Object(l.h)("polygon",U(U({},a),{x:t,y:n,points:i})),Object(l.h)("path",U({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},a)))},t.extendKey="ExclusiveGatewayNode",t}(l.PolygonNode),V={type:"bpmn:exclusiveGateway",view:Y,model:X},W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},K.apply(this,arguments)},Z=function(e){function t(t,n){return t.id||(t.id="Activity_"+D()),e.call(this,t,n)||this}return W(t,e),t.extendKey="UserTaskModel",t}(l.RectNodeModel),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return Object(l.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:i.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return Object(l.h)("g",{},[Object(l.h)("rect",K(K({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(l.RectNode),J={type:"bpmn:userTask",view:q,model:Z},Q=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$.apply(this,arguments)},ee=function(e){function t(t,n){return t.id||(t.id="Activity_"+D()),e.call(this,t,n)||this}return Q(t,e),t.extendKey="ServiceTaskModel",t}(l.RectNodeModel),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return Object(l.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:i.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return Object(l.h)("g",{},[Object(l.h)("rect",$({x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o},a)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(l.RectNode),ne={type:"bpmn:serviceTask",view:te,model:ee},re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(e){function t(t,n){return t.id||(t.id="Flow_"+D()),e.call(this,t,n)||this}return re(t,e),t.extendKey="SequenceFlowModel",t}(l.PolylineEdgeModel),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return re(t,e),t.extendKey="SequenceFlowEdge",t}(l.PolylineEdge),ae={type:"bpmn:sequenceFlow",view:ie,model:oe},ce=40,ue=40,se=40,le=40,fe=40,pe=40,de=100,he=80,ye=100,ve=80,ge={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},be=function(){function e(e){var t=e.lf;t.setTheme(ge),t.register(R),t.register(F),t.register(V),t.register(J),t.register(ne),t.options.customBpmnEdge||(t.register(ae),t.setDefaultEdgeType("bpmn:sequenceFlow"))}return e.pluginName="bpmnElement",e}(),me=function(){function e(e){var t=this,n=e.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(e,n){t.getSnapshot(e,n)},n.getSnapshotBlob=function(e){return t.getSnapshotBlob(e)},n.getSnapshotBase64=function(e){return t.getSnapshotBase64(e)}}return e.prototype.getSvgRootElement=function(e){var t=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.graphModel.nodes.forEach((function(e){var n=e.x-e.width/2,r=e.y-e.height/2;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var n=e.x,r=e.y;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)}))})),e.container.querySelector(".lf-canvas-overlay")},e.prototype.triggerDownload=function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},e.prototype.removeAnchor=function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},e.prototype.getSnapshot=function(e,t){var n=this;this.fileName=e||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,t).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(t)}))},e.prototype.getSnapshotBase64=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){var t=e.toDataURL("image/png");r({data:t,width:e.width,height:e.height})}))}))},e.prototype.getSnapshotBlob=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){e.toBlob((function(t){r({data:t,width:e.width,height:e.height})}),"image/png")}))}))},e.prototype.getClassRules=function(){var e="";if(this.useGlobalRules)for(var t=document.styleSheets,n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.cssRules.length;o++)e+=r.cssRules[o].cssText;return this.customCssRules&&(e+=this.customCssRules),e},e.prototype.getCanvasData=function(e,t){var n=this,r=e.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(e){var t=e;n.removeAnchor(t.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=document.getElementsByClassName("lf-base")[0].getBoundingClientRect(),d=this.lf.graphModel.transformModel,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(p.width/h),g=Math.ceil(p.height/y);f.style.width=v+"px",f.style.height=g+"px",f.width=v*l+80,f.height=g*l+80;var b=f.getContext("2d");b.clearRect(0,0,f.width,f.height),b.scale(l,l),t?(b.fillStyle=t,b.fillRect(0,0,v*l+80,g*l+80)):b.clearRect(0,0,v,g);var m=new Image,O=document.createElement("style");O.innerHTML=this.getClassRules();var x=document.createElement("foreignObject");return x.appendChild(O),r.appendChild(x),new Promise((function(e){m.onload=function(){b.drawImage(m,0,0),e(f)};var t=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");m.src=t}))},e.pluginName="snapshot",e}(),Oe=new M.a([32,32,1]);function xe(){return Oe.next()}function je(e,t){for(var n=0;n<t;n++)e+="  ";return e}function we(e,t,n,r){var o="";if(e instanceof Array)for(var i=0,a=e.length;i<a;i++)o+=je(n,r)+we(e[i],t,n,r+1);else if("object"==typeof e){var c=!1;for(var u in o+=je(n,r)+"<"+t,e)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+e[u].toString()+'"':c=!0;if(o+=c?">":" />",c){for(var u in e)"#text"==u?o+=e[u]:"#cdata"==u?o+="<![CDATA["+e[u]+"]]>":"-"!=u.charAt(0)&&(o+=we(e[u],u,n,r+1));o+=je(n,r)+"</"+t+">"}}else o+=je(n,r)+"<"+t+">"+e.toString()+"</"+t+">";return o}var _e=function(){};(_e.ObjTree=function(){return this}).VERSION="0.23",_e.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',_e.ObjTree.prototype.attr_prefix="-",_e.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},_e.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,c=n,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),c(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=e,(s=new HTTP.Request(o))&&(r=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(e,o))&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},_e.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},_e.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){if("string"==typeof(a=e.attributes[r].nodeName))(c=e.attributes[r].nodeValue)&&("undefined"==typeof n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}if(e.childNodes&&e.childNodes.length){var o=!0;t&&(o=!1);for(r=0;r<e.childNodes.length&&o;r++){var i=e.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o){t||(t="");for(r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(r=0;r<e.childNodes.length;r++){var a,c;if("string"==typeof(a=e.childNodes[r].nodeName))(c=this.parseElement(e.childNodes[r]))&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}}return t}},_e.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},_e.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},_e.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),c=n.join("");return"undefined"==typeof e||null==e||(c=n.length>0?c.match(/\n/)?"<"+e+a+">\n"+c+"</"+e+">\n":"<"+e+a+">"+c+"</"+e+">\n":"<"+e+a+" />\n"),c},_e.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"==typeof o||null==o?n[n.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},_e.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},_e.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ee,Se=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(Ee||(Ee={}));var Pe=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Ae(e){var t={};return Object.entries(e).forEach((function(e){var n=Se(e,2),r=n[0],o=n[1];"object"!==typeof o?0===r.indexOf("-")?t[r]=o:t["-"+r]=o:t[r]=Ae(o)})),t}function Ne(e){var t={};return Object.entries(e).forEach((function(e){var n=Se(e,2),r=n[0],o=n[1];"string"===typeof o?0===r.indexOf("-")?t[r.substr(1)]=o:t[r]=o:t[r]="object"===typeof o?Ne(o):o})),t}function Me(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===Ee.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(De(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(De(r,e))}return n}(i,a)}else{var c=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o=ke(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}));else{var o=ke(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}return r}(i,c,e))}}}))}return{nodes:t,edges:n}}function ke(e,t,n){var r,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),c=n["-name"],u=Te.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=Se(e,2),n=t[0],o=t[1];-1===Pe.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=Ne(r)),c&&(o={x:i,y:a,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:i,y:a,properties:r};return o&&(l.text=o),l}function De(e,t){var n,r,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=Se(e,2),n=t[0],o=t[1];-1===Pe.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=Ne(r));var c={id:t["-id"],type:Ee.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(c.text=n),c}var Te={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+xe(),"-isExecutable":"false"};!function(e,t){var n=new Map;t.nodes.forEach((function(t){var r,o={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(o["-name"]=t.text.value),t.properties){var i=Ae(t.properties);Object.assign(o,i)}n.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var r=t.edges.map((function(e){var t,r,o=n.get(e.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(e.id):o["bpmn:incoming"]=[o["bpmn:incoming"],e.id]:o["bpmn:incoming"]=e.id;var i=n.get(e.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(e.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],e.id]:i["bpmn:outgoing"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var c=Ae(e.properties);Object.assign(a,c)}return a}));e[Ee.FLOW]=r}(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),o})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,c=Te.shapeConfigMap.get(e.type);c&&(r=c.width,o=c.height);var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i-=r/2,"-y":a-=o/2,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(n,e),{"bpmn:definitions":{"-id":"Definitions_"+xe(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(e){if(e)return Me(e)}};Te.shapeConfigMap.set(Ee.START,{width:ce,height:ue}),Te.shapeConfigMap.set(Ee.END,{width:se,height:le}),Te.shapeConfigMap.set(Ee.GATEWAY,{width:fe,height:pe}),Te.shapeConfigMap.set(Ee.SYSTEM,{width:de,height:he}),Te.shapeConfigMap.set(Ee.USER,{width:ye,height:ve});var Ce={pluginName:"bpmnXmlAdapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t,n=(t=e,(new _e.ObjTree).parseXML(t));return Te.adapterIn(n)},adapterXmlOut:function(e){return function(e){var t="";for(var n in e)t+=we(e[n],n,"\t\n",0);return t}(Te.adapterOut(e))}},Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ie.apply(this,arguments)},Re=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Le=1,ze=2,Be=3,Ge=4,Fe=6,He={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Ue(e){switch(e){case"bpmn:sequenceFlow":return Le;case"bpmn:startEvent":return ze;case"bpmn:endEvent":return Be;case"bpmn:userTask":return Ge;case"bpmn:exclusiveGateway":return Fe;default:return e}}function Xe(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=function(e){var t=e.id,n=(e.type,e.x),r=e.y,o=e.text,i=void 0===o?"":o,a=e.properties;return{incoming:[],outgoing:[],dockers:[],type:Ue(e.type),properties:Ie(Ie({},a),{name:i&&i.value||"",x:n,y:r,text:i}),key:t}}(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,c=(e.pointsList,e.text),u=void 0===c?"":c,s=e.properties;return{incoming:[r],outgoing:[o],type:Ue(n),dockers:[],properties:Ie(Ie({},s),{name:u&&u.value||"",text:u,startPoint:JSON.stringify(i),endPoint:JSON.stringify(a),pointsList:JSON.stringify(u)}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(r.key),t.get(e.targetNodeId).incoming.push(r.key),n.flowElementList.push(r)})),n}function Ye(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===Le){var n=function(e){var t=e.incoming,n=e.outgoing,r=e.properties,o=e.key,i=e.type,a=r.text,c=r.name,u=r.startPoint,s=r.endPoint,l=r.pointsList,f={id:o,type:He[i],sourceNodeId:t[0],targetNodeId:n[0],text:a||c,properties:{}};u&&(f.startPoint=JSON.parse(u)),s&&(f.endPoint=JSON.parse(s)),l&&(f.endPoint=JSON.parse(l));var p=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach((function(t){-1===p.indexOf(t)&&(f.properties[t]=e.properties[t])})),f}(e);t.edges.push(n)}else{var r=function(e){var t=e.properties,n=e.key,r=e.type,o=e.bounds,i=t.x,a=t.y;if(void 0===i){var c=Re(o,2),u=c[0],s=u.x,l=u.y,f=c[1];i=(s+f.x)/2,a=(l+f.y)/2}var p={id:n,type:He[r],x:i,y:a,text:t.text,properties:{}},d=["x","y","text"];return Object.keys(e.properties).forEach((function(t){-1===d.indexOf(t)&&(p.properties[t]=e.properties[t])})),p}(e);t.nodes.push(r)}})),t}var Ve;!function(){function e(e){var t=e.lf;t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut}e.prototype.adapterOut=function(e){if(e)return Xe(e)},e.prototype.adapterIn=function(e){if(e)return Ye(e)},e.pluginName="turboAdapter"}();!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Ve||(Ve={}));var We,Ke=function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0},Ze=function(e,t,n){var r=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}}(e),o=function(e,t){var n;return e.x===t.x?n=Ve.VERTICAL:e.y===t.y&&(n=Ve.HORIZONTAL),n}(t,n),i=Math.max(t.x,n.x),a=Math.min(t.x,n.x),c=Math.max(t.y,n.y),u=Math.min(t.y,n.y),s=e.x,l=e.y,f=e.width,p=e.height;if(o===Ve.HORIZONTAL){if(t.y===l&&i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?s+f/2:s-f/2,y:l},endCrossPoint:{x:t.x>n.x?s-f/2:s+f/2,y:l}}}else if(o===Ve.VERTICAL&&t.x===e.x&&c>=r.maxY&&u<=r.minY)return{startCrossPoint:{x:s,y:t.y>n.y?l+p/2:l-p/2},endCrossPoint:{x:s,y:t.y>n.y?l-p/2:l+p/2}}},qe=function(e,t){for(var n=e.x,r=e.y,o=t.pointsList,i=0;i<o.length-1;i++)if(Ke({x:n,y:r},o[i],o[i+1])){var a=Ze(e,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Je=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Qe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Je(arguments[t]));return e},$e=function(){function e(e){var t=e.lf;this._lf=t,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return e.prototype.eventHandler=function(){var e=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(t){var n=t.data;e.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(t){for(var n=t.data,r=e._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&e.insetNode(n)}))},e.prototype.insetNode=function(e){for(var t=this._lf.graphModel.edges,n=this._lf.getNodeModelById(e.id),r=0;r<t.length;r++){var o=qe(n,t[r]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var c=t[r],u=c.sourceNodeId,s=c.targetNodeId,l=c.id,f=c.type,p=c.pointsList;this._lf.addEdge({type:f,sourceNodeId:u,targetNodeId:e.id,pointsList:Qe(p.slice(0,i),[a.startCrossPoint])}),this._lf.addEdge({type:f,sourceNodeId:e.id,targetNodeId:s,pointsList:Qe([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(l);break}}},e.pluginName="insertNodeInPolyline",e}(),et=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},tt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(et(arguments[t]));return e},nt=function(){function e(e){var t=this,n=e.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){t.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){t.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){t.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){t.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){t.lf.redo()}}],this.lf=n}return e.prototype.render=function(e,t){this.destroy();var n=this.getControlTool();this.toolEl=n,t.appendChild(n),this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(e){this.controlItems.push(e)},e.prototype.removeItem=function(e){var t=this.controlItems.findIndex((function(t){return t.key===e}));return this.controlItems.splice(t,1)[0]},e.prototype.getControlTool=function(){var e=this,t="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),c=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,e.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,e.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,e.lf)),a.className=r.iconClass,c.className="lf-control-text",c.title=r.title,c.innerText=r.text,i.append(a,c),r.text){case"\u4e0a\u4e00\u6b65":e.lf.on("history:change",(function(e){var r=e.data.undoAble;i.className=r?t:n}));break;case"\u4e0b\u4e00\u6b65":e.lf.on("history:change",(function(e){var r=e.data.redoAble;i.className=r?t:n}));break;default:i.className=t}o.push(i)})),r.append.apply(r,tt(o)),r},e.pluginName="control",e}(),rt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ot=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rt(arguments[t]));return e},it="lf:defaultNodeMenu",at="lf:defaultEdgeMenu",ct="lf:defaultGraphMenu",ut="lf:defaultSelectionMenu",st=function(){function e(e){var t=this,n=e.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.setMenuConfig(e)},this.lf.addMenuConfig=function(e){t.addMenuConfig(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)}}return e.prototype.init=function(){var e=this,t=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.editText(t.id)}},{text:"\u590d\u5236",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(it,t);var n=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.editText(t.id)}}];this.menuTypeMap.set(at,n),this.menuTypeMap.set(ct,[]);var r=[{text:"\u5220\u9664",callback:function(t){e.lf.clearSelectElements(),t.edges.forEach((function(t){return e.lf.deleteEdge(t.id)})),t.nodes.forEach((function(t){return e.lf.deleteNode(t.id)}))}}];this.menuTypeMap.set(ut,r)},e.prototype.render=function(e,t){var n=this;this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,o=r.x,i=r.y,a=t.id,c=n.lf.graphModel.getNodeModelById(a),u=[],s=n.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(it),n.__currentData=t,n.showMenu(o,i,u)})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,o=r.x,i=r.y,a=t.id,c=n.lf.graphModel.getEdgeModelById(a),u=[],s=n.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(at),n.__currentData=t,n.showMenu(o,i,u)})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,r=n.menuTypeMap.get(ct),o=t.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(e){var t=e.data,r=e.position,o=n.menuTypeMap.get(ut),i=r.domOverlayPosition,a=i.x,c=i.y;n.__currentData=t,n.showMenu(a,c,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,ot(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=t+"px",r.style.left=e+"px")}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),n.appendChild(o),n.onclickCallback=e.callback,t.push(n)})),t},e.prototype.setMenuConfig=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(it,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(at,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(ct,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuConfig=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(it);this.menuTypeMap.set(it,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(at);this.menuTypeMap.set(at,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(ct);this.menuTypeMap.set(ct,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuConfig(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(t)}},e.pluginName="menu",e}(),lt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ft="menu-common",pt=(function(){function e(e){var t=this,n=e.lf;this.menuTypeMap=new Map,this.listenDelete=function(){t.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(ft,[]),this.lf.setContextMenuByType=function(e,n){t.setContextMenuByType(e,n)},this.lf.setContextMenuItems=function(e){t.setContextMenuItems(e)},this.lf.showContextMenu=function(e){t.showContextMenu(e)},this.lf.hideContextMenu=function(){t.hideContextMenu()}}e.prototype.render=function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideContextMenu()}))},e.prototype.setContextMenuByType=function(e,t){this.menuTypeMap.set(e,t)},e.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.prototype.showContextMenu=function(e){e&&e.id?(this._activeData=e,this.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},e.prototype.setContextMenuItems=function(e){this.menuTypeMap.set(ft,e)},e.prototype.getContextMenuPosition=function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=t.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+e.id)},e.prototype.createContextMenu=function(){var e=this;if(!this.lf.options.isSilentMode){var t=this.menuTypeMap.get(this._activeData.type)||[];t=t.concat(this.menuTypeMap.get(ft));var n=document.createDocumentFragment();t.forEach((function(t){var r=document.createElement("div");r.className="lf-context-item";var o=document.createElement("img");o.src=t.icon,o.className="lf-context-img",t.className&&(r.className=r.className+" "+t.className),o.addEventListener("click",(function(){e.hideContextMenu(),t.callback?t.callback(e._activeData):e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,properties:t.properties,type:t.type})})),r.appendChild(o),n.appendChild(r)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(n),this.showMenu()}},e.prototype.addNode=function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModelById(e.sourceId),o=e.x-r.width+200,i=t-e.y/2-20,a=e.x+r.width+200,c=t+e.y/2+20;if(this.lf.getAreaElement([o,i],[a,c]).length)return t+=100,void this.addNode(e,t);var u,s,l=this.lf.addNode({type:e.type,x:e.x+200,y:t,properties:e.properties});n&&(u={x:e.x,y:e.y+r.height/2},s={x:l.x-l.width/2,y:l.y}),this.lf.addEdge({sourceNodeId:e.sourceId,targetNodeId:l.id,startPoint:u,endPoint:s})},e.prototype.showMenu=function(){var e=lt(this.getContextMenuPosition(),2),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=t+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.pluginName="contextMenu"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.setPatternItems(e)}}return e.prototype.render=function(e,t){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl),this.domContainer=t):this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},e.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(t.lf,t.domContainer)},n},e.pluginName="dndPanel",e}()),dt=function(){function e(e){var t=this,n=e.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(e){var n=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,r=n.x,o=n.y;t.endPoint={x:r,y:o};var i=t.startPoint,a=i.x,c=i.y,u=t.wrapper.style,s=a,l=c,f=r-a,p=o-c;r<a&&(s=r,f=a-r),o<c&&(l=o,p=c-o),u.left=s+"px",u.top=l+"px",u.width=f+"px",u.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,n=e.x,r=e.y,o=t.endPoint,i=o.x,a=o.y;if(!(Math.abs(i-n)<10&&Math.abs(a-r)<10)){var c=[Math.min(n,i),Math.min(r,a)],u=[Math.max(n,i),Math.max(r,a)],s=t.lf.getAreaElement(c,u,t.isWholeEdge,t.isWholeNode);s.forEach((function(e){t.lf.selectElementById(e.id,!0)})),t.lf.emit("selection:selected",s)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=r,n.openSelectionSelect=function(){t.openSelectionSelect()},n.closeSelectionSelect=function(){t.closeSelectionSelect()}}return e.prototype.render=function(e,t){var n=this;this.__domContainer=t,e.on("blank:mousedown",(function(r){var o=r.e;if(e.getEditConfig().stopMoveGraph&&!n.__disabled){var i=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,a=i.x,c=i.y;n.startPoint={x:a,y:c},n.endPoint={x:a,y:c};var u=document.createElement("div");u.className="lf-selection-select",u.style.top=n.startPoint.y+"px",u.style.left=n.startPoint.x+"px",t.appendChild(u),n.wrapper=u,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}))},e.prototype.setSelectionSense=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.isWholeEdge=e,this.isWholeNode=t},e.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}(),ht=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function e(e){var t=this,n=e.lf,r=e.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(e,n){t.__setView(),t.__isShow||t.__createMiniMap(e,n),t.__isShow=!0},this.hide=function(){t.__isShow&&t.__removeMiniMap(),t.__isShow=!1},this.__startDrag=function(e){document.addEventListener("mousemove",t.__drag),document.addEventListener("mouseup",t.__drop),t.__startPosition={x:e.x,y:e.y}},this.__drag=function(e){var n=t.__viewport.style;t.__viewPortTop+=e.y-t.__startPosition.y,t.__viewPortLeft+=e.x-t.__startPosition.x,n.top=t.__viewPortTop+"px",n.left=t.__viewPortLeft+"px",t.__startPosition={x:e.x,y:e.y};var r=(t.__viewPortLeft+t.__viewPortWidth/2)/t.__viewPortScale,o=(t.__viewPortTop+t.__viewPortHeight/2)/t.__viewPortScale;t.__lf.focusOn({coordinate:{x:r+t.__resetDataX,y:o+t.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",t.__drag),document.removeEventListener("mouseup",t.__drop)},this.__lf=n,this.__miniMapWidth=n.graphModel.width,this.__miniMapHeight=220*n.graphModel.width/150,this.__LogicFlow=r,this.__init()}return e.prototype.render=function(e,t){var n=this;this.__container=t,this.__lf.on("history:change",(function(){n.__isShow&&n.__setView()})),this.__lf.on("blank:drop",(function(){n.__isShow&&n.__setView()}))},e.prototype.init=function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},e.prototype.__init=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=this.__width+"px",e.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(e){return e},this.__lfMap.adapterOut=function(e){return e},this.__miniMapWrap=e,this.__createViewPort()},e.prototype.__createMiniMap=function(e,t){var n=document.createElement("div"),r=this.__miniMapWrap;n.appendChild(r),"undefined"!==typeof e&&"undefined"!==typeof t&&(n.style.left=e+"px",n.style.top=t+"px"),n.style.position="absolute",n.className="lf-mini-map",this.__container.appendChild(n),this.__miniMapWrap.appendChild(this.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),n.appendChild(i),this.__miniMapContainer=n},e.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},e.prototype.__getBounds=function(e){var t=0,n=this.__miniMapWidth,r=0,o=this.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,c=e.width,u=void 0===c?200:c,s=e.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;t=f<t?f:t,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:t,top:r,bottom:o,right:n}},e.prototype.__resetData=function(e){var t=e.nodes,n=e.edges,r=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,i=e.width,a=void 0===i?200:i,c=e.height,u=t-a/2,s=n-(void 0===c?200:c)/2;r=u<r?u:r,o=s<o?s:o})),(r<0||o<0)&&(this.__resetDataX=r,this.__resetDataY=o,t.forEach((function(e){e.x=e.x-r,e.y=e.y-o,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-o}))})))),e},e.prototype.__setView=function(){var e,t,n=this.__resetData(this.__lf.getGraphRawData()),r=this.__lf.viewMap,o=this.__lf.graphModel.modelMap,i=this.__lfMap.viewMap;try{for(var a=ht(r.keys()),c=a.next();!c.done;c=a.next()){var u=c.value;i.has(u)||(this.__lfMap.setView(u,r.get(u)),this.__lfMap.graphModel.modelMap.set(u,o.get(u)))}}catch(b){e={error:b}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.__lfMap.render(n);var s=this.__getBounds(n),l=s.left,f=s.top,p=s.right,d=s.bottom,h=this.__width/(p-l),y=this.__height/(d-f),v=this.__miniMapWrap.firstChild.style,g=Math.min(h,y);v.transform="matrix("+g+", 0, 0, "+g+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(l,0)+"px",this.__viewPortScale=g,this.__setViewPort(g,{left:l,top:f,right:p,bottom:d})},e.prototype.__setViewPort=function(e,t){var n=t.left,r=t.right,o=(t.top,t.bottom,this.__viewport.style);o.width=this.__width-4+"px",o.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var i=this.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=r-n,s=(this.__width-4)/(u/this.__lf.graphModel.width),l=s/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=c>0?0:-c*e,this.__viewPortLeft=-a*e,this.__viewPortWidth=s,this.__viewPortHeight=l,o.top=this.__viewPortTop+"px",o.left=this.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},e.prototype.__createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.__startDrag),this.__viewport=e},e.pluginName="miniMap",e}(),vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vt(t,e),t.prototype.getEdge=function(){for(var e=this.props.model.getEdgeStyle(),t=e.strokeWidth,n=e.stroke,r=e.strokeDashArray,o=this.props.model.points.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),i=gt(o[0],2),a="M"+i[0]+" "+i[1],c=1;c<o.length-1;c++){var u=gt(o[c-1],2),s=u[0],f=u[1],p=gt(o[c],2),d=p[0],h=p[1],y=gt(o[c+1],2),v=y[0],g=y[1];if(d===s&&h!==f)a=a+" L "+d+" "+(h>f?h-5:h+5);if(h===f&&d!==s)a=a+" L "+(d>s?d-5:d+5)+" "+h;if(a=a+" Q "+d+" "+h,d===v&&h!==g)a=a+" "+d+" "+(h>g?h-5:h+5);if(h===g&&d!==v)a=a+" "+(d>v?d-5:d+5)+" "+h}var b=gt(o[o.length-1],2);return a=a+" L "+b[0]+" "+b[1],Object(l.h)("path",{d:a,strokeWidth:t,stroke:n,fill:"none",strokeDashArray:r})},t.extendKey="curvedEdge",t}(l.PolylineEdge),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vt(t,e),t}(l.PolylineEdgeModel),Ot={pluginName:"curved-edge",curvedSpace:5,init:function(e){var t=e.curvedSpace;Ot.curvedSpace=t},install:function(e){e.register({type:"curved-edge",view:bt,model:mt})}},xt=n(59),jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jt.apply(this,arguments)};function wt(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,c=t-r/2,u=n-o/2,s=jt(jt({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:c,y:u});return Object(l.h)("rect",jt({},s))}function _t(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2}}function Et(e){var t=_t(e),n=e.radius,r=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function St(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},c=n.radius,u=_t(n),s=_t(r);if(o===u.minX){a.x=s.minX;var l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(o===u.maxX){a.x=s.maxX;l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(i===u.minY){a.y=s.minY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else if(i===u.maxY){a.y=s.maxY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else{var f=Et(n),p=Et(r),d=_t(n),h=d.minX,y=d.minY,v=d.maxX,g=d.maxY,b=-1;if(o-h<c&&i-y<c?b=0:v-o<c&&i-y<c?b=1:v-o<c&&g-i<c?b=2:o-h<c&&y-i<c&&(b=3),b>-1){var m=Math.atan2(i-f[b].y,o-f[b].x);a.x=p[b].x+c*Math.cos(m),a.y=p[b].y+c*Math.sin(m)}}return a}function Pt(e){var t,n,r=e.point,o=e.beforeNode,i=e.afterNode,a=i.rx,c=i.ry,u=(r.y-o.y)/(r.x-o.x),s=a,l=c;return u>=1/0?(t=0,n=l):u<=-1/0?(t=0,n=-l):r.x-o.x>0?(t=s*l/Math.sqrt(l*l+s*s*u*u),n=s*l*u/Math.sqrt(l*l+s*s*u*u)):(t=-s*l/Math.sqrt(l*l+s*s*u*u),n=-s*l*u/Math.sqrt(l*l+s*s*u*u)),{x:t+i.x,y:n+i.y}}function At(e){var t,n=e.point,r=e.beforeNode,o=e.afterNode,i=n.x-r.x,a=n.y-r.y,c=r.rx,u=r.ry,s=Math.sqrt((c-Math.abs(i))*(c-Math.abs(i))+a*a)/Math.sqrt(c*c+u*u),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return t=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:t+o.y}}wt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.HTML_NODE="html-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(We||(We={}));var Nt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mt.apply(this,arguments)},kt=l.LogicFlowUtil.StepDrag,Dt=function(e){function t(t){var n=e.call(this)||this;n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,o=e.width,i=e.height,a=e.pct,c=void 0===a?1:a,u={width:o,height:i};switch(t){case 0:u.width=o-n*c,u.height=i-r*c;break;case 1:u.width=o+n*c,u.height=i-r*c;break;case 2:u.width=o+n,u.height=i+r*c;break;case 3:u.width=o-n*c,u.height=i+r*c}return u},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.x,c=o.y,u=o.width,s=o.height,l=o.radius,f=n.index,p=n.getResize({index:f,deltaX:t,deltaY:r,width:u,height:s,pct:1}),d=n.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,g=d.maxHeight;if(p.width<h||p.width>v||p.height<y||p.height>g)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var b,m=n.getNodeEdges(i),O={x:a,y:c,width:u,height:s,radius:l},x={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l},j={point:"",beforeNode:O,afterNode:x};m.sourceEdges.forEach((function(e){j.point=e.startPoint,b=St(j),e.updateStartPoint(b)})),m.targetEdges.forEach((function(e){j.point=e.endPoint,b=St(j),e.updateEndPoint(b)})),n.eventEmit({beforeNode:O,afterNode:x})}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+t/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=n.getNodeEdges(i),x={x:u,y:s},j={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},w={point:{},beforeNode:x,afterNode:j};O.sourceEdges.forEach((function(e){w.point=e.startPoint,m=Pt(w),e.updateStartPoint(m)})),O.targetEdges.forEach((function(e){w.point=e.endPoint,m=Pt(w),e.updateEndPoint(m)})),n.eventEmit({beforeNode:Mt(Mt({},x),{rx:a,ry:c}),afterNode:j})}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+t/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:u,y:s,rx:a,ry:c},x={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},j={point:{},beforeNode:O,afterNode:x},w=n.getNodeEdges(i);w.sourceEdges.forEach((function(e){j.point=e.startPoint,m=At(j),e.updateStartPoint(m)})),w.targetEdges.forEach((function(e){j.point=e.endPoint,m=At(j),e.updateEndPoint(m)})),n.eventEmit({beforeNode:O,afterNode:x})}},n.eventEmit=function(e){var t=e.beforeNode,r=e.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,c=o.type,u=Mt({id:i,modelType:a,type:c},t),s=Mt({id:i,modelType:a,type:c},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:s})},n.onDraging=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel.modelType;o===We.RECT_NODE||o===We.HTML_NODE?n.updateRect({deltaX:t,deltaY:r}):o===We.ELLIPSE_NODE?n.updateEllipse({deltaX:t,deltaY:r}):o===We.DIAMOND_NODE&&n.updateDiamond({deltaX:t,deltaY:r})},n.index=t.index,n.nodeModel=t.model,n.graphModel=t.graphModel;var r=n.graphModel.gridSize,o=2;return r>1&&(o=2*r),n.nodeModel.gridSize&&(o=2*n.nodeModel.gridSize),n.state={},n.dragHandler=new kt({onDraging:n.onDraging,step:o}),n}return Nt(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel.edges,n=[],r=[],o=0;o<t.length;o++){var i=t[o];i.sourceNodeId===e?n.push(i):t[o].targetNodeId===e&&r.push(i)}return{sourceEdges:n,targetEdges:r}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.index,o=e.model.getControlPointStyle();return Object(xt.b)("g",{className:"lf-resize-control-"+r},Object(xt.b)(wt,Mt({className:"lf-node-control"},{x:t,y:n},o,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(xt.a),Tt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ct.apply(this,arguments)},It=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return Tt(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.model,n=e.graphModel,r=t.x,o=t.y,i=t.width,a=t.height,c={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},u=c.minX,s=c.minY,l=c.maxX,f=c.maxY;return[{x:u,y:s},{x:l,y:s},{x:l,y:f},{x:u,y:f}].map((function(e,r){return Object(xt.b)(Dt,Ct({index:r},e,{model:t,graphModel:n}))}))},t.prototype.getGroupSolid=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getResizeOutlineStyle();return Object(xt.b)(wt,Ct({fill:"none"},i,{x:t,y:n,width:r,height:o}))},t.prototype.render=function(){return Object(xt.b)("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(xt.a),Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return Rt(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(e,t){console.log(e,t)},t}(l.RectNodeModel),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(l.h)(It,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(),e?this.getControlGroup():"")},t}(l.RectNode),Bt={type:"rect",view:zt,model:Lt},Gt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}return Gt(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t}(l.EllipseNodeModel),Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gt(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(l.h)(It,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props.model;return Object(l.h)("g",null,this.getResizeShape(),e.isSelected?this.getControlGroup():"")},t}(l.EllipseNode),Ut={type:"ellipse",view:Ht,model:Ft},Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xt.apply(this,arguments)};function Yt(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,o=void 0===r?1:r,i=e.strokeOpacity,a=void 0===i?1:i,c=e.fill,u=void 0===c?"transparent":c,s=e.stroke,f=void 0===s?"#000":s,p=e.points,d=e.className,h={fill:u,fillOpacity:n,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(l.h)("polygon",Xt({},h))}var Vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(){return Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wt.apply(this,arguments)},Kt=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}return Vt(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t}(l.DiamondNodeModel),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vt(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(l.h)(It,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return Object(l.h)("g",null,Object(l.h)(Yt,Wt({},n,{points:t})))},t.prototype.getShape=function(){var e=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(),e?this.getControlGroup():"")},t}(l.DiamondNode),qt={type:"diamond",view:Zt,model:Kt},Jt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return Jt(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t}(l.HtmlNodeModel),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jt(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(l.h)(It,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(),e?this.getControlGroup():"")},t}(l.HtmlNode),en={type:"html",view:$t,model:Qt},tn={pluginName:"nodeResize",step:0,install:function(e){e.register({type:Bt.type,view:Bt.view,model:Bt.model}),e.register({type:Ut.type,view:Ut.view,model:Ut.model}),e.register({type:qt.type,view:qt.view,model:qt.model}),e.register({type:en.type,view:en.view,model:en.model})}},nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rn.apply(this,arguments)},on=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},an=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(on(arguments[t]));return e},cn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.unfoldedWidth=500,t.unfoldedHight=300,t}return nn(t,e),t.prototype.initNodeData=function(t){var n=this;e.prototype.initNodeData.call(this,t);var r=[];Array.isArray(t.children)&&(r=t.children),this.children=new Set(r),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},t.prototype.getResizeOutlineStyle=function(){var t=e.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},t.prototype.foldGroup=function(e){var t=this;this.setProperty("isFolded",e),this.isFolded=e,e?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=t.graphModel.getElement(r);o.visible=!e,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(e,n)},t.prototype.getAnchorStyle=function(t){var n=e.prototype.getAnchorStyle.call(this,t);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},t.prototype.foldEdge=function(e,t){var n=this;t.forEach((function(t,r){var o=t.id,i=t.sourceNodeId,a=t.targetNodeId,c=t.startPoint,u=t.endPoint,s=t.type,l=t.properties,f=t.text,p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:c,endPoint:u,type:s,properties:l,text:null===f||void 0===f?void 0:f.value};t.virtual&&n.graphModel.deleteEdgeById(t.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),e&&!1!==t.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),t.visible=!1),e||!1!==t.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):t.visible=!0)}))},t.prototype.createVirtualEdge=function(e){e.pointsList=void 0;var t=this.graphModel.addEdge(e);t.virtual=!0,t.getData=function(){return null},t.text.editable=!1,t.isFoldedEdge=!0},t.prototype.isInRange=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return t>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return{x:t>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(e){this.setProperty("groupAddable",e)},t.prototype.addChild=function(e){this.children.add(e)},t.prototype.removeChild=function(e){this.children.delete(e)},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var t=e.prototype.getData.call(this);t.children=an(this.children);var n=t.properties;return delete n.groupAddable,delete n.isFolded,t},t.prototype.getHistoryData=function(){var t=e.prototype.getData.call(this);t.children=an(this.children);var n=t.properties;return delete n.groupAddable,n.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHight/2-this.foldedHeight/2),t},t}(Bt.model),un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nn(t,e),t.prototype.getControlGroup=function(){var t=this.props.model,n=t.resizable,r=t.properties;return n&&!r.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddedableShape=function(){var e=this.props.model,t=e.width,n=e.height,r=e.x,o=e.y,i=e.radius;if(!e.properties.groupAddable)return null;var a=this.props.model.getNodeStyle().strokeWidth,c=this.props.model.getAddableOutlineStyle(),u=t+a+8,s=n+a+8;return Object(l.h)("rect",rn(rn({},c),{width:u,height:s,x:r-u/2,y:o-s/2,rx:i,ry:i}))},t.prototype.getFoldIcon=function(){var e=this.props.model,t=e.x-e.width/2+5,n=e.y-e.height/2+5;if(!e.foldable)return null;var r=Object(l.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:e.properties.isFolded?"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" M"+(t+7)+","+(n+2)+" "+(t+7)+","+(n+10):"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" "});return Object(l.h)("g",{},[Object(l.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e.x-e.width/2+5,y:e.y-e.height/2+5,onClick:function(){e.foldGroup(!e.properties.isFolded)}}),r])},t.prototype.getResizeShape=function(){return Object(l.h)("g",{},[this.getAddedableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t}(Bt.view),sn={type:"group",view:un,model:cn},ln=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},fn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ln(arguments[t]));return e},pn=(function(){function e(e){var t=this,n=e.lf;this.nodeGroupMap=new Map,this.graphRendered=function(e){e&&e.nodes&&e.nodes.forEach((function(e){e.children&&e.children.forEach((function(n){t.nodeGroupMap.set(n,e.id)}))}))},this.appendNodeToGrop=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModelById(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=t.lf.getNodeModelById(n.id).getBounds(),a=t.getGroup(i);a&&(n.id!==a.id?(a.addChild(n.id),t.nodeGroupMap.set(n.id,a.id),a.setAllowAppendChild(!1)):n.children&&n.children.length>0&&n.children.forEach((function(e){t.nodeGroupMap.set(e,n.id)})))},this.deleteGroupChild=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);r&&(t.lf.getNodeModelById(r).removeChild(n.id),t.nodeGroupMap.delete(n.id))},this.setActiveGroup=function(e){var n=e.data,r=t.lf.getNodeModelById(n.id);if(!r.isGroup){var o=r.getBounds(),i=t.getGroup(o);(i||i!==t.activeGroup)&&(t.activeGroup&&t.activeGroup.setAllowAppendChild(!1),i&&(t.activeGroup=i,t.activeGroup.setAllowAppendChild(!0)))}},n.register(sn),this.lf=n,n.graphModel.addNodeMoveRules((function(e,r,o){if(e.isGroup)return n.graphModel.moveNodes(fn(e.children),r,o,!0),!0;var i=n.getNodeModelById(t.nodeGroupMap.get(e.id));if(i&&i.isRestrict){var a=e.getBounds(),c=a.x1,u=a.y1,s=a.x2,l=a.y2;return i.isAllowMoveTo({x1:c+r,y1:u+o,x2:s+r,y2:l+o})}return!0})),n.graphModel.group=this,n.on("node:add",this.appendNodeToGrop),n.on("node:delete",this.deleteGroupChild),n.on("node:drop",this.appendNodeToGrop),n.on("node:dnd-drag",this.setActiveGroup),n.on("node:drag",this.setActiveGroup),n.on("graph:rendered",this.graphRendered)}e.prototype.getGroup=function(e){for(var t=this.lf.graphModel.nodes,n=0;n<t.length;n++){var r=t[n];if(r.isGroup&&r.isInRange(e))return r}},e.prototype.getNodeGroup=function(e){var t=this.nodeGroupMap.get(e);if(t)return this.lf.getNodeModelById(t)},e.pluginName="group"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}),dn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pn(arguments[t]));return e},hn=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){return{routeId:e.routeId,name:e.name,elements:e.elements,type:e.type,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){n.get(e.sourceNodeId).nextNodes.push(e.targetNodeId)}));var o=[];return r.forEach((function(t){o=o.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=dn(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),c=void 0,u=r.indexOf(a.id);c=-1!==u?[dn(r.slice(u),[a.id])]:this.findPathElements(a,t,dn(r)),o=o.concat(c)}return o},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId("\u8def\u5f84"),a=t.isLoopPath(e),c=e.join(",");r.has(c)||(r.add(c),n.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n],i=t.similar2Path(dn(e.elements),dn(r.elements));i>e.weight&&r.weight<=i&&(e.weight=i,e.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=i))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();for(var o=e.shift(),i=t.shift();void 0!==o&&void 0!==i;)o===i?(n++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+D()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="flowPath"}(),function(){return hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hn.apply(this,arguments)}),yn=-1,vn=0,gn=1,bn=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.trunk=[],n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=this,r=[];t.forEach((function(e){var t=e.elements;t.length>r.length?r=t:t.length===r.length&&JSON.stringify(t)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var o=this.formatData(e),i={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],o,i,a,1);this.lf.graphModel.graphDataToModel(i)},e.prototype.setNodePosition=function(e,t,n,r,o){var i=this,a=t[e],c=a.text,u=a.type,s=a.next,l=a.properties,f=160*r+40,p=120*o,d={id:e,x:f,text:c,y:p,type:u,properties:l};return c&&"object"===typeof c&&(d.text=hn(hn({},c),{x:f+c.x,y:p+c.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),s&&s.length>0&&s.forEach((function(o){if(!t[o.nodeId].isFixed){var a=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,t,n,r+1,a+1)}n.edges.push(hn({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,c=this.getShape(t),u=c.width,s=c.height,l=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(l){case vn:f.x=n.x+i/2,p.x=r.x-u/2;break;case yn:f.y=n.y+a/2,p.x=r.x-u/2;break;case gn:f.x=n.x+i/2,p.y=r.y+s/2}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var n=e.y,r=t.y;return n<r?-1:n===r?0:1},e.prototype.getShape=function(e){var t=this.lf.getNodeModelById(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:n,properties:r,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=e.id,i=e.properties,a=e.text,c=a;"object"===typeof a&&(c=a.value),t[n].next.push({edgeId:o,nodeId:r,edgeType:e.type,properties:i,text:c}),t[r].prev.push({edgeId:o,nodeId:n,properties:i,text:c})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0},e.pluginName="AutoLayout"}(),{stopScrollGraph:!0,stopZoomGraph:!0}),mn={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function On(e){var t=e.lf;return t&&t.on("selection:selected",(function(){t.updateEditConfig({stopMoveGraph:!1})})),Object(y.jsxs)("div",{className:"pattern",children:[Object(y.jsx)("div",{className:"pattern-selection",onMouseDown:function(){t.updateEditConfig({stopMoveGraph:!0})}}),Object(y.jsx)("div",{children:"\u9009\u533a"}),Object(y.jsx)("div",{className:"pattern-start",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(y.jsx)("div",{children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:userTask"})}}),Object(y.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(y.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-condition",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(y.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(y.jsx)("div",{className:"pattern-end",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(y.jsx)("div",{children:"\u7ed3\u675f"})]})}var xn=n(235).default,jn=n(236).default,wn=n(237).default;function _n(e){var t=e.lf;function n(){!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.xml",t.getGraphData())}return Object(y.jsxs)("div",{className:"graph-io",children:[Object(y.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return n()},children:Object(y.jsx)("img",{src:xn,alt:"\u4e0b\u8f7dXML"})}),Object(y.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){e.lf.getSnapshot()},children:Object(y.jsx)("img",{src:jn,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(y.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(y.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var n=e.target.files[0],r=new FileReader;r.onload=function(e){if(e.target){var n=e.target.result;t.render(n)}},r.readAsText(n)}(e)}}),Object(y.jsx)("img",{src:wn,alt:"\u4e0a\u4f20XML"})]})]})}n(238),n(94);var En={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},Sn=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).lf=void 0,r.state={rendered:!0},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){f.a.use(be),f.a.use(Ce),f.a.use(me),f.a.use(nt),f.a.use(st),f.a.use(dt);var e=new f.a(Object(s.a)(Object(s.a)({},En),{},{container:document.querySelector("#graph")}));e.render(),this.lf=e,this.setState({rendered:!0})}},{key:"render",value:function(){var e;return this.state.rendered&&(e=Object(y.jsxs)("div",{children:[Object(y.jsx)(On,{lf:this.lf}),Object(y.jsx)(_n,{lf:this.lf})]})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{children:Object(y.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(y.jsx)(d.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(y.jsxs)("div",{className:"bpmn-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),e]})]})}}]),n}(r.Component),Pn=(n(239),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),An={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var Nn={stopScrollGraph:!0,stopZoomGraph:!0},Mn={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var kn={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},Dn={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var Tn={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},Cn={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"LogicFlow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var In={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},Rn={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var Ln,zn=n(261),Bn={stopScrollGraph:!0,stopZoomGraph:!0},Gn={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},Fn={display:"flex",alignItems:"center"};var Hn={stopScrollGraph:!0,stopZoomGraph:!0};var Un=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){var e=this;this.fill="red",this.menu=[{text:"\u81ea\u5b9a\u4e49\u5143\u7d20\u83dc\u5355",icon:!0,className:"custom-menu",callback:function(t){e.graphModel.eventCenter.emit("custom:node:event",t)}}]}}]),n}(l.CircleNodeModel),Xn={type:"custom:circle",model:Un,view:l.CircleNode},Yn=(n(240),{stopScrollGraph:!0,stopZoomGraph:!0}),Vn={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"},{id:11,type:"circle",x:550,y:150,text:"\u5355\u4e00\u7c7b\u578b\u83dc\u5355"},{id:12,type:"custom:circle",x:200,y:200,text:"\u4e1a\u52a1\u72b6\u6001\u83dc\u5355"}],edges:[{type:"bezier",text:"\u8fde\u63a5",sourceNodeId:10,targetNodeId:11}]};var Wn={stopScrollGraph:!0,stopZoomGraph:!0};var Kn,Zn=n(259),qn={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},Jn={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};n(241);var Qn,$n={stopScrollGraph:!0,stopZoomGraph:!0},er={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var tr,nr={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},rr={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var or=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function ir(e){return Object(y.jsx)("div",{className:"panel",children:or.map((function(t,n){var r=t.type,o=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){!function(t){e.lf.dnd.startDrag(t)}(t)}}),Object(y.jsx)("span",{children:o})]},n)}))})}var ar={pluginName:"dnd",install:function(){},render:function(e,t){i.a.render(Object(y.jsx)(ir,{lf:e}),t)}},cr={stopScrollGraph:!0,stopZoomGraph:!0};var ur,sr=n(86),lr=n(52),fr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){return Object(m.a)(this,n),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35},t.call(this,e,r)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.rx=20,this.ry=20}},{key:"getConnectedTargetRules",value:function(){var e=Object(sr.a)(Object(lr.a)(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),e}}]),n}(Ut.model),pr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return n}(Ut.view),dr={type:"bpmn:startEvent",view:pr,model:fr},hr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){return Object(m.a)(this,n),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+40},t.call(this,e,r)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.rx=25,this.ry=25}}]),n}(qt.model),yr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getResizeShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.points,o=this.props.model.getNodeStyle(),i=r.map((function(e){return e.join(",")})).join(" ");return Object(l.h)("g",{},Object(l.h)("polygon",Object(s.a)(Object(s.a)({},o),{},{points:i})),Object(l.h)("path",Object(s.a)(Object(s.a)({},o),{},{transform:"matrix(1 0 0 1 ".concat(t-25," ").concat(n-25,")"),d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"})))}}]),n}(qt.view),vr={type:"bpmn:exclusiveGateway",view:yr,model:hr},gr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.width=100,this.height=80,this.radius=10}}]),n}(Bt.model),br=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getResizeShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=this.props.model.getNodeStyle(),c=Object(s.a)(Object(s.a)({},a),{},{x:t-r/2,y:n-o/2,width:r,height:o,rx:i,ry:i});return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},c)),Object(l.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))])}}]),n}(Bt.view),mr={type:"bpmn:userTask",view:br,model:gr},Or=(n(242),{background:{color:"#f7f9ff"},grid:{type:"dot",size:5,visible:!1},keyboard:{enabled:!0}}),xr={nodes:[{id:10,type:"rect",x:100,y:100},{id:20,type:"rect",x:400,y:100}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},jr={display:"flex",alignItems:"center"};var wr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(e,t){return"circle"===t.type}})}}]),n}(l.RectNodeModel),_r=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.properties,o=e.width,i=e.height,a=this.props.model.getNodeStyle(),c=a.fill,u=a.stroke,f={x:t-o/2,y:n-i/2,width:o,height:i,stroke:u,fill:c,strokeWidth:a.strokeWidth},p=Object(l.h)("svg",{x:t-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:u,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),r.isUser?p:null])}}]),n}(l.RectNode),Er={type:"square",view:_r,model:wr},Sr={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Pr={nodes:[{id:"10",type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f621"}]};var Ar=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getDefaultAnchor",value:function(){return[]}}]),n}(l.CircleNodeModel),Nr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return n}(l.CircleNode),Mr={type:"circle:anchor",view:Nr,model:Ar},kr={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Dr={nodes:[{id:10,type:"square",x:150,y:90,text:"\u53ea\u6709\u4e24\u4e2a\u951a\u70b9"},{type:"circle:anchor",x:350,y:90,text:"\u5706"}]};var Tr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),n}(l.PolygonNodeModel),Cr={type:"triangle",view:l.PolygonNode,model:Tr},Ir={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},Rr={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var Lr={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},zr={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var Br={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},Gr={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};n(136);var Fr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=130,this.anchorsOffset=[[100,0],[0,65],[-100,0],[0,-65]]}}]),n}(l.HtmlNodeModel),Hr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currrentProperties=void 0,e}return Object(O.a)(n,[{key:"setHtml",value:function(e){var t=this.props.model.properties,n=document.createElement("div");n.className="uml-wrapper";var r='\n      <div>\n        <div class="uml-head">Head</div>\n        <div class="uml-body">\n          <div>+ '.concat(t.name,"</div>\n          <div>+ ").concat(t.body,'</div>\n        </div>\n        <div class="uml-footer">\n          <div>+ setHead(Head $head)</div>\n          <div>+ setBody(Body $body)</div>\n        </div>\n      </div>\n    ');n.innerHTML=r,e.innerHTML="",e.appendChild(n)}}]),n}(l.HtmlNode),Ur={type:"uml",view:Hr,model:Fr};function Xr(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:"box-title",children:"title"}),Object(y.jsxs)("div",{className:"box-content",children:[Object(y.jsx)("p",{children:e.name}),Object(y.jsx)("p",{children:e.body}),Object(y.jsx)("p",{children:"content3"})]})]})}var Yr,Vr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=116,this.anchorsOffset=[[100,0],[0,58],[-100,0],[0,-58]]}}]),n}(l.HtmlNodeModel),Wr=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setHtml",value:function(e){var t=this.props.model.properties;i.a.render(Object(y.jsx)(Xr,{name:t.name,body:t.body}),e)}}]),n}(l.HtmlNode),Kr={type:"boxx",view:Wr,model:Vr},Zr={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},qr={nodes:[{id:10,type:"uml",x:150,y:90,properties:{name:"logicflow",body:"hello"}},{id:11,type:"boxx",x:350,y:100,properties:{name:"turbo",body:"hello"}}]};var Jr={stopScrollGraph:!0,stopZoomGraph:!0},Qr={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var $r,eo={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},to={nodes:[{id:"10",type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:"20",type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:"10",targetNodeId:"20",text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var no=n(148),ro=n(257),oo=n(255),io=n(258),ao=n(152),co=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],uo=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],so={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};n(243);function lo(e,t,n){var r;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(y.jsxs)(oo.a,{layout:"inline",initialValues:e.properties,onValuesChange:function(n,r){uo.forEach((function(e){e.value===n.approveType&&(n.approveTypeLabel=e.label)})),t(e.id,n)},children:[Object(y.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(y.jsx)("span",{children:e.type})]}),Object(y.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(y.jsx)("span",{children:null===(r=e.text)||void 0===r?void 0:r.value})]}),"approver"===e.type?function(){var e=[];return uo.forEach((function(t){e.push(Object(y.jsx)(ro.a.Option,{value:t.value,children:t.label}))})),Object(y.jsx)(oo.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(y.jsx)(ro.a,{children:e})})}():"","jugement"===e.type?Object(y.jsx)(oo.a.Item,{label:"API",name:"api",children:Object(y.jsx)(io.a,{})}):""]},e.id),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"......"}),Object(y.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(y.jsx)("div",{className:"property-panel-footer",children:Object(y.jsx)(d.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(y.jsx)(ao.a,{}),onClick:n,children:"\u6536\u8d77"})})]})}function fo(e){return function(){var t=[];return co.forEach((function(n,r){t.push(Object(y.jsxs)("div",{className:"approve-node node-".concat(n.type),children:[Object(y.jsx)("div",{className:"node-shape",style:Object(s.a)({},n.style),onMouseDown:function(){return function(t){e.dnd.startDrag({type:t.type,text:t.label})}(n)}}),Object(y.jsx)("div",{className:"node-label",children:n.label})]},r))})),t}()}n(245);var po={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var ho={0:"grey",1:"green",2:"red"};var yo=n(254),vo=n(112),go=n(63),bo={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},mo={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function Oo(e,t){return Object(y.jsx)("div",{className:"hover-panel",style:Object(s.a)({},e),children:function(e){if(e){var n=t.properties;return Object(y.jsxs)(yo.a,{title:bo[t.type],style:{width:300},children:[Object(y.jsxs)("p",{children:[n.usernameZh,n.username?Object(y.jsxs)("span",{children:["(",n.username,")"]}):""]}),Object(y.jsx)("p",{children:n.time}),n.result?Object(y.jsxs)("p",{children:["\u901a\u8fc7"===n.result?Object(y.jsx)(vo.a,{style:{color:"green"}}):Object(y.jsx)(go.a,{style:{color:"red"}}),Object(y.jsx)("span",{style:{marginLeft:"10px"},children:n.result})]}):"",n.desc?Object(y.jsxs)("p",{children:["\u8bf4\u660e: ",n.desc]}):""]})}}(t)})}n(246);var xo={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var jo={stopScrollGraph:!0,stopZoomGraph:!0},wo={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var _o,Eo=n(262),So=(n(247),[{type:"rect",label:"\u77e9\u5f62",className:"adpter-shape adpter-rect"},{type:"circle",label:"\u5706\u5f62",className:"adpter-shape adpter-circle"}]);n(248);var Po,Ao={grid:{type:"dot",size:20}},No={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},Mo={display:"flex",alignItems:"center"};var ko=Object(y.jsxs)(u.c,{children:[Object(y.jsx)(u.a,{path:"/basic/node",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},A),{},{container:document.querySelector("#graph")})).render(N)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/basic/node/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/edge",exact:!0,component:function(){var e=Object(r.useState)("\u6298\u7ebf"),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(),a=Object(c.a)(i,2),u=a[0],l=a[1];Object(r.useEffect)((function(){f.a.use(Ot);var e=new f.a(Object(s.a)(Object(s.a)({},bn),{},{container:document.querySelector("#graph")}));e.render(mn),l(e)}),[]);var p=function(e,t){u.setDefaultEdgeType(e),o(t)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf",githubPath:"/basic/edge/index.tsx"}),Object(y.jsxs)("div",{children:["\u5f53\u524d\uff1a",n]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){return p("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/dnd",exact:!0,component:_}),Object(y.jsx)(u.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},Pn),{},{container:document.querySelector("#graph")})).render(An)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/keyboard/index.tsx",children:[Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/grid",exact:!0,component:P}),Object(y.jsx)(u.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(nt),new f.a(Object(s.a)(Object(s.a)({},Nn),{},{container:document.querySelector("#graph")})).render(Mn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500",githubPath:"/basic/redoundo/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},kn),{},{container:document.querySelector("#graph")})).render(Dn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50",githubPath:"/basic/snapline/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},Tn),{},{container:document.querySelector("#graph")})).render(Cn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91",githubPath:"/basic/silent-mode/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/theme",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},In),{},{container:document.querySelector("#graph")})).render(Rn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/theme/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/event",exact:!0,component:function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),a=Object(c.a)(i,2),u=a[0],l=a[1];return Object(r.useEffect)((function(){var e,t;$r=new f.a(Object(s.a)(Object(s.a)({},eo),{},{container:document.querySelector("#graph")})),t=function(e){var t=e.data,n=e.e;o(n.type),l(t.type)},(e=$r).on("node:mousedown",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mouseup",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mousemove",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:click",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:dbclick",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),$r.render(to)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/advance/event/index.tsx",children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",n?"".concat(n,"-").concat(u):""]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Sr),{},{container:document.querySelector("#graph")}));e.register(Er),e.render(Pr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",githubPath:"/advance/custom-node/style/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){var e=Object(r.useRef)();return Object(r.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},kr),{},{container:e.current}));t.register(Er),t.register(Mr),t.render(Dr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",githubPath:"/advance/custom-node/anchor/index.tsx"}),Object(y.jsx)("div",{ref:e,className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Ir),{},{container:document.querySelector("#graph")}));e.register(Cr),e.render(Rr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",githubPath:"/advance/custom-node/triangle/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Lr),{},{container:document.querySelector("#graph")}));e.register(Er),e.render(zr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",githubPath:"/advance/custom-node/rule/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Br),{},{container:document.querySelector("#graph")}));e.register(Er),e.render(Gr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",githubPath:"/advance/custom-node/shape/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Jr),{},{container:document.querySelector("#graph")})),t=function(){var e=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),n}(l.LineEdgeModel);return{type:"process",view:l.LineEdge,model:e}}();e.register(t),e.render(Qr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/custom-edge/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/html",exact:!0,component:function(){return Object(r.useEffect)((function(){(Yr=new f.a(Object(s.a)(Object(s.a)({},Zr),{},{container:document.querySelector("#graph_html")}))).register(Ur),Yr.register(Kr),Yr.render(qr),Yr.on("node:click",(function(e){var t=e.data;Yr.setProperties(t.id,{name:"turbo",body:Math.random()})}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",githubPath:"/advance/custom-node/html/index.tsx"}),Object(y.jsx)("div",{id:"graph_html",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(me),(Ln=new f.a(Object(s.a)(Object(s.a)({},Bn),{},{container:document.querySelector("#graph")}))).render(Gn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{contentStyle:Fn,githubPath:"/extension/snapshot/index.tsx",children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(zn.a,{}),onClick:function(){Ln.getSnapshot()}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(nt),new f.a(Object(s.a)(Object(s.a)({},Hn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/control/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(st);var e=new f.a(Object(s.a)(Object(s.a)({},Yn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.register(Xn),e.setMenuByType({type:"circle",menu:[{text:"\u5706\u7684\u83dc\u5355",callback:function(){alert("callback")}}]}),e.render(Vn),e.on("custom:node:event",(function(e){console.log(e),alert("\u63a5\u6536\u5230\u81ea\u5b9a\u4e49\u8282\u70b9\u83dc\u5355\u89e6\u53d1\u4e8b\u4ef6")}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",githubPath:"/extension/components/menu/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(pt),f.a.use(dt);var e=new f.a(Object(s.a)(Object(s.a)({},Wn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.extension.dndPanel.setPatternItems([{label:"\u9009\u533a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:function(){e.openSelectionSelect(),e.once("selection:selected",(function(){e.closeSelectionSelect()}))}},{type:"circle",text:"\u5f00\u59cb",label:"\u5f00\u59cb\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"\u7528\u6237\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"\u7cfb\u7edf\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"\u6761\u4ef6\u5224\u65ad",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ed3\u675f",label:"\u7ed3\u675f\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),e.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/dnd-panel/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/selection",exact:!0,component:function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){f.a.use(dt),(Kn=new f.a(Object(s.a)(Object(s.a)({},qn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).render(Jn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",githubPath:"/extension/components/selection/index.tsx",children:Object(y.jsx)(Zn.a,{defaultChecked:!0,onChange:function(){n?Kn.extension.selectionSelect.closeSelectionSelect():Kn.extension.selectionSelect.openSelectionSelect(),o(!n)}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){f.a.use(yt),(Qn=new f.a(Object(s.a)(Object(s.a)({},$n),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).render(er)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u663e\u793a mini-map",githubPath:"/extension/components/mini-map/index.tsx",children:Object(y.jsx)(Zn.a,{onChange:function(){n?(Qn.extension.miniMap.hide(),o(!1)):(Qn.extension.miniMap.show(),o(!0))}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(st),(tr=new f.a(Object(s.a)(Object(s.a)({},nr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).extension.menu.addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8282\u70b9id\uff1a".concat(e.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(e.x,", y: ").concat(e.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8fb9id\uff1a".concat(e.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(e.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(e.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),tr.render(rr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(ar),new f.a(Object(s.a)(Object(s.a)({},cr),{},{container:document.querySelector("#graph")})).render()}),[]),Object(y.jsx)("div",{id:"graph",className:"viewport"})}}),Object(y.jsx)(u.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(be);var e=new f.a(Object(s.a)(Object(s.a)({},jo),{},{container:document.querySelector("#graph")}));window.lf=e,e.render(wo)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/bpmn/Elements.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Te),f.a.use(nt),f.a.use(pt),(_o=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).extension.dndPanel.setPatternItems(So),_o.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/extension/adapter/index.tsx",children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(Eo.a,{}),onClick:function(){var e=_o.getGraphData();!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.json",JSON.stringify(e))}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/node-resize",exact:!0,component:function(){Object(r.useEffect)((function(){f.a.use(tn),(ur=new f.a(Object(s.a)(Object(s.a)({},Or),{},{container:document.querySelector("#graph")}))).setTheme({rect:{strokeWidth:2,outlineColor:"transparent",stroke:"blue"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),ur.register(dr),ur.register(vr),ur.register(mr),ur.render(xr),ur.on("node:resize",(function(e){var t=e.newNodeSize,n=t.id,r=t.type;if("bpmn:exclusiveGateway"===r||"bpmn:startEvent"===r){var o=t.ry;ur.getNodeModelById(n).moveText(0,o+10)}}))}),[]);var e=function(e){ur.dnd.startDrag({type:e})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:jr,githubPath:"/extension/NodeResize/index.tsx",children:"\u8282\u70b9\u7f29\u653e"}),Object(y.jsxs)("div",{className:"node-resize-list",children:[Object(y.jsx)("div",{children:"\u62d6\u62fd\u6dfb\u52a0\u8282\u70b9"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:userTask")},children:"\u7528\u6237"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:startEvent")},children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:exclusiveGateway")},children:"\u5224\u65ad"}),Object(y.jsx)("div",{className:"node-resize-rect",onMouseDown:function(){return e("rect")}}),Object(y.jsx)("div",{className:"node-resize-ellipse",onMouseDown:function(){return e("ellipse")}}),Object(y.jsx)("div",{className:"node-resize-diamond",onMouseDown:function(){return e("diamond")}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/InserNodeInPolyline",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use($e),f.a.use(pt),f.a.use(dt),(Po=new f.a(Object(s.a)(Object(s.a)({},Ao),{},{container:document.querySelector("#graph")}))).extension.dndPanel.setPatternItems([{type:"circle",label:"\u5706\u5f62",className:"circle"},{type:"rect",label:"\u77e9\u5f62",className:"rect"}]),Po.render(No)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:Mo,children:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165\uff1a"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/usage/bpmn",exact:!0,component:Sn}),Object(y.jsx)(u.a,{path:"/usage/approve",exact:!0,component:function(){var e=Object(r.useState)({}),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(),a=Object(c.a)(i,2),u=a[0],p=a[1];Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},po),{},{container:document.querySelector("#graph")}));o(e),function(e){var t=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedTargetRules",value:function(){var e=Object(sr.a)(Object(lr.a)(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(e,t){var n=!0;return t&&(n=!1),n}}),e}}]),n}(l.CircleNodeModel);e.register({type:"apply",view:l.CircleNode,model:t});var n=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.properties,a=i.labelColor,c=i.approveTypeLabel;return Object(l.h)("text",{fill:a,fontSize:12,x:t-r/2+5,y:n-o/2+15,width:50,height:25},c)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=this.props.model.getNodeStyle();return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)(Object(s.a)({},a),{},{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}]),n}(l.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return n}(l.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return n}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedSourceRules",value:function(){var e=Object(sr.a)(Object(lr.a)(n.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e){var t=!0;return e&&(t=!1),t}}),e}}]),n}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i})}(e),e.render(so),d(e)}),[]);var d=function(e){e.on("element:click",(function(t){var n=t.data;p(n),console.log(JSON.stringify(e.getGraphData()))})),e.on("connection:not-allowed",(function(e){no.b.error(e.msg)}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{className:"node-panel",children:fo(n)}),Object(y.jsx)("div",{id:"graph",className:"viewport"}),u?Object(y.jsx)("div",{className:"property-panel",children:lo(u,(function(e,t){var r=n.graphModel.nodesMap[e],o=n.graphModel.edgesMap[e];r?r.model.setProperties(Object.assign(r.model.properties,t)):o&&o.model.setProperties(Object.assign(o.model.properties,t))}),(function(){p(void 0)}))}):""]})}}),Object(y.jsx)(u.a,{path:"/usage/approve/preview",exact:!0,component:function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(Boolean),a=Object(c.a)(i,2),u=a[0],p=a[1],d=Object(r.useState)({}),h=Object(c.a)(d,2),v=h[0],g=h[1];Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},xo),{},{container:document.querySelector("#graph")}));!function(e){var t=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=ho[i.status],o}return n}(l.CircleNodeModel);e.register({type:"apply",model:t,view:l.CircleNode});var n=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.properties,a=i.labelColor,c=i.approveTypeLabel;return Object(l.h)("text",{fill:a,fontSize:12,x:t-r/2+5,y:n-o/2+15,width:50,height:25},c)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=this.props.model.getNodeStyle();return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)(Object(s.a)({},a),{},{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])}}]),n}(l.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=ho[i.status],o}return n}(l.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]];var i=e.properties;return o.stroke=ho[i.status],o.properties={api:""},o}return n}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=ho[i.status],o}return n}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i});var a=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=ho[i.status],o.hoverStroke=ho[i.status],o.selectedStroke=ho[i.status],o}return n}(l.PolylineEdgeModel);e.register({type:"action",view:l.PolylineEdge,model:a})}(e),e.render(mo),b(e)}),[]);var b=function(e){e.on("node:mouseenter",(function(e){var t=e.e,n=e.data;o(n),p(!0),n.id?g({top:t.clientY,left:t.clientX}):g({display:"none"})})),e.on("node:mouseleave",(function(){o(void 0),p(!0)})),e.on("blank:mousemove",(function(e){var t=e.e;g({top:t.clientY,left:t.clientX})}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),u?Oo(v,n):""]})}}),Object(y.jsx)(u.a,{path:"/",component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},g),{},{metaKeyMultipleSelected:!0,container:document.querySelector("#container")})).render(b)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/start/index.tsx"}),Object(y.jsx)("div",{id:"container",className:"viewport"})]})}})]}),Do=(n(252),n(256)),To={"/basic/node":{name:"\u8282\u70b9 Node",group:"basic",hidden:!1},"/basic/edge":{name:"\u8fb9 Edge",group:"basic",hidden:!1},"/basic/dnd":{name:"\u62d6\u62fd Dnd",group:"basic",hidden:!1},"/basic/keyboard":{name:"\u952e\u76d8\u5feb\u6377\u952e Keyboard",group:"basic",hidden:!1},"/basic/grid":{name:"\u7f51\u683c Grid",group:"basic",hidden:!1},"/basic/redoundo":{name:"\u64a4\u9500/\u91cd\u505a Undo/Redo",group:"basic",hidden:!1},"/basic/snapline":{name:"\u5bf9\u9f50\u7ebf Snapline",group:"basic",hidden:!1},"/basic/silent-mode":{name:"\u9759\u9ed8\u6a21\u5f0f",group:"basic",hidden:!1},"/advance/theme":{name:"\u4e3b\u9898\u6837\u5f0f",group:"advance",hidden:!1},"/advance/event":{name:"\u4e8b\u4ef6 Event",group:"advance",hidden:!1},"/advance/custom-node/style":{name:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",group:"advance.custom-node",hidden:!1},"/advance/custom-node/anchor":{name:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",group:"advance.custom-node",hidden:!1},"/advance/custom-node/triangle":{name:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",group:"advance.custom-node",hidden:!1},"/advance/custom-node/rule":{name:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",group:"advance.custom-node",hidden:!1},"/advance/custom-node/shape":{name:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",group:"advance.custom-node",hidden:!1},"/advance/custom-edge/process":{name:"\u6d41\u7a0b\u56fe",group:"advance.custom-edge",hidden:!1},"/advance/custom-node/html":{name:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",group:"advance.custom-node",hidden:!1},"/extension/snapshot":{name:"\u5bfc\u51fa\u56fe\u7247",group:"extension",hidden:!1},"/extension/components/control":{name:"\u63a7\u5236\u680f",group:"extension.components",hidden:!1},"/extension/components/menu":{name:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",group:"extension.components",hidden:!1},"/extension/components/dnd-panel":{name:"\u6570\u636e\u9762\u677f",group:"extension.components",hidden:!1},"/extension/components/selection":{name:"\u5f00\u542f\u591a\u9009\u529f\u80fd",group:"extension.components",hidden:!1},"/extension/components/mini-map":{name:"\u7f29\u7565\u56fe",group:"extension.components",hidden:!1},"/extension/components/custom-menu":{name:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355",group:"extension.components",hidden:!1},"/extension/components/custom-dnd":{name:"\u81ea\u5b9a\u4e49\u62d6\u62fd\u5143\u7d20",group:"extension.components",hidden:!1},"/extension/bpmn-elements":{name:"bpmn\u5143\u7d20",group:"extension",hidden:!1},"/extension/adapter":{name:"\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f",group:"extension",hidden:!1},"/extension/node-resize":{name:"\u8282\u70b9\u7f29\u653e",group:"extension",hidden:!1},"/extension/InserNodeInPolyline":{name:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165",group:"extension",hidden:!1},"/usage/bpmn":{name:"Bpmn\u793a\u4f8b",group:"usage",hidden:!1},"/usage/approve":{name:"\u5ba1\u6279\u6d41",group:"usage",hidden:!1},"/usage/approve/preview":{name:"\u9884\u89c8",group:"usage",hidden:!1},"/":{name:"\u5165\u95e8",group:"root",hidden:!1}},Co={basic:"\u57fa\u7840",advance:"\u8fdb\u9636","custom-node":"\u81ea\u5b9a\u4e49\u8282\u70b9","custom-edge":"\u81ea\u5b9a\u4e49\u8fde\u7ebf",extension:"\u62d3\u5c55",components:"\u7ec4\u4ef6",usage:"\u4f7f\u7528"},Io=Do.a.SubMenu,Ro=ko.props.children.map((function(e){var t=e.props.path;return{name:t,path:t}}));var Lo=function(){var e=Object(u.f)(),t=function(){var e=[];return Ro.forEach((function(t){var n,r=t.path,o=null!==(n=To[r])&&void 0!==n?n:{},i=o.name,a=o.group,u=a.split("."),s=Object(c.a)(u,1)[0];if("root"!==s){var l=e.findIndex((function(e){return e.key===s}));if(-1===l){var f,p=null!==(f=Co[s])&&void 0!==f?f:"";e.push({key:s,children:Object(y.jsx)(Io,{title:p,children:[Object(y.jsx)(Do.a.Item,{title:i,children:i},r)]},s)})}else e[l].children.props.children.push(Object(y.jsx)(Do.a.Item,{title:i,children:i},r))}else e.push({key:a,children:Object(y.jsx)(Do.a.Item,{title:i,children:i},r)})})),e}(),n=-1!==Object(u.g)().search.indexOf("from=doc");return Object(y.jsxs)("div",{className:"App",children:[n?"":Object(y.jsx)(Do.a,{mode:"inline",style:{flexShrink:0,width:300},onClick:function(t){return e.push(t.key)},children:t.map((function(e){return e.children}))}),Object(y.jsx)("div",{className:"container",children:ko})]})},zo=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,263)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};i.a.render(Object(y.jsx)("div",{children:Object(y.jsx)(a.a,{children:Object(y.jsx)(Lo,{})})}),document.getElementById("root")),zo()},5:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=215)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return tn})),n.d(t,"c",(function(){return Ue})),n.d(t,"d",(function(){return we})),n.d(t,"e",(function(){return he})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return je})),n.d(t,"h",(function(){return yn})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return xe})),n.d(t,"k",(function(){return $e})),n.d(t,"l",(function(){return rt})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return st})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return St})),n.d(t,"q",(function(){return lt})),n.d(t,"r",(function(){return gt})),n.d(t,"s",(function(){return hn})),n.d(t,"t",(function(){return dt})),n.d(t,"u",(function(){return tt})),n.d(t,"v",(function(){return Ot})),n.d(t,"w",(function(){return xt})),n.d(t,"x",(function(){return wt})),n.d(t,"y",(function(){return Qt})),n.d(t,"z",(function(){return nn})),n.d(t,"A",(function(){return dn})),n.d(t,"B",(function(){return _t})),n.d(t,"C",(function(){return q})),n.d(t,"D",(function(){return Pt})),n.d(t,"E",(function(){return ct})),n.d(t,"F",(function(){return at})),n.d(t,"G",(function(){return et})),n.d(t,"H",(function(){return Ze})),n.d(t,"I",(function(){return Mt})),n.d(t,"J",(function(){return Dt})),n.d(t,"K",(function(){return le})),n.d(t,"L",(function(){return Et})),n.d(t,"M",(function(){return Tt}));var o=[];Object.freeze(o);var i={};function a(){return++Ie.mobxGuid}function c(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function s(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(i);var l=function(){};function f(e){return null!==e&&"object"==typeof e}function p(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return f(e)&&!0===e[n]}}function y(e){return e instanceof Map}function v(e){return e instanceof Set}function g(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function b(e){return e&&e.toString?e.toString():new String(e).toString()}function m(e){return null===e?null:"object"==typeof e?""+e:e}var O="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,x=Symbol("mobx administration"),j=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Q.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Fe(this)},e.prototype.reportChanged=function(){Be(),function(e){e.lowestObserverState!==Q.STALE&&(e.lowestObserverState=Q.STALE,e.observers.forEach((function(t){t.dependenciesState===Q.UP_TO_DATE&&(t.isTracing!==$.NONE&&He(t,e),t.onBecomeStale()),t.dependenciesState=Q.STALE})))}(this),Ge()},e.prototype.toString=function(){return this.name},e}(),w=h("Atom",j);function _(e,t,n){void 0===t&&(t=l),void 0===n&&(n=l);var r,o=new j(e);return t!==l&&ut("onBecomeObserved",o,t,r),n!==l&&ct(o,n),o}var E={identity:function(e,t){return e===t},structural:function(e,t){return gn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return gn(e,t,1)}},S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function A(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N(arguments[t]));return e}var k=Symbol("mobx did run lazy initializers"),D=Symbol("mobx pending decorators"),T={},C={};function I(e,t){var n=t?T:C;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return R(this),this[e]},set:function(t){R(this),this[e]=t}})}function R(e){var t,n;if(!0!==e[k]){var r=e[D];if(r){d(e,k,!0);var o=M(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=A(o),a=i.next();!a.done;a=i.next()){var c=r[a.value];c.propertyCreator(e,c.prop,c.descriptor,c.decoratorTarget,c.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function L(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,D)){var c=r[D];d(r,D,P({},c))}return r[D][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},I(o,e)};return z(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function z(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function B(e,t,n){return wt(e)?e:Array.isArray(e)?q.array(e,{name:n}):p(e)?q.object(e,void 0,{name:n}):y(e)?q.map(e,{name:n}):v(e)?q.set(e,{name:n}):e}function G(e){return e}function F(t){u(t);var n=L(!0,(function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;un(e).addObservableProp(n,a,t)})),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var H={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function U(e){return null==e?H:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(H);var X=F(B),Y=F((function(e,t,n){return null==e||dn(e)||Qt(e)||nn(e)||an(e)?e:Array.isArray(e)?q.array(e,{name:n,deep:!1}):p(e)?q.object(e,void 0,{name:n,deep:!1}):y(e)?q.map(e,{name:n,deep:!1}):v(e)?q.set(e,{name:n,deep:!1}):c(!1)})),V=F(G),W=F((function(e,t,n){return gn(e,t)?t:e}));function K(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?G:B}var Z={box:function(e,t){arguments.length>2&&J("box");var n=U(t);return new Se(e,K(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&J("array");var n=U(t);return Wt(e,K(n),n.name)},map:function(e,t){arguments.length>2&&J("map");var n=U(t);return new tn(e,K(n),n.name)},set:function(e,t){arguments.length>2&&J("set");var n=U(t);return new on(e,K(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&J("object");var r=U(n);if(!1===r.proxy)return lt({},e,t,r);var o=ft(r),i=Bt(lt({},void 0,void 0,r));return pt(i,e,t,o),i},ref:V,shallow:Y,deep:X,struct:W},q=function e(t,n,r){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return X.apply(null,arguments);if(wt(t))return t;var o=p(t)?e.object(t,n,r):Array.isArray(t)?e.array(t,n):y(t)?e.map(t,n):v(t)?e.set(t,n):t;if(o!==t)return o;c(!1)};function J(e){c("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Z).forEach((function(e){return q[e]=Z[e]}));var Q,$,ee=L(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,c=o[0]||{};un(e).addComputedProp(e,t,P({get:i,set:a,context:e},c))})),te=ee({equals:E.structural}),ne=function(e,t,n){if("string"==typeof t)return ee.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ee.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Ae(r)};ne.struct=te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Q||(Q={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}($||($={}));var re=function(e){this.cause=e};function oe(e){return e instanceof re}function ie(e){switch(e.dependenciesState){case Q.UP_TO_DATE:return!1;case Q.NOT_TRACKING:case Q.STALE:return!0;case Q.POSSIBLY_STALE:for(var t=de(!0),n=fe(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Ne(a)){if(Ie.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return pe(n),he(t),!0}if(e.dependenciesState===Q.STALE)return pe(n),he(t),!0}}return ye(e),pe(n),he(t),!1}}function ae(){return null!==Ie.trackingDerivation}function ce(e){var t=e.observers.size>0;Ie.computationDepth>0&&t&&c(!1),Ie.allowStateChanges||!t&&"strict"!==Ie.enforceActions||c(!1)}function ue(e,t,n){var r=de(!0);ye(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ie.runId;var o,i=Ie.trackingDerivation;if(Ie.trackingDerivation=e,!0===Ie.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new re(e)}return Ie.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=Q.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(c=n[a]).diffValue&&(c.diffValue=1,o!==a&&(n[o]=c),o++),c.dependenciesState>r&&(r=c.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(c=t[i]).diffValue&&Le(c,e),c.diffValue=0;for(;o--;){var c;1===(c=n[o]).diffValue&&(c.diffValue=0,Re(c,e))}r!==Q.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),he(r),o}function se(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Le(t[n],e);e.dependenciesState=Q.NOT_TRACKING}function le(e){var t=fe();try{return e()}finally{pe(t)}}function fe(){var e=Ie.trackingDerivation;return Ie.trackingDerivation=null,e}function pe(e){Ie.trackingDerivation=e}function de(e){var t=Ie.allowStateReads;return Ie.allowStateReads=e,t}function he(e){Ie.allowStateReads=e}function ye(e){if(e.dependenciesState!==Q.UP_TO_DATE){e.dependenciesState=Q.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Q.UP_TO_DATE}}var ve=0,ge=1,be=Object.getOwnPropertyDescriptor((function(){}),"name");function me(e,t,n){var r=function(){return Oe(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function Oe(e,t,n,r){var o=xe(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{je(o)}}function xe(e,t,n){var r=0,o=fe();Be();var i={prevDerivation:o,prevAllowStateChanges:_e(!0),prevAllowStateReads:de(!0),notifySpy:!1,startTime:r,actionId:ge++,parentActionId:ve};return ve=i.actionId,i}function je(e){ve!==e.actionId&&c("invalid action stack. did you forget to finish an action?"),ve=e.parentActionId,void 0!==e.error&&(Ie.suppressReactionErrors=!0),Ee(e.prevAllowStateChanges),he(e.prevAllowStateReads),Ge(),pe(e.prevDerivation),e.notifySpy,Ie.suppressReactionErrors=!1}function we(e,t){var n,r=_e(e);try{n=t()}finally{Ee(r)}return n}function _e(e){var t=Ie.allowStateChanges;return Ie.allowStateChanges=e,t}function Ee(e){Ie.allowStateChanges=e}be&&be.configurable;var Se=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=E.default);var c=e.call(this,r)||this;return c.enhancer=n,c.name=r,c.equals=i,c.hasUnreportedChange=!1,c.value=n(t,void 0,r),c}return function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==Ie.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(ce(this),Gt(this)){var t=Ht(this,{object:this,type:"update",newValue:e});if(!t)return Ie.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ie.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Ut(this)&&Yt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ft(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Xt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(j),Pe=h("ObservableValue",Se),Ae=function(){function e(e){this.dependenciesState=Q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new re(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=$.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=me(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?E.structural:E.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===Q.UP_TO_DATE&&(e.lowestObserverState=Q.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===Q.UP_TO_DATE&&(t.dependenciesState=Q.POSSIBLY_STALE,t.isTracing!==$.NONE&&He(t,e),t.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ie.inBatch||0!==this.observers.size||this.keepAlive?(Fe(this),ie(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==Q.STALE&&(e.lowestObserverState=Q.STALE,e.observers.forEach((function(t){t.dependenciesState===Q.POSSIBLY_STALE?t.dependenciesState=Q.STALE:t.dependenciesState===Q.UP_TO_DATE&&(e.lowestObserverState=Q.UP_TO_DATE)})))}(this)):ie(this)&&(this.warnAboutUntrackedRead(),Be(),this.value=this.computeValue(!1),Ge());var e=this.value;if(oe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(oe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===Q.NOT_TRACKING,n=this.computeValue(!0),r=t||oe(e)||oe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ie.computationDepth++,e)t=ue(this,this.derivation,this.scope);else if(!0===Ie.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new re(e)}return Ie.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(se(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return rt((function(){var i=n.get();if(!r||t){var a=fe();e({type:"update",object:n,newValue:i,oldValue:o}),pe(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Ne=h("ComputedValue",Ae),Me=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ke={};function De(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:ke}var Te=!0,Ce=!1,Ie=function(){var e=De();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Te=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Me).version&&(Te=!1),Te?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Me):(setTimeout((function(){Ce||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Me)}();function Re(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Le(e,t){e.observers.delete(t),0===e.observers.size&&ze(e)}function ze(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ie.pendingUnobservations.push(e))}function Be(){Ie.inBatch++}function Ge(){if(0==--Ie.inBatch){Ye();for(var e=Ie.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ae&&n.suspend())}Ie.pendingUnobservations=[]}}function Fe(e){var t=Ie.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Ie.inBatch>0&&ze(e),!1)}function He(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===$.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}(dt(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Ae?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Ue=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+a()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=$.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ie.pendingReactions.push(this),Ye())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Be(),this._isScheduled=!1,ie(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Ge()}},e.prototype.track=function(e){if(!this.isDisposed){Be(),this._isRunning=!0;var t=ue(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&se(this),oe(t)&&this.reportExceptionInDerivation(t.cause),Ge()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ie.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ie.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Ie.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Be(),se(this),Ge()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[x]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=kt(e);if(!r)return c(!1);r.isTracing===$.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?$.BREAK:$.LOG}(this,e)},e}(),Xe=function(e){return e()};function Ye(){Ie.inBatch>0||Ie.isRunningReactions||Xe(Ve)}function Ve(){Ie.isRunningReactions=!0;for(var e=Ie.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ie.isRunningReactions=!1}var We=h("Reaction",Ue);function Ke(e){var t=Xe;Xe=function(n){return e((function(){return t(n)}))}}function Ze(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function qe(){c(!1)}function Je(e){return function(t,n,r){if(r){if(r.value)return{value:me(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return me(e,o.call(this))}}}return Qe(e).apply(this,arguments)}}function Qe(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,n,$e(e,t))}})}}var $e=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?me(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?me(e,t):1===arguments.length&&"string"==typeof e?Je(e):!0!==r?Je(t).apply(null,arguments):void d(e,t,me(e.name||t,n.value,this))};function et(e,t){return Oe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function tt(e){return"function"==typeof e&&!0===e.isMobxAction}function nt(e,t,n){d(e,t,me(t,n.bind(e)))}function rt(e,t){void 0===t&&(t=i);var n,r=t&&t.name||e.name||"Autorun@"+a();if(t.scheduler||t.delay){var o=it(t),c=!1;n=new Ue(r,(function(){c||(c=!0,o((function(){c=!1,n.isDisposed||n.track(u)})))}),t.onError,t.requiresObservable)}else n=new Ue(r,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(n)}return n.schedule(),n.getDisposer()}$e.bound=function(e,t,n,r){return!0===r?(nt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return nt(this,t,n.value||n.initializer.call(this)),this[t]},set:qe}:{enumerable:!1,configurable:!0,set:function(e){nt(this,t,e)},get:function(){}}};var ot=function(e){return e()};function it(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ot}function at(e,t,n){void 0===n&&(n=i);var r,o,c,u=n.name||"Reaction@"+a(),s=$e(u,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=it(n),p=!0,d=!1,h=n.compareStructural?E.structural:n.equals||E.default,y=new Ue(u,(function(){p||l?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var n=e(y);t=p||!h(c,n),c=n})),p&&n.fireImmediately&&s(c,y),p||!0!==t||s(c,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function ct(e,t,n){return ut("onBecomeUnobserved",e,t,n)}function ut(e,t,n,r){var o="function"==typeof r?hn(t,n):hn(t),i="function"==typeof r?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?c(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function st(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Ce=!0,Te&&(0==--De().__mobxInstanceCount&&(De().__mobxGlobals=void 0),Ie=new Me)),void 0!==t){var s=void 0;switch(t){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:c("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ie.enforceActions=s,Ie.allowStateChanges=!0!==s&&"strict"!==s}void 0!==n&&(Ie.computedRequiresReaction=!!n),void 0!==a&&(Ie.reactionRequiresObservable=!!a),void 0!==u&&(Ie.observableRequiresReaction=!!u,Ie.allowStateReads=!Ie.observableRequiresReaction),void 0!==r&&(Ie.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ie.disableErrorBoundaries=!!o),i&&Ke(i)}function lt(e,t,n,r){var o=ft(r=U(r));return R(e),un(e,r.name,o.enhancer),t&&pt(e,t,n,o),e}function ft(e){return e.defaultDecorator||(!1===e.deep?V:X)}function pt(e,t,n,r){var o,i;Be();try{var a=O(t);try{for(var c=A(a),u=c.next();!u.done;u=c.next()){var s=u.value,l=Object.getOwnPropertyDescriptor(t,s),f=(n&&s in n?n[s]:l.get?ee:r)(e,s,l,!0);f&&Object.defineProperty(e,s,f)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}finally{Ge()}}function dt(e,t){return ht(hn(e,t))}function ht(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(ht)),r}var yt=0;function vt(){this.message="FLOW_CANCELLED"}function gt(e){1!==arguments.length&&c("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++yt,a=$e(t+" - runid: "+i+" - init",e).apply(r,o),c=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;c=void 0;try{n=$e(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return r(e)}l(n)}function s(e){var n;c=void 0;try{n=$e(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(c=Promise.resolve(t.value)).then(u,s);t.then(l,r)}n=r,u(void 0)}));return u.cancel=$e(t+" - runid: "+i+" - cancel",(function(){try{c&&bt(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(l,l),bt(t),n(new vt)}catch(e){n(e)}})),u}}function bt(e){"function"==typeof e.cancel&&e.cancel()}function mt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===dn(e))return!1;if(!e[x].values.has(t))return!1;var n=hn(e,t);return Ne(n)}return Ne(e)}function Ot(e){return arguments.length>1?c(!1):mt(e)}function xt(e,t){return"string"!=typeof t?c(!1):mt(e,t)}function jt(e,t){return null!=e&&(void 0!==t?!!dn(e)&&e[x].values.has(t):dn(e)||!!e[x]||w(e)||We(e)||Ne(e))}function wt(e){return 1!==arguments.length&&c(!1),jt(e)}function _t(e){return dn(e)?e[x].getKeys():nn(e)||an(e)?Array.from(e.keys()):Qt(e)?e.map((function(e,t){return t})):c(!1)}function Et(e){return dn(e)?_t(e).map((function(t){return e[t]})):nn(e)?_t(e).map((function(t){return e.get(t)})):an(e)?Array.from(e.values()):Qt(e)?e.slice():c(!1)}function St(e){return dn(e)?_t(e).map((function(t){return[t,e[t]]})):nn(e)?_t(e).map((function(t){return[t,e.get(t)]})):an(e)?Array.from(e.entries()):Qt(e)?e.map((function(e,t){return[t,e]})):c(!1)}function Pt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return yn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return yn(e).observe(t,n)}(e,t,n)}vt.prototype=Object.create(Error.prototype);var At={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Nt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Mt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=At),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!wt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Pe(t))return e(t.get(),n,r);if(wt(t)&&_t(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Qt(t)||Array.isArray(t)){var o=Nt(r,t,[],n),i=t.map((function(t){return e(t,n,r)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(an(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=Nt(r,t,new Set,n);return t.forEach((function(t){u.add(e(t,n,r))})),u}var s=Nt(r,t,[],n);return t.forEach((function(t){s.push(e(t,n,r))})),s}if(nn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Nt(r,t,new Map,n);return t.forEach((function(t,o){l.set(o,e(t,n,r))})),l}var f=Nt(r,t,{},n);return t.forEach((function(t,o){f[o]=e(t,n,r)})),f}var p=Nt(r,t,{},n);return g(t).forEach((function(o){p[o]=e(t[o],n,r)})),p}(e,t,n)}function kt(e){switch(e.length){case 0:return Ie.trackingDerivation;case 1:return hn(e[0]);case 2:return hn(e[0],e[1])}}function Dt(e,t){void 0===t&&(t=void 0),Be();try{return e.apply(t)}finally{Ge()}}function Tt(e,t,n){return 1===arguments.length||t&&"object"==typeof t?It(e,t):Ct(e,t,n||{})}function Ct(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[x].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+a();var o=me(n.name+"-effect",t),i=rt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function It(e,t){var n,r=new Promise((function(r,o){var i=Ct(e,r,P(P({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Rt(e){return e[x]}function Lt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var zt={has:function(e,t){if(t===x||"constructor"===t||t===k)return!0;var n=Rt(e);return Lt(t)?n.has(t):t in e},get:function(e,t){if(t===x||"constructor"===t||t===k)return e[t];var n=Rt(e),r=n.values.get(t);if(r instanceof j){var o=r.get();return void 0===o&&n.has(t),o}return Lt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!Lt(t)&&(function e(t,n,r){if(2!==arguments.length||an(t))if(dn(t)){var o=t[x];o.values.get(n)?o.write(n,r):o.addObservableProp(n,r,o.defaultEnhancer)}else if(nn(t))t.set(n,r);else if(an(t))t.add(n);else{if(!Qt(t))return c(!1);"number"!=typeof n&&(n=parseInt(n,10)),u(n>=0,"Not a valid index: '"+n+"'"),Be(),n>=t.length&&(t.length=n+1),t[n]=r,Ge()}else{Be();var i=n;try{for(var a in i)e(t,a,i[a])}finally{Ge()}}}(e,t,n),!0)},deleteProperty:function(e,t){return!!Lt(t)&&(Rt(e).remove(t),!0)},ownKeys:function(e){return Rt(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return c("Dynamic observable objects cannot be frozen"),!1}};function Bt(e){var t=new Proxy(e,zt);return e[x].proxy=t,t}function Gt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ft(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),s((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ht(e,t){var n=fe();try{for(var r=M(e.interceptors||[]),o=0,i=r.length;o<i&&(u(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{pe(n)}}function Ut(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Xt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),s((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Yt(e,t){var n=fe(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);pe(n)}}var Vt={get:function(e,t){return t===x?e[x]:"length"===t?e[x].getArrayLength():"number"==typeof t?Zt.get.call(e,t):"string"!=typeof t||isNaN(t)?Zt.hasOwnProperty(t)?Zt[t]:e[t]:Zt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[x].setArrayLength(n),"number"==typeof t&&Zt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Zt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return c("Observable arrays cannot be frozen"),!1}};function Wt(e,t,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var o,i,c,u=new Kt(n,t,r);o=u.values,i=x,c=u,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:c});var s=new Proxy(u.values,Vt);if(u.proxy=s,e&&e.length){var l=_e(!0);u.spliceWithArray(0,0,e),Ee(l)}return s}var Kt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new j(e||"ObservableArray@"+a()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ft(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Xt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ce(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=o),Gt(this)){var a=Ht(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return o;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var c=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,M([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=Ut(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&Yt(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=Ut(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Yt(this,i)},e}(),Zt={intercept:function(e){return this[x].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[x].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[x];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[x];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[x].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[x];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[x].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[x];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[x],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[x];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[x],r=n.values;if(e<r.length){ce(n.atom);var o=r[e];if(Gt(n)){var i=Ht(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Zt[e]=function(){var t=this[x];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Zt[e]=function(t,n){var r=this,o=this[x];return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(n,e,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Zt[e]=function(){var t=this,n=this[x];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}}));var qt,Jt=h("ObservableArrayAdministration",Kt);function Qt(e){return f(e)&&Jt(e[x])}var $t,en={},tn=function(){function e(e,t,n){if(void 0===t&&(t=B),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=t,this.name=n,this[qt]=en,this._keysAtom=_(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ie.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Se(this._has(e),G,this.name+"."+b(e)+"?",!1);this._hasMap.set(e,r),ct(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Gt(this)){var r=Ht(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(ce(this._keysAtom),Gt(this)&&!(r=Ht(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Ut(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Dt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Yt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ie.UNCHANGED){var r=Ut(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&Yt(this,o)}},e.prototype._addValue=function(e,t){var n=this;ce(this._keysAtom),Dt((function(){var r=new Se(t,n.enhancer,n.name+"."+b(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Ut(this);r&&Yt(this,r?{type:"add",object:this,name:e,newValue:t}:null)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return On({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return On({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(qt=x,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=N(i.value,2),c=a[0],u=a[1];e.call(t,u,c,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return nn(e)&&(e=e.toJS()),Dt((function(){var n=_e(!0);try{p(e)?g(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=N(e,2),r=n[0],o=n[1];return t.set(r,o)})):y(e)?(e.constructor!==Map&&c("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&c("Cannot initialize map from "+e)}finally{Ee(n)}})),this},e.prototype.clear=function(){var e=this;Dt((function(){le((function(){var t,n;try{for(var r=A(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return Dt((function(){var n,r,o,i,a=function(e){if(y(e)||nn(e))return e;if(Array.isArray(e))return new Map(e);if(p(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return c("Cannot convert to map from '"+e+"'")}(e),u=new Map,s=!1;try{for(var l=A(t._data.keys()),f=l.next();!f.done;f=l.next()){var d=f.value;if(!a.has(d))if(t.delete(d))s=!0;else{var h=t._data.get(d);u.set(d,h)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var v=A(a.entries()),g=v.next();!g.done;g=v.next()){var b=N(g.value,2),m=(d=b[0],h=b[1],t._data.has(d));if(t.set(d,h),t._data.has(d)){var O=t._data.get(d);u.set(d,O),m||(s=!0)}}}catch(e){o={error:e}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!s)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var x=t._data.keys(),j=u.keys(),w=x.next(),_=j.next();!w.done;){if(w.value!==_.value){t._keysAtom.reportChanged();break}w=x.next(),_=j.next()}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=A(this),o=r.next();!o.done;o=r.next()){var i=N(o.value,2),a=i[0],c=i[1];n["symbol"==typeof a?a:b(a)]=c}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return b(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Ft(this,e)},e}(),nn=h("ObservableMap",tn),rn={},on=function(){function e(e,t,n){if(void 0===t&&(t=B),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[$t]=rn,this._data=new Set,this._atom=_(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Dt((function(){le((function(){var t,n;try{for(var r=A(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(ce(this._atom),Gt(this)&&!(r=Ht(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Dt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Ut(this),r=n?{type:"add",object:this,newValue:e}:null;n&&Yt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(Gt(this)&&!(r=Ht(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Ut(this),r=n?{type:"delete",object:this,oldValue:e}:null;return Dt((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Yt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return On({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return On({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return an(e)&&(e=e.toJS()),Dt((function(){var n=_e(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&c("Cannot initialize set from "+e)}finally{Ee(n)}})),this},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Ft(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[($t=x,Symbol.iterator)]=function(){return this.values()},e}(),an=h("ObservableSet",on),cn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new j(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Ae)r.set(t);else{if(Gt(this)){if(!(i=Ht(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==Ie.UNCHANGED){var o=Ut(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),o&&Yt(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Se(r,G,this.name+"."+b(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Gt(this)){var o=Ht(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new Se(t,n,this.name+"."+b(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return sn[e]||(sn[e]={configurable:!0,enumerable:!0,get:function(){return this[x].read(e)},set:function(t){this[x].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+b(t),this.values.set(t,new Ae(n)),(e===a||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return ln[e]||(ln[e]={configurable:Ie.computedConfigurable,enumerable:!1,get:function(){return fn(this).read(e)},set:function(t){fn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Gt(this)&&!(a=Ht(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Be();var n=Ut(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;n&&Yt(this,a)}finally{Ge()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Xt(this,e)},e.prototype.intercept=function(e){return Ft(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Ut(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Yt(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=A(this.values),o=r.next();!o.done;o=r.next()){var i=N(o.value,2),a=i[0];i[1]instanceof Se&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function un(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=B),Object.prototype.hasOwnProperty.call(e,x))return e[x];p(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var r=new cn(e,new Map,b(t),n);return d(e,x,r),r}var sn=Object.create(null),ln=Object.create(null);function fn(e){return e[x]||(R(e),e[x])}var pn=h("ObservableObjectAdministration",cn);function dn(e){return!!f(e)&&(R(e),pn(e[x]))}function hn(e,t){if("object"==typeof e&&null!==e){if(Qt(e))return void 0!==t&&c(!1),e[x].atom;if(an(e))return e[x];if(nn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||c(!1),r)}var r;if(R(e),t&&!e[x]&&e[t],dn(e))return t?((r=e[x].values.get(t))||c(!1),r):c(!1);if(w(e)||Ne(e)||We(e))return e}else if("function"==typeof e&&We(e[x]))return e[x];return c(!1)}function yn(e,t){return e||c("Expecting some object"),void 0!==t?yn(hn(e,t)):w(e)||Ne(e)||We(e)||nn(e)||an(e)?e:(R(e),e[x]?e[x]:void c(!1))}var vn=Object.prototype.toString;function gn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var c=vn.call(t);if(c!==vn.call(n))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=bn(t),n=bn(n);var u="[object Array]"===c;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,l=n.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===n;if(o.push(t),i.push(n),u){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,o,i))return!1}else{var p=Object.keys(t),d=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(!mn(n,d=p[f])||!e(t[d],n[d],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function bn(e){return Qt(e)?e.slice():y(e)||nn(e)||v(e)||an(e)?Array.from(e.entries()):e}function mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function On(e){return e[Symbol.iterator]=xn,e}function xn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ze,extras:{getDebugName:function(e,t){return(void 0!==t?hn(e,t):dn(e)||nn(e)||an(e)?yn(e):hn(e)).name}},$mobx:x})}).call(this,n(155),n(82))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return B})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return S}));var r,o,i,a,c,u,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,i,a,c={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===c[a]&&(c[a]=e.defaultProps[a]);return v(e,c,o,i,null)}function v(e,t,n,r,a){var c={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(c),c}function g(){return{current:null}}function b(e){return e.children}function m(e,t){this.props=e,this.context=t}function O(e,t){if(null==t)return e.__?O(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?O(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function j(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!w.__r++||u!==o.debounceRendering)&&((u=o.debounceRendering)||c)(w)}function w(){for(var e;w.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,D(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?O(o):i,o.__h),T(n,o),o.__e!=i&&x(o)))}))}function _(e,t,n,r,o,i,a,c,u,s){var p,d,h,y,g,m,x,j=r&&r.__k||f,w=j.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=j[p])||h&&y.key==h.key&&y.type===h.type)j[p]=void 0;else for(d=0;d<w;d++){if((h=j[d])&&y.key==h.key&&y.type===h.type){j[d]=void 0;break}h=null}D(e,y,h=h||l,o,i,a,c,u,s),g=y.__e,(d=y.ref)&&h.ref!=d&&(x||(x=[]),h.ref&&x.push(h.ref,null,y),x.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=u=E(y,u,e):u=P(e,y,h,j,g,u),"function"==typeof n.type&&(n.__d=u)):u&&h.__e==u&&u.parentNode!=e&&(u=O(h))}for(n.__e=m,p=w;p--;)null!=j[p]&&("function"==typeof n.type&&null!=j[p].__e&&j[p].__e==n.__d&&(n.__d=O(r,p+1)),R(j[p],j[p]));if(x)for(p=0;p<x.length;p++)I(x[p],x[++p],x[++p])}function E(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?E(r,t,n):P(n,r,r,o,r.__e,t));return t}function S(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){S(e,t)})):t.push(e)),t}function P(e,t,n,r,o,i){var a,c,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<r.length;u+=2)if(c==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function A(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function N(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||A(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||A(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?k:M,i):e.removeEventListener(t,i?k:M,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function M(e){this.l[e.type+!1](o.event?o.event(e):e)}function k(e){this.l[e.type+!0](o.event?o.event(e):e)}function D(e,t,n,r,i,a,c,u,s){var l,f,p,h,y,v,g,O,x,j,w,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(l=o.__b)&&l(t);try{e:if("function"==typeof E){if(O=t.props,x=(l=E.contextType)&&r[l.__c],j=l?x?x.props.value:l.__:r,n.__c?g=(f=t.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(O,j):(t.__c=f=new m(O,j),f.constructor=E,f.render=L),x&&x.sub(f),f.props=O,f.state||(f.state={}),f.context=j,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,E.getDerivedStateFromProps(O,f.__s))),h=f.props,y=f.state,p)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&O!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,j),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,j)||t.__v===n.__v){f.props=O,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,j),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=j,f.props=O,f.state=f.__s,(l=o.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),w=null!=l&&l.type===b&&null==l.key?l.props.children:l,_(e,Array.isArray(w)?w:[w],t,n,r,i,a,c,u,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=C(n.__e,t,n,r,i,a,c,s);(l=o.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),o.__e(e,t,n)}}function T(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function C(e,t,n,o,i,a,c,u){var s,f,p,d=n.props,y=t.props,v=t.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((s=a[g])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){e=s,a[g]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,u=!1}if(null===v)d===y||u&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),f=(d=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},g=0;g<e.attributes.length;g++)d[e.attributes[g].name]=e.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||N(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||N(e,i,t[i],n[i],r)}(e,y,d,i,u),p)t.__k=[];else if(g=t.props.children,_(e,Array.isArray(g)?g:[g],t,n,o,i&&"foreignObject"!==v,a,c,a?a[0]:n.__k&&O(n,0),u),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);u||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==e.value||"progress"===v&&!g)&&N(e,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==e.checked&&N(e,"checked",g,d.checked,!1))}return e}function I(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function R(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||I(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&R(r[i],t,"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function z(e,t,n){var i,a,c;o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,c=[],D(t,e=(!i&&n||t).__k=y(b,null,[e]),a||l,l,void 0!==t.ownerSVGElement,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,c,!i&&n?n:a?a.__e:t.firstChild,i),T(c,e)}function B(e,t){z(e,t,B)}function G(e,t,n){var o,i,a,c=d({},e.props);for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:c[a]=t[a];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),v(e.type,c,o||e.key,i||e.ref,null)}function F(e,t){var n={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(j)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},i=0,m.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),j(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},m.prototype.render=b,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,s=0},function(e,t,n){var r=n(116),o=n(44),i=n(178);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(39),o=n(83),i=n(70),a=n(56),c=n(111),u=a.set,s=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(7),o=n(147),i=n(148),a=n(3),c=n(57),u=n(27),s=u("iterator"),l=u("toStringTag"),f=a.values,p=function(e,t){if(e){if(e[s]!==f)try{c(e,s,f)}catch(t){e[s]=f}if(e[l]||c(e,l,t),o[t])for(var n in a)if(e[n]!==a[n])try{c(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(46),a=n(76),c=n(35),u=n(15),s=n(64),l=n(36),f=n(109),p=n(18),d=n(34),h=n(99),y=n(28),v=n(33),g=n(58),b=n(88),m=n(32),O=n(38),x=n(39),j=n(87),w=n(40),_=n(71),E=n(54),S=n(66),P=n(72),A=n(139),N=n(112),M=n(51),k=n(37),D=n(93),T=n(101),C=n(44),I=n(84),R=n(91),L=n(69),z=n(85),B=n(27),G=n(149),F=n(150),H=n(73),U=n(56),X=n(74).forEach,Y=R("hidden"),V=B("toPrimitive"),W=U.set,K=U.getterFor("Symbol"),Z=Object.prototype,q=o.Symbol,J=q&&q.prototype,Q=o.TypeError,$=o.QObject,ee=i("JSON","stringify"),te=M.f,ne=k.f,re=A.f,oe=D.f,ie=u([].push),ae=I("symbols"),ce=I("op-symbols"),ue=I("string-to-symbol-registry"),se=I("symbol-to-string-registry"),le=I("wks"),fe=!$||!$.prototype||!$.prototype.findChild,pe=l&&p((function(){return 7!=E(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=te(Z,t);r&&delete Z[t],ne(e,t,n),r&&e!==Z&&ne(Z,t,r)}:ne,de=function(e,t){var n=ae[e]=E(J);return W(n,{type:"Symbol",tag:e,description:t}),l||(n.description=t),n},he=function e(t,n,r){t===Z&&e(ce,n,r),m(t);var o=j(n);return m(r),d(ae,o)?(r.enumerable?(d(t,Y)&&t[Y][o]&&(t[Y][o]=!1),r=E(r,{enumerable:_(0,!1)})):(d(t,Y)||ne(t,Y,_(1,{})),t[Y][o]=!0),pe(t,o,r)):ne(t,o,r)},ye=function(e,t){m(e);var n=x(t),r=S(n).concat(me(n));return X(r,(function(t){l&&!c(ve,n,t)||he(e,t,n[t])})),e},ve=function(e){var t=j(e),n=c(oe,this,t);return!(this===Z&&d(ae,t)&&!d(ce,t))&&(!(n||!d(this,t)||!d(ae,t)||d(this,Y)&&this[Y][t])||n)},ge=function(e,t){var n=x(e),r=j(t);if(n!==Z||!d(ae,r)||d(ce,r)){var o=te(n,r);return!o||!d(ae,r)||d(n,Y)&&n[Y][r]||(o.enumerable=!0),o}},be=function(e){var t=re(x(e)),n=[];return X(t,(function(e){d(ae,e)||d(L,e)||ie(n,e)})),n},me=function(e){var t=e===Z,n=re(t?ce:x(e)),r=[];return X(n,(function(e){!d(ae,e)||t&&!d(Z,e)||ie(r,ae[e])})),r};if(f||(C(J=(q=function(){if(g(J,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?w(arguments[0]):void 0,t=z(e),n=function e(n){this===Z&&c(e,ce,n),d(this,Y)&&d(this[Y],t)&&(this[Y][t]=!1),pe(this,t,_(1,n))};return l&&fe&&pe(Z,t,{configurable:!0,set:n}),de(t,e)}).prototype,"toString",(function(){return K(this).tag})),C(q,"withoutSetter",(function(e){return de(z(e),e)})),D.f=ve,k.f=he,M.f=ge,P.f=A.f=be,N.f=me,G.f=function(e){return de(B(e),e)},l&&(ne(J,"description",{configurable:!0,get:function(){return K(this).description}}),s||C(Z,"propertyIsEnumerable",ve,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:q}),X(S(le),(function(e){F(e)})),r({target:"Symbol",stat:!0,forced:!f},{for:function(e){var t=w(e);if(d(ue,t))return ue[t];var n=q(t);return ue[t]=n,se[n]=t,n},keyFor:function(e){if(!b(e))throw Q(e+" is not a symbol");if(d(se,e))return se[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(e,t){return void 0===t?E(e):ye(E(e),t)},defineProperty:he,defineProperties:ye,getOwnPropertyDescriptor:ge}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:be,getOwnPropertySymbols:me}),r({target:"Object",stat:!0,forced:p((function(){N.f(1)}))},{getOwnPropertySymbols:function(e){return N.f(O(e))}}),ee&&r({target:"JSON",stat:!0,forced:!f||p((function(){var e=q();return"[null]"!=ee([e])||"{}"!=ee({a:e})||"{}"!=ee(Object(e))}))},{stringify:function(e,t,n){var r=T(arguments),o=t;if((v(t)||void 0!==e)&&!b(e))return h(t)||(t=function(e,t){if(y(o)&&(t=c(o,this,e,t)),!b(t))return t}),r[1]=t,a(ee,null,r)}}),!J[V]){var Oe=J.valueOf;C(J,V,(function(e){return c(Oe,this)}))}H(q,"Symbol"),L[Y]=!0},function(e,t,n){"use strict";var r=n(146).charAt,o=n(40),i=n(56),a=n(111),c=i.set,u=i.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(82))},function(e,t,n){"use strict";var r=n(16),o=n(36),i=n(7),a=n(15),c=n(34),u=n(28),s=n(58),l=n(40),f=n(37).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&u(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=s(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(y[t]=!0),t};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),O=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),j=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=m(this),t=b(e);if(c(y,e))return"";var n=g?j(t,7,-1):x(t,O,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(e,t,n){n(150)("iterator")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.e})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return M})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return ie}));var r,o,i,a=n(1),c=0,u=[],s=a.i.__b,l=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(e,t){a.i.__h&&a.i.__h(o,e,c||t),c=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function y(e){return c=1,v(P,e)}function v(e,t,n){var i=h(r++,2);return i.t=e,i.__c||(i.__=[n?n(t):P(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(e,t){var n=h(r++,3);!a.i.__s&&S(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function b(e,t){var n=h(r++,4);!a.i.__s&&S(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function m(e,t){var n=h(r++,7);return S(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function O(e,t){return c=8,m((function(){return e}),t)}function x(){var e;for(u.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=u.pop();)if(e.__P)try{e.__H.__h.forEach(_),e.__H.__h.forEach(E),e.__H.__h=[]}catch(t){e.__H.__h=[],a.i.__e(t,e.__v)}}a.i.__b=function(e){o=null,s&&s(e)},a.i.__r=function(e){l&&l(e),r=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(_),t.__h.forEach(E),t.__h=[])},a.i.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||w)(x)),o=null},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(_),e.__h=e.__h.filter((function(e){return!e.__||E(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(n,e.__v)}})),p&&p(e,t)},a.i.unmount=function(e){d&&d(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{_(e)}catch(e){t=e}})),t&&a.i.__e(t,n.__v))};var j="function"==typeof requestAnimationFrame;function w(e){var t,n=function(){clearTimeout(r),j&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);j&&(t=requestAnimationFrame(n))}function _(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function E(e){var t=o;e.__c=e.__(),o=t}function S(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function P(e,t){return"function"==typeof t?t(e):t}function A(e,t){for(var n in t)e[n]=t[n];return e}function N(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function M(e){this.props=e}function k(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:N(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(a.e)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(M.prototype=new a.a).isPureReactComponent=!0,M.prototype.shouldComponentUpdate=function(e,t){return N(this.props,e)||N(this.state,t)};var D=a.i.__b;a.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),D&&D(e)};var T="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function C(e){function t(t,n){var r=A({},t);return delete r.ref,e(r,!(n=t.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=T,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var I=function(e,t){return null==e?null:Object(a.k)(Object(a.k)(e).map(t))},R={map:I,forEach:I,count:function(e){return e?Object(a.k)(e).length:0},only:function(e){var t=Object(a.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);L(e,t,n)};var z=a.i.unmount;function B(){this.__u=0,this.t=null,this.__b=null}function G(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function F(){this.u=null,this.o=null}a.i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),z&&z(e)},(B.prototype=new a.a).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=G(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},B.prototype.componentWillUnmount=function(){this.t=[]},B.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=A({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&Object(a.e)(a.b,null,e.fallback);return o&&(o.__h=null),[Object(a.e)(a.b,null,t.__e?null:e.children),o]};var H=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function U(e){return this.getChildContext=function(){return e.context},e.children}function X(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(a.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(a.j)(Object(a.e)(U,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(F.prototype=new a.a).__e=function(e){var t=this,n=G(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),H(t,e,r)):o()};n?n(i):i()}},F.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(a.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){H(e,n,t)}))};var Y="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W="undefined"!=typeof document,K=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Z=a.i.event;function q(){}function J(){return this.cancelBubble}function Q(){return this.defaultPrevented}a.i.event=function(e){return Z&&(e=Z(e)),e.persist=q,e.isPropagationStopped=J,e.isDefaultPrevented=Q,e.nativeEvent=e};var $,ee={configurable:!0,get:function(){return this.class}},te=a.i.vnode;a.i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in r={},n){var c=n[i];W&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==c||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===c?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!K(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&V.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===c&&(c=void 0),r[i]=c)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(ee.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",ee))}e.$$typeof=Y,te&&te(e)};var ne=a.i.__r;a.i.__r=function(e){ne&&ne(e),$=e.__c};var re={ReactCurrentDispatcher:{current:{readContext:function(e){return $.__n[e.__c].props.value}}}};function oe(e){return!!e&&e.$$typeof===Y}var ie=function(e,t){return e(t)},ae=a.b,ce={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(e){return c=5,m((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){c=6,b((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:m,useCallback:O,useContext:function(e){var t=o.context[e.__c],n=h(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__},useDebugValue:function(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)},version:"17.0.2",Children:R,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Object(a.j)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Object(a.h)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(a.j)(null,e),!0)},createPortal:function(e,t){return Object(a.e)(X,{__v:e,i:t})},createElement:a.e,createContext:a.d,createFactory:function(e){return a.e.bind(null,e)},cloneElement:function(e){return oe(e)?a.c.apply(null,arguments):e},createRef:a.f,Fragment:a.b,isValidElement:oe,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:a.a,PureComponent:M,memo:k,forwardRef:C,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:ie,StrictMode:ae,Suspense:B,SuspenseList:F,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(a.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:re};t.d=ce},function(e,t,n){var r=n(7),o=n(147),i=n(148),a=n(179),c=n(57),u=function(e){if(e&&e.forEach!==a)try{c(e,"forEach",a)}catch(t){e.forEach=a}};for(var s in o)o[s]&&u(r[s]&&r[s].prototype);u(i)},function(e,t,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(97)})},function(e,t,n){var r=n(16),o=n(18),i=n(38),a=n(96),c=n(137);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(16),o=n(46),i=n(76),a=n(198),c=n(157),u=n(32),s=n(33),l=n(54),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){c(e),u(t);var n=arguments.length<3?e:c(arguments[2]);if(v&&!y)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=l(s(o)?o:d),g=i(e,f,t);return s(g)?g:f}})},function(e,t){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);e.exports=r?function(e){return e&&i(o,e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,t,n){var r=n(7),o=n(51).f,i=n(57),a=n(44),c=n(108),u=n(134),s=n(95);e.exports=function(e,t){var n,l,f,p,d,h=e.target,y=e.global,v=e.stat;if(n=y?r:v?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,e)}}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(99),a=n(100),c=n(33),u=n(67),s=n(43),l=n(39),f=n(61),p=n(27),d=n(75),h=n(101),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var n,r,o,p=l(this),d=s(p),y=u(e,d),m=u(void 0===t?d:t,d);if(i(p)&&(n=p.constructor,(a(n)&&(n===g||i(n.prototype))||c(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(16),o=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(16),o=n(38),i=n(66);r({target:"Object",stat:!0,forced:n(18)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){var r=n(16),o=n(18),i=n(39),a=n(51).f,c=n(36),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){"use strict";var r=n(16),o=n(74).filter;r({target:"Array",proto:!0,forced:!n(75)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),o=n(36),i=n(135),a=n(39),c=n(51),u=n(61);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=c.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,t=s[f++]))&&u(l,t,n);return l}})},function(e,t,n){var r=n(36),o=n(94).EXISTS,i=n(15),a=n(37).f,c=Function.prototype,u=i(c.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec);r&&!o&&a(c,"name",{configurable:!0,get:function(){try{return l(s,u(this))[1]}catch(e){return""}}})},function(e,t,n){var r=n(16),o=n(182);r({target:"Array",stat:!0,forced:!n(118)((function(e){Array.from(e)}))},{from:o})},,function(e,t,n){var r=n(7),o=n(84),i=n(34),a=n(85),c=n(109),u=n(128),s=o("wks"),l=r.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(s,e)||!c&&"string"!=typeof s[e]){var t="Symbol."+e;c&&i(l,e)?s[e]=l[e]:s[e]=u&&f?f(t):p(t)}return s[e]}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(18),a=n(99),c=n(33),u=n(38),s=n(43),l=n(61),f=n(119),p=n(75),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=o.TypeError,g=h>=51||!i((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),b=p("concat"),m=function(e){if(!c(e))return!1;var t=e[y];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!g||!b},{concat:function(e){var t,n,r,o,i,a=u(this),c=f(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(m(i=-1===t?a:arguments[t])){if(p+(o=s(i))>9007199254740991)throw v("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&l(c,p,i[n])}else{if(p>=9007199254740991)throw v("Maximum allowed index exceeded");l(c,p++,i)}return c.length=p,c}})},function(e,t,n){"use strict";var r=n(105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){var r=n(16),o=n(200);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){var r=n(7),o=n(33),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},function(e,t,n){var r=n(28);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(15),o=n(38),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var r=n(18);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(7),o=n(36),i=n(129),a=n(32),c=n(87),u=r.TypeError,s=Object.defineProperty;t.f=o?s:function(e,t,n){if(a(e),t=c(t),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),o=n(45),i=r.Object;e.exports=function(e){return i(o(e))}},function(e,t,n){var r=n(81),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(7),o=n(98),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){"use strict";var r=n(16),o=n(74).map;r({target:"Array",proto:!0,forced:!n(75)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(10),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var e=o(Object(r.j)(0),2)[1];return Object(r.h)((function(){e((function(e){return e+1}))}),[])}function a(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function c(e){return"function"==typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var u={};function s(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:u}}).call(this,n(82))},function(e,t,n){var r=n(90);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(7),o=n(28),i=n(34),a=n(57),c=n(108),u=n(92),s=n(56),l=n(94).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(e.exports=function(e,t,n,u){var s,f=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,y=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:t;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&a(n,"name",v),(s=p(n)).source||(s.source=d.join("string"==typeof v?v:""))),e!==r?(f?!y&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:c(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||u(this)}))},function(e,t,n){var r=n(7).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},function(e,t,n){var r=n(7),o=n(28),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(16),o=n(35),i=n(33),a=n(32),c=n(199),u=n(51),s=n(96);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,f=arguments.length<3?t:arguments[2];return a(t)===f?t[n]:(r=u.f(t,n))?c(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(l=s(t))?e(l,n,f):void 0}})},function(e,n,r){"use strict";(function(e){var o=r(30),i=r(165),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;n.a=s}).call(this,r(121)(e))},function(e,n,r){"use strict";(function(e){var o=r(105),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();n.a=u}).call(this,r(121)(e))},function(e,t,n){var r=n(15),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},function(e,t,n){var r=n(36),o=n(35),i=n(93),a=n(71),c=n(39),u=n(87),s=n(34),l=n(129),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=c(e),t=u(t),l)try{return f(e,t)}catch(e){}if(s(e,t))return a(!o(i.f,e,t),e[t])}},function(e,t,n){var r=n(16),o=n(213).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,n){var r=n(46);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,o=n(32),i=n(168),a=n(110),c=n(69),u=n(133),s=n(86),l=n(91)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?d(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):d(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};c[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[l]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(7),o=n(28),i=n(89),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},function(e,t,n){var r,o,i,a=n(170),c=n(7),u=n(15),s=n(33),l=n(57),f=n(34),p=n(107),d=n(91),h=n(69),y=c.TypeError,v=c.WeakMap;if(a||p.state){var g=p.state||(p.state=new v),b=u(g.get),m=u(g.has),O=u(g.set);r=function(e,t){if(m(g,e))throw new y("Object already initialized");return t.facade=e,O(g,e,t),t},o=function(e){return b(g,e)||{}},i=function(e){return m(g,e)}}else{var x=d("state");h[x]=!0,r=function(e,t){if(f(e,x))throw new y("Object already initialized");return t.facade=e,l(e,x,t),t},o=function(e){return f(e,x)?e[x]:{}},i=function(e){return f(e,x)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw y("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(36),o=n(37),i=n(71);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(15);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){"use strict";n(173)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(177))},function(e,t,n){"use strict";var r=n(87),o=n(37),i=n(71);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(15),o=n(55),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?i(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(16),o=n(214),i=n(83);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t){e.exports=!1},function(e,t,n){var r,o,i=n(7),a=n(53),c=i.process,u=i.Deno,s=c&&c.versions||u&&u.version,l=s&&s.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},function(e,t,n){var r=n(131),o=n(110);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(68),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?r:n)(t)}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(131),o=n(110).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(37).f,o=n(34),i=n(27)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(62),o=n(15),i=n(81),a=n(38),c=n(43),u=n(119),s=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,v,g){for(var b,m,O=a(h),x=i(O),j=r(y,v),w=c(x),_=0,E=g||u,S=t?E(h,w):n||p?E(h,0):void 0;w>_;_++)if((d||_ in x)&&(m=j(b=x[_],_,O),e))if(t)S[_]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return _;case 2:s(S,b)}else switch(e){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){var r=n(18),o=n(27),i=n(65),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(81),a=n(39),c=n(120),u=o([].join),s=i!=Object,l=c("join",",");r({target:"Array",proto:!0,forced:s||!l},{join:function(e){return u(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),c=n(154),u=n(32),s=n(45),l=n(156),f=n(123),p=n(90),d=n(40),h=n(59),y=n(113),v=n(124),g=n(102),b=n(151),m=n(18),O=b.UNSUPPORTED_Y,x=Math.min,j=[].push,w=i(/./.exec),_=i(j),E=i("".slice);a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=d(s(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!c(e))return o(t,i,e,a);for(var u,l,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,b=new RegExp(e.source,h+"g");(u=o(g,b,i))&&!((l=b.lastIndex)>v&&(_(p,E(i,v,u.index)),u.length>1&&u.index<i.length&&r(j,p,y(u,1)),f=u[0].length,v=l,p.length>=a));)b.lastIndex===u.index&&b.lastIndex++;return v===i.length?!f&&w(b,"")||_(p,""):_(p,E(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=s(this),a=null==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,d(r),t,n)},function(e,r){var o=u(this),a=d(e),c=n(i,o,a,r,i!==t);if(c.done)return c.value;var s=l(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(O?"g":"y"),g=new s(O?"^(?:"+o.source+")":o,y),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,j=0,w=[];j<a.length;){g.lastIndex=O?0:j;var S,P=v(g,O?E(a,j):a);if(null===P||(S=x(p(g.lastIndex+(O?j:0)),a.length))===m)j=f(a,j,h);else{if(_(w,E(a,m,j)),w.length===b)return w;for(var A=1;A<=P.length-1;A++)if(_(w,P[A]),w.length===b)return w;j=m=S}}return _(w,E(a,m)),w}]}),!!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),O)},function(e,t,n){"use strict";var r=n(36),o=n(7),i=n(15),a=n(95),c=n(44),u=n(34),s=n(143),l=n(58),f=n(88),p=n(130),d=n(18),h=n(72).f,y=n(51).f,v=n(37).f,g=n(196),b=n(159).trim,m=o.Number,O=m.prototype,x=o.TypeError,j=i("".slice),w=i("".charCodeAt),_=function(e){var t=p(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,r,o,i,a,c,u,s=p(e,"number");if(f(s))throw x("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),43===(t=w(s,0))||45===t){if(88===(n=w(s,2))||120===n)return NaN}else if(48===t){switch(w(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=j(s,2)).length,c=0;c<a;c++)if((u=w(i,c))<48||u>o)return NaN;return parseInt(i,r)}return+s};if(a("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var S,P=function e(t){var n=arguments.length<1?0:m(_(t)),r=this;return l(O,r)&&d((function(){g(r)}))?s(Object(n),r,e):n},A=r?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;A.length>N;N++)u(m,S=A[N])&&!u(P,S)&&v(P,S,y(m,S));P.prototype=O,O.constructor=P,c(o,"Number",P)}},function(e,t,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(7),o=n(15),i=n(18),a=n(50),c=r.Object,u=o("".split);e.exports=i((function(){return!c("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):c(e)}:c},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(27),o=n(54),i=n(37),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(64),o=n(107);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},function(e,t,n){var r=n(7),o=n(33),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(130),o=n(88);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},function(e,t,n){var r=n(7),o=n(46),i=n(28),a=n(58),c=n(128),u=r.Object;e.exports=c?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,u(e))}},function(e,t,n){var r=n(7).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},function(e,t,n){var r=n(68),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(84),o=n(85),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(15),o=n(28),i=n(107),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(36),o=n(34),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,c=o(i,"name"),u=c&&"something"===function(){}.name,s=c&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:c,PROPER:u,CONFIGURABLE:s}},function(e,t,n){var r=n(18),o=n(28),i=/#|\.prototype\./,a=function(e,t){var n=u[c(e)];return n==l||n!=s&&(o(t)?r(t):!!t)},c=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(7),o=n(34),i=n(28),a=n(38),c=n(91),u=n(137),s=c("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=a(e);if(o(t,s))return t[s];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},function(e,t,n){var r=n(15),o=n(32),i=n(172);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(7),o=n(116),i=n(28),a=n(50),c=n(27)("toStringTag"),u=r.Object,s="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),c))?n:s?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15),o=n(18),i=n(28),a=n(98),c=n(46),u=n(92),s=function(){},l=[],f=c("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(s),y=function(e){if(!i(e))return!1;try{return f(s,l,e),!0}catch(e){return!1}};e.exports=!f||o((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,u(e))}:y},function(e,t,n){var r=n(15);e.exports=r([].slice)},function(e,t,n){"use strict";var r,o,i=n(35),a=n(15),c=n(40),u=n(184),s=n(151),l=n(84),f=n(54),p=n(56).get,d=n(185),h=n(186),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),O=a("".replace),x=a("".slice),j=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),w=s.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(j||_||w||d||h)&&(g=function(e){var t,n,r,o,a,s,l,d=this,h=p(d),E=c(e),S=h.raw;if(S)return S.lastIndex=d.lastIndex,t=i(g,S,E),d.lastIndex=S.lastIndex,t;var P=h.groups,A=w&&d.sticky,N=i(u,d),M=d.source,k=0,D=E;if(A&&(N=O(N,"y",""),-1===m(N,"g")&&(N+="g"),D=x(E,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(E,d.lastIndex-1))&&(M="(?: "+M+")",D=" "+D,k++),n=new RegExp("^(?:"+M+")",N)),_&&(n=new RegExp("^"+M+"$(?!\\s)",N)),j&&(r=d.lastIndex),o=i(v,A?n:d,D),A?o?(o.input=x(o.input,k),o[0]=x(o[0],k),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:j&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),_&&o&&o.length>1&&i(y,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=s=f(null),a=0;a<P.length;a++)s[(l=P[a])[0]]=o[l[1]];return o}),e.exports=g},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(67),a=n(68),c=n(43),u=n(38),s=n(119),l=n(61),f=n(75)("splice"),p=o.TypeError,d=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,o,f,y,v,g=u(this),b=c(g),m=i(e,b),O=arguments.length;if(0===O?n=r=0:1===O?(n=0,r=b-m):(n=O-2,r=h(d(a(t),0),b-m)),b+n-r>9007199254740991)throw p("Maximum allowed length exceeded");for(o=s(g,r),f=0;f<r;f++)(y=m+f)in g&&l(o,f,g[y]);if(o.length=r,n<r){for(f=m;f<b-r;f++)v=f+n,(y=f+r)in g?g[v]=g[y]:delete g[v];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>m;f--)v=f+n-1,(y=f+r-1)in g?g[v]=g[y]:delete g[v];for(f=0;f<n;f++)g[f+m]=arguments[f+2];return g.length=b-r+n,o}})},function(e,t,n){"use strict";var r=n(16),o=n(201);r({target:"String",proto:!0,forced:n(202)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(82))},function(e,n,r){"use strict";(function(e){var o=r(30),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(121)(e))},function(e,t,n){var r=n(7),o=n(108),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(7),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(65),o=n(18);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(16),o=n(35),i=n(64),a=n(94),c=n(28),u=n(171),s=n(96),l=n(97),f=n(73),p=n(57),d=n(44),h=n(27),y=n(70),v=n(136),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,O=v.BUGGY_SAFARI_ITERATORS,x=h("iterator"),j=function(){return this};e.exports=function(e,t,n,a,h,v,w){u(n,t,a);var _,E,S,P=function(e){if(e===h&&D)return D;if(!O&&e in M)return M[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",N=!1,M=e.prototype,k=M[x]||M["@@iterator"]||h&&M[h],D=!O&&k||P(h),T="Array"==t&&M.entries||k;if(T&&(_=s(T.call(new e)))!==Object.prototype&&_.next&&(i||s(_)===m||(l?l(_,m):c(_[x])||d(_,x,j)),f(_,A,!0,!0),i&&(y[A]=j)),g&&"values"==h&&k&&"values"!==k.name&&(!i&&b?p(M,"name","values"):(N=!0,D=function(){return o(k,this)})),h)if(E={values:P("values"),keys:v?D:P("keys"),entries:P("entries")},w)for(S in E)(O||N||!(S in M))&&d(M,S,E[S]);else r({target:t,proto:!0,forced:O||N},E);return i&&!w||M[x]===D||d(M,x,D,{name:h}),y[t]=D,E}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(7),o=n(67),i=n(43),a=n(61),c=r.Array,u=Math.max;e.exports=function(e,t,n){for(var r=i(e),s=o(t,r),l=o(void 0===n?r:n,r),f=c(u(l-s,0)),p=0;s<l;s++,p++)a(f,p,e[s]);return f.length=p,f}},function(e,t,n){var r=n(7),o=n(62),i=n(35),a=n(32),c=n(89),u=n(140),s=n(43),l=n(58),f=n(141),p=n(115),d=n(142),h=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},v=y.prototype;e.exports=function(e,t,n){var r,g,b,m,O,x,j,w=n&&n.that,_=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=o(t,w),A=function(e){return r&&d(r,"normal",e),new y(!0,e)},N=function(e){return _?(a(e),S?P(e[0],e[1],A):P(e[0],e[1])):S?P(e,A):P(e)};if(E)r=e;else{if(!(g=p(e)))throw h(c(e)+" is not iterable");if(u(g)){for(b=0,m=s(e);m>b;b++)if((O=N(e[b]))&&l(v,O))return O;return new y(!1)}r=f(e,g)}for(x=r.next;!(j=i(x,r)).done;){try{O=N(j.value)}catch(e){d(r,"throw",e)}if("object"==typeof O&&O&&l(v,O))return O}return new y(!1)}},function(e,t,n){var r=n(98),o=n(59),i=n(70),a=n(27)("iterator");e.exports=function(e){if(null!=e)return o(e,a)||o(e,"@@iterator")||i[r(e)]}},function(e,t,n){var r={};r[n(27)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(7),o=n(58),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},function(e,t,n){var r=n(27)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(180);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(19);var r=n(15),o=n(44),i=n(102),a=n(18),c=n(27),u=n(57),s=c("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var p=c(e),d=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!d||!h||n){var y=r(/./[p]),v=t(p,""[e],(function(e,t,n,o,a){var c=r(e),u=t.exec;return u===i||u===l.exec?d&&!a?{done:!0,value:y(t,n,o)}:{done:!0,value:c(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,p,v[1])}f&&u(l[p],"sham",!0)}},function(e,t,n){"use strict";var r=n(146).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(7),o=n(35),i=n(32),a=n(28),c=n(50),u=n(102),s=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=o(n,e,t);return null!==r&&i(r),r}if("RegExp"===c(e))return o(u,e,t);throw s("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(76),o=n(35),i=n(15),a=n(122),c=n(18),u=n(32),s=n(28),l=n(68),f=n(90),p=n(40),d=n(45),h=n(123),y=n(59),v=n(197),g=n(124),b=n(27)("replace"),m=Math.max,O=Math.min,x=i([].concat),j=i([].push),w=i("".indexOf),_=i("".slice),E="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var i=S?"$":"$0";return[function(e,n){var r=d(this),i=null==e?void 0:y(e,b);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var a=u(this),c=p(e);if("string"==typeof o&&-1===w(o,i)&&-1===w(o,"$<")){var d=n(t,a,c,o);if(d.done)return d.value}var y=s(o);y||(o=p(o));var b=a.global;if(b){var E=a.unicode;a.lastIndex=0}for(var S=[];;){var P=g(a,c);if(null===P)break;if(j(S,P),!b)break;""===p(P[0])&&(a.lastIndex=h(c,f(a.lastIndex),E))}for(var A,N="",M=0,k=0;k<S.length;k++){for(var D=p((P=S[k])[0]),T=m(O(l(P.index),c.length),0),C=[],I=1;I<P.length;I++)j(C,void 0===(A=P[I])?A:String(A));var R=P.groups;if(y){var L=x([D],C,T,c);void 0!==R&&j(L,R);var z=p(r(o,void 0,L))}else z=v(D,c,T,C,R,o);T>=M&&(N+=_(c,M,T)+z,M=T+D.length)}return N+_(c,M)}]}),!!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!E||S)},function(e,t,n){var r=n(50),o=n(7);e.exports="process"==r(o.process)},function(e,t,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(109);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(36),o=n(18),i=n(86);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(7),o=n(35),i=n(33),a=n(88),c=n(59),u=n(169),s=n(27),l=r.TypeError,f=s("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=c(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t,n){var r=n(15),o=n(34),i=n(39),a=n(132).indexOf,c=n(69),u=r([].push);e.exports=function(e,t){var n,r=i(e),s=0,l=[];for(n in r)!o(c,n)&&o(r,n)&&u(l,n);for(;t.length>s;)o(r,n=t[s++])&&(~a(l,n)||u(l,n));return l}},function(e,t,n){var r=n(39),o=n(67),i=n(43),a=function(e){return function(t,n,a){var c,u=r(t),s=i(u),l=o(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(46);e.exports=r("document","documentElement")},function(e,t,n){var r=n(34),o=n(135),i=n(51),a=n(37);e.exports=function(e,t){for(var n=o(t),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||c(e,l,u(t,l))}}},function(e,t,n){var r=n(46),o=n(15),i=n(72),a=n(112),c=n(32),u=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(c(e)),n=a.f;return n?u(t,n(e)):t}},function(e,t,n){"use strict";var r,o,i,a=n(18),c=n(28),u=n(54),s=n(96),l=n(44),f=n(27),p=n(64),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[d].call(e)!==e}))?r={}:p&&(r=u(r)),c(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(18);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(16),o=n(15),i=n(69),a=n(33),c=n(34),u=n(37).f,s=n(72),l=n(139),f=n(174),p=n(85),d=n(176),h=!1,y=p("meta"),v=0,g=function(e){u(e,y,{value:{objectID:"O"+v++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},h=!0;var e=s.f,t=o([].splice),n={};n[y]=1,e(n).length&&(s.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===y){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!c(e,y)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[y].objectID},getWeakData:function(e,t){if(!c(e,y)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[y].weakData},onFreeze:function(e){return d&&h&&f(e)&&!c(e,y)&&g(e),e}};i[y]=!0},function(e,t,n){var r=n(50),o=n(39),i=n(72).f,a=n(113),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return c&&"Window"==r(e)?function(e){try{return i(e)}catch(e){return a(c)}}(e):i(o(e))}},function(e,t,n){var r=n(27),o=n(70),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(7),o=n(35),i=n(55),a=n(32),c=n(89),u=n(115),s=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(i(n))return a(o(n,e));throw s(c(e)+" is not iterable")}},function(e,t,n){var r=n(35),o=n(32),i=n(59);e.exports=function(e,t,n){var a,c;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){c=!0,a=e}if("throw"===t)throw n;if(c)throw a;return o(a),n}},function(e,t,n){var r=n(28),o=n(33),i=n(97);e.exports=function(e,t,n){var a,c;return i&&r(a=t.constructor)&&a!==n&&o(c=a.prototype)&&c!==n.prototype&&i(e,c),e}},function(e,t,n){var r=n(44);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(46),o=n(37),i=n(27),a=n(36),c=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(15),o=n(68),i=n(40),a=n(45),c=r("".charAt),u=r("".charCodeAt),s=r("".slice),l=function(e){return function(t,n){var r,l,f=i(a(t)),p=o(n),d=f.length;return p<0||p>=d?e?"":void 0:(r=u(f,p))<55296||r>56319||p+1===d||(l=u(f,p+1))<56320||l>57343?e?c(f,p):r:e?s(f,p,p+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(86)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},function(e,t,n){var r=n(27);t.f=r},function(e,t,n){var r=n(181),o=n(34),i=n(149),a=n(37).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(18),o=n(7).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),c=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(e,t,n){"use strict";var r=n(16),o=n(132).includes,i=n(83);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(193),a=n(45),c=n(40),u=n(194),s=o("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(c(a(this)),c(i(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(33),o=n(50),i=n(27)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(32),o=n(157),i=n(27)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(7),o=n(100),i=n(89),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(16),o=n(159).trim;r({target:"String",proto:!0,forced:n(195)("trim")},{trim:function(){return o(this)}})},function(e,t,n){var r=n(15),o=n(45),i=n(40),a=n(160),c=r("".replace),u="["+a+"]",s=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=c(n,s,"")),2&e&&(n=c(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(35),o=n(122),i=n(32),a=n(90),c=n(40),u=n(45),s=n(59),l=n(123),f=n(124);o("match",(function(e,t,n){return[function(t){var n=u(this),o=null==t?void 0:s(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=i(this),o=c(e),u=n(t,r,o);if(u.done)return u.value;if(!r.global)return f(r,o);var s=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=f(r,o));){var y=c(p[0]);d[h]=y,""===y&&(r.lastIndex=l(o,a(r.lastIndex),s)),h++}return 0===h?null:d}]}))},function(e,t,n){var r,o,i,a,c=n(7),u=n(76),s=n(62),l=n(28),f=n(34),p=n(18),d=n(133),h=n(101),y=n(86),v=n(163),g=n(126),b=c.setImmediate,m=c.clearImmediate,O=c.process,x=c.Dispatch,j=c.Function,w=c.MessageChannel,_=c.String,E=0,S={};try{r=c.location}catch(e){}var P=function(e){if(f(S,e)){var t=S[e];delete S[e],t()}},A=function(e){return function(){P(e)}},N=function(e){P(e.data)},M=function(e){c.postMessage(_(e),r.protocol+"//"+r.host)};b&&m||(b=function(e){var t=h(arguments,1);return S[++E]=function(){u(l(e)?e:j(e),void 0,t)},o(E),E},m=function(e){delete S[e]},g?o=function(e){O.nextTick(A(e))}:x&&x.now?o=function(e){x.now(A(e))}:w&&!v?(a=(i=new w).port2,i.port1.onmessage=N,o=s(a.postMessage,a)):c.addEventListener&&l(c.postMessage)&&!c.importScripts&&r&&"file:"!==r.protocol&&!p(M)?(o=M,c.addEventListener("message",N,!1)):o="onreadystatechange"in y("script")?function(e){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),P(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:b,clear:m}},function(e,t,n){var r=n(53);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(55),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},c=function(e){return function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function s(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.k)("observableFromPromise-resolve",(function(e){n.value=e,n.state="fulfilled"})),Object(r.k)("observableFromPromise-reject",(function(e){n.value=e,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=u;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(r.q)(n,{value:o,state:"pending"},{},{deep:!1}),n}!function(e){e.reject=Object(r.k)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state="rejected",n.value=t,n})),e.resolve=Object(r.k)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state="fulfilled",n.value=t,n}))}(s||(s={}));var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object(r.G)((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},l([r.C.ref],e.prototype,"current",void 0),l([r.k.bound],e.prototype,"next",null),l([r.k.bound],e.prototype,"complete",null),l([r.k.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function y(e){return Object(r.A)(e)||Object(r.y)(e)||Object(r.z)(e)}function v(e,t){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(n,r){return i(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(y(e.object[r])){var o=n.get(e.object[r]);o&&(o.path=""+r)}}}(r,o),t(r,h(o),e)}function i(e,t,a){if(y(e)){var c=n.get(e);if(c){if(c.parent!==t||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(t)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:t,path:a,dispose:Object(r.D)(e,o)};n.set(e,u),Object(r.p)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(y(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.L)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(r.A)(e),"createViewModel expects an observable object"),c(e).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===d.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.w)(e,n)){var o=Object(r.h)(e,n).derivation;t.localComputedValues.set(n,Object(r.m)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,n),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,n,f(f({},c),{configurable:!0,get:function(){return Object(r.w)(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r.k)((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.B)(this.localValues).forEach((function(t){var n=e.localValues.get(t),o=e.model[t];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},p([r.m],e.prototype,"isDirty",null),p([r.m],e.prototype,"changedValues",null),p([r.k.bound],e.prototype,"submit",null),p([r.k.bound],e.prototype,"reset",null),p([r.k.bound],e.prototype,"resetProperty",null)}();var g,b=(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=(function(e){function t(t,n,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+c),l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=Object(r.D)(l._base,(function(e){if("splice"===e.type)Object(r.J)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.J)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}b(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return t._groupBy(e)}),(function(n,r){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,e)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,n(155))},function(e,t,n){var r;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();b.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},b.init=function(){var e=b(i);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),o.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:t=v(r,i,t)}}function b(e){var t=this;if(e=e||i,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,c=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(c=!1)}function s(e,n,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(s=t._callbacks[e][u],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==c;(h||v)&&t._callbacks[e].splice(u,1),p.push(s)}return p}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function s(t){return function(){c=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){l(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}r[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:s(a||g(t[p+1]).action);v(t[p],d,a,e,p)}}function v(e,n,r,o,i){t._directMap[e+":"+r]=n;var a,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,n,r):(a=g(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=s(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=c||y(e)||d||u(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){var r=n(36),o=n(37),i=n(32),a=n(39),c=n(66);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),u=c(t),s=u.length,l=0;s>l;)o.f(e,n=u[l++],r[n]);return e}},function(e,t,n){var r=n(7),o=n(35),i=n(28),a=n(33),c=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw c("Can't convert object to primitive value")}},function(e,t,n){var r=n(7),o=n(28),i=n(92),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},function(e,t,n){"use strict";var r=n(136).IteratorPrototype,o=n(54),i=n(71),a=n(73),c=n(70),u=function(){return this};e.exports=function(e,t,n,s){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!s,n)}),a(e,l,!1,!0),c[l]=u,e}},function(e,t,n){var r=n(7),o=n(28),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(15),a=n(95),c=n(44),u=n(138),s=n(114),l=n(117),f=n(28),p=n(33),d=n(18),h=n(118),y=n(73),v=n(143);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),m=g?"set":"add",O=o[e],x=O&&O.prototype,j=O,w={},_=function(e){var t=i(x[e]);c(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!f(O)||!(b||x.forEach&&!d((function(){(new O).entries().next()})))))j=n.getConstructor(t,e,g,m),u.enable();else if(a(e,!0)){var E=new j,S=E[m](b?{}:-0,1)!=E,P=d((function(){E.has(1)})),A=h((function(e){new O(e)})),N=!b&&d((function(){for(var e=new O,t=5;t--;)e[m](t,t);return!e.has(-0)}));A||((j=t((function(e,t){l(e,x);var n=v(new O,e,j);return null!=t&&s(t,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=x,x.constructor=j),(P||N)&&(_("delete"),_("has"),g&&_("get")),(N||S)&&_(m),b&&x.clear&&delete x.clear}return w[e]=j,r({global:!0,forced:j!=O},w),y(j,e),b||n.setStrong(j,e,g),j}},function(e,t,n){var r=n(18),o=n(33),i=n(50),a=n(175),c=Object.isExtensible,u=r((function(){c(1)}));e.exports=u||a?function(e){return!!o(e)&&(!a||"ArrayBuffer"!=i(e))&&(!c||c(e))}:c},function(e,t,n){var r=n(18);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var r=n(18);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(37).f,o=n(54),i=n(144),a=n(62),c=n(117),u=n(114),s=n(111),l=n(145),f=n(36),p=n(138).fastKey,d=n(56),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,r){c(e,d),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[s],{that:e,AS_ENTRIES:n})})),d=l.prototype,v=y(t),g=function(e,t,n){var r,o,i=v(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=v(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(d,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=v(this),n=b(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(d,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);s(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";var r=n(116),o=n(98);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(74).forEach,o=n(120)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(7),o=n(99),i=n(100),a=n(33),c=n(27)("species"),u=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===u||o(t.prototype))||a(t)&&null===(t=t[c]))&&(t=void 0)),void 0===t?u:t}},function(e,t,n){var r=n(7);e.exports=r},function(e,t,n){"use strict";var r=n(7),o=n(62),i=n(35),a=n(38),c=n(183),u=n(140),s=n(100),l=n(43),f=n(61),p=n(141),d=n(115),h=r.Array;e.exports=function(e){var t=a(e),n=s(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,O,x,j,w=d(t),_=0;if(!w||this==h&&u(w))for(g=l(t),b=n?new this(g):h(g);g>_;_++)j=v?y(t[_],_):t[_],f(b,_,j);else for(x=(O=p(t,w)).next,b=n?new this:[];!(m=i(x,O)).done;_++)j=v?c(O,y,[m.value,_],!0):m.value,f(b,_,j);return b.length=_,b}},function(e,t,n){var r=n(32),o=n(142);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},function(e,t,n){"use strict";var r=n(32);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(18),o=n(7).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(18),o=n(7).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(55),a=n(38),c=n(43),u=n(40),s=n(18),l=n(188),f=n(120),p=n(189),d=n(190),h=n(65),y=n(191),v=[],g=o(v.sort),b=o(v.push),m=s((function(){v.sort(void 0)})),O=s((function(){v.sort(null)})),x=f("sort"),j=!s((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!O||!x||!j},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(j)return void 0===e?g(t):g(t,e);var n,r,o=[],s=c(t);for(r=0;r<s;r++)r in t&&b(o,t[r]);for(l(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<s;)delete t[r++];return t}})},function(e,t,n){var r=n(113),o=Math.floor,i=function e(t,n){var i=t.length,u=o(i/2);return i<8?a(t,n):c(t,e(r(t,0,u),n),e(r(t,u),n),n)},a=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},c=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,c=0;a<o||c<i;)e[a+c]=a<o&&c<i?r(t[a],n[c])<=0?t[a++]:n[c++]:a<o?t[a++]:n[c++];return e};e.exports=i},function(e,t,n){var r=n(53).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(53);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(53).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";var r=n(16),o=n(74).find,i=n(83),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){var r=n(7),o=n(154),i=r.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(27)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(94).PROPER,o=n(18),i=n(160);e.exports=function(e){return o((function(){return!!i[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&i[e].name!==e}))}},function(e,t,n){var r=n(15);e.exports=r(1..valueOf)},function(e,t,n){var r=n(15),o=n(38),i=Math.floor,a=r("".charAt),c=r("".replace),u=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,p){var d=n+e.length,h=r.length,y=l;return void 0!==f&&(f=o(f),y=s),c(p,y,(function(o,c){var s;switch(a(c,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":s=f[u(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===r[p-1]?a(c,1):r[p-1]+a(c,1):o}s=r[l-1]}return void 0===s?"":s}))}},function(e,t,n){"use strict";var r=n(7),o=n(15),i=n(55),a=n(33),c=n(34),u=n(101),s=r.Function,l=o([].concat),f=o([].join),p={},d=function(e,t,n){if(!c(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=s("C,a","return new C("+f(r,",")+")")}return p[t](e,n)};e.exports=s.bind||function(e){var t=i(this),n=t.prototype,r=u(arguments,1),o=function n(){var o=l(r,u(arguments));return this instanceof n?d(t,o.length,o):t.apply(e,o)};return a(n)&&(o.prototype=n),o}},function(e,t,n){var r=n(34);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){"use strict";var r=n(36),o=n(15),i=n(35),a=n(18),c=n(66),u=n(112),s=n(93),l=n(38),f=n(81),p=Object.assign,d=Object.defineProperty,h=o([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||"abcdefghijklmnopqrst"!=c(p({},t)).join("")}))?function(e,t){for(var n=l(e),o=arguments.length,a=1,p=u.f,d=s.f;o>a;)for(var y,v=f(arguments[a++]),g=p?h(c(v),p(v)):c(v),b=g.length,m=0;b>m;)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y]);return n}:p},function(e,t,n){var r=n(15),o=n(45),i=n(40),a=/"/g,c=r("".replace);e.exports=function(e,t,n,r){var u=i(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+c(i(r),a,"&quot;")+'"'),s+">"+u+"</"+t+">"}},function(e,t,n){var r=n(18);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){var r=n(16),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,c=0,u=arguments.length,s=0;c<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(e,t,n){"use strict";var r,o,i,a,c=n(16),u=n(64),s=n(7),l=n(46),f=n(35),p=n(205),d=n(44),h=n(144),y=n(97),v=n(73),g=n(145),b=n(55),m=n(28),O=n(33),x=n(117),j=n(92),w=n(114),_=n(118),E=n(156),S=n(162).set,P=n(206),A=n(209),N=n(210),M=n(164),k=n(211),D=n(56),T=n(95),C=n(27),I=n(212),R=n(126),L=n(65),z=C("species"),B="Promise",G=D.getterFor(B),F=D.set,H=D.getterFor(B),U=p&&p.prototype,X=p,Y=U,V=s.TypeError,W=s.document,K=s.process,Z=M.f,q=Z,J=!!(W&&W.createEvent&&s.dispatchEvent),Q=m(s.PromiseRejectionEvent),$=!1,ee=T(B,(function(){var e=j(X),t=e!==String(X);if(!t&&66===L)return!0;if(u&&!Y.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new X((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[z]=r,!($=n.then((function(){}))instanceof r)||!t&&I&&!Q})),te=ee||!_((function(e){X.all(e).catch((function(){}))})),ne=function(e){var t;return!(!O(e)||!m(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;P((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,c,u,s=n[i++],l=o?s.ok:s.fail,p=s.resolve,d=s.reject,h=s.domain;try{l?(o||(2===e.rejection&&ce(e),e.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),u=!0)),a===s.promise?d(V("Promise-chain cycle")):(c=ne(a))?f(c,a,p,d):p(a)):d(r)}catch(e){h&&!u&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},oe=function(e,t,n){var r,o;J?((r=W.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),s.dispatchEvent(r)):r={promise:t,reason:n},!Q&&(o=s["on"+e])?o(r):"unhandledrejection"===e&&N("Unhandled promise rejection",n)},ie=function(e){f(S,s,(function(){var t,n=e.facade,r=e.value;if(ae(e)&&(t=k((function(){R?K.emit("unhandledRejection",r,n):oe("unhandledrejection",n,r)})),e.rejection=R||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},ce=function(e){f(S,s,(function(){var t=e.facade;R?K.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,re(e,!0))},le=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw V("Promise can't be resolved itself");var o=ne(n);o?P((function(){var r={done:!1};try{f(o,n,ue(e,r,t),ue(se,r,t))}catch(n){se(r,n,t)}})):(t.value=n,t.state=1,re(t,!1))}catch(n){se({done:!1},n,t)}}};if(ee&&(Y=(X=function(e){x(this,Y),b(e),f(r,this);var t=G(this);try{e(ue(le,t),ue(se,t))}catch(e){se(t,e)}}).prototype,(r=function(e){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(Y,{then:function(e,t){var n=H(this),r=n.reactions,o=Z(E(this,X));return o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=R?K.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&re(n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=G(e);this.promise=e,this.resolve=ue(le,t),this.reject=ue(se,t)},M.f=Z=function(e){return e===X||e===i?new o(e):q(e)},!u&&m(p)&&U!==Object.prototype)){a=U.then,$||(d(U,"then",(function(e,t){var n=this;return new X((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0}),d(U,"catch",Y.catch,{unsafe:!0}));try{delete U.constructor}catch(e){}y&&y(U,Y)}c({global:!0,wrap:!0,forced:ee},{Promise:X}),v(X,B,!1,!0),g(B),i=l(B),c({target:B,stat:!0,forced:ee},{reject:function(e){var t=Z(this);return f(t.reject,void 0,e),t.promise}}),c({target:B,stat:!0,forced:u||ee},{resolve:function(e){return A(u&&this===i?X:this,e)}}),c({target:B,stat:!0,forced:te},{all:function(e){var t=this,n=Z(t),r=n.resolve,o=n.reject,i=k((function(){var n=b(t.resolve),i=[],a=0,c=1;w(e,(function(e){var u=a++,s=!1;c++,f(n,t,e).then((function(e){s||(s=!0,i[u]=e,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Z(t),r=n.reject,o=k((function(){var o=b(t.resolve);w(e,(function(e){f(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r=n(7);e.exports=r.Promise},function(e,t,n){var r,o,i,a,c,u,s,l,f=n(7),p=n(62),d=n(51).f,h=n(162).set,y=n(163),v=n(207),g=n(208),b=n(126),m=f.MutationObserver||f.WebKitMutationObserver,O=f.document,x=f.process,j=f.Promise,w=d(f,"queueMicrotask"),_=w&&w.value;_||(r=function(){var e,t;for(b&&(e=x.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},y||b||g||!m||!O?!v&&j&&j.resolve?((s=j.resolve(void 0)).constructor=j,l=p(s.then,s),a=function(){l(r)}):b?a=function(){x.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(c=!0,u=O.createTextNode(""),new m(r).observe(u,{characterData:!0}),a=function(){u.data=c=!c})),e.exports=_||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(53),o=n(7);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(e,t,n){var r=n(53);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(32),o=n(33),i=n(164);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports="object"==typeof window},function(e,t,n){var r=n(36),o=n(15),i=n(66),a=n(39),c=o(n(93).f),u=o([].push),s=function(e){return function(t){for(var n,o=a(t),s=i(o),l=s.length,f=0,p=[];l>f;)n=s[f++],r&&!c(o,n)||u(p,e?[n,o[n]]:o[n]);return p}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){"use strict";var r=n(38),o=n(67),i=n(43);e.exports=function(e){for(var t=r(this),n=i(t),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)t[c++]=e;return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return Nm})),n.d(t,"LogicFlow",(function(){return Am})),n.d(t,"h",(function(){return $.g})),n.d(t,"LogicFlowUtil",(function(){return r})),n.d(t,"BaseNode",(function(){return uy})),n.d(t,"RectNode",(function(){return gy})),n.d(t,"CircleNode",(function(){return Sy})),n.d(t,"PolygonNode",(function(){return By})),n.d(t,"DiamondNode",(function(){return Ky})),n.d(t,"EllipseNode",(function(){return cv})),n.d(t,"TextNode",(function(){return bv})),n.d(t,"HtmlNode",(function(){return Av})),n.d(t,"BaseEdge",(function(){return Ag})),n.d(t,"LineEdge",(function(){return Lg})),n.d(t,"PolylineEdge",(function(){return tb})),n.d(t,"BezierEdge",(function(){return pb})),n.d(t,"Arrow",(function(){return Hv})),n.d(t,"BaseEdgeModel",(function(){return Ba})),n.d(t,"BezierEdgeModel",(function(){return If})),n.d(t,"LineEdgeModel",(function(){return nc})),n.d(t,"PolylineEdgeModel",(function(){return Oc})),n.d(t,"BaseNodeModel",(function(){return Kf})),n.d(t,"CircleNodeModel",(function(){return dp})),n.d(t,"DiamondNodeModel",(function(){return Cp})),n.d(t,"EllipseNodeModel",(function(){return Qp})),n.d(t,"PolygonNodeModel",(function(){return bd})),n.d(t,"RectNodeModel",(function(){return Cd})),n.d(t,"TextNodeModel",(function(){return Zd})),n.d(t,"HtmlNodeModel",(function(){return sh})),n.d(t,"EditConfigModel",(function(){return yo})),n.d(t,"GraphModel",(function(){return Lu})),n.d(t,"SnaplineModel",(function(){return yh})),n.d(t,"Keyboard",(function(){return bm})),n.d(t,"get",(function(){return Zl})),n.d(t,"defaults",(function(){return Ql}));var r={};n.r(r),n.d(r,"createUuid",(function(){return zi})),n.d(r,"refreshGraphId",(function(){return Bi})),n.d(r,"createDrag",(function(){return lu})),n.d(r,"StepDrag",(function(){return _u}));var o=n(0),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),c=Object(a.b)("observerBatching");function u(e){e()}var s=!1;function l(){return s}function f(e){return Object(o.t)(e)}var p,d=1e4,h=new Set;function y(){void 0===p&&(p=setTimeout(v,1e4))}function v(){p=void 0;var e=Date.now();h.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,h.delete(t))})),h.size>0&&y()}var g=!1,b=[],m={};function O(e){return"observer"+e}function x(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=m),l())return e();var r,c=function(e){return function(){g?b.push(e):e()}}((n.useForceUpdate||a.d)()),u=i.d.useRef(null);if(!u.current){var s=new o.c(O(t),(function(){p.mounted?c():(s.dispose(),u.current=null)})),p=function(e){return{cleanAt:Date.now()+d,reaction:e}}(s);u.current=p,r=u,h.add(r),y()}var v=u.current.reaction;return i.d.useDebugValue(v,f),i.d.useEffect((function(){var e;return e=u,h.delete(e),u.current?u.current.mounted=!0:(u.current={reaction:new o.c(O(t),(function(){c()})),cleanAt:1/0},c()),function(){u.current.reaction.dispose(),u.current=null}}),[]),function(e){g=!0,b=[];try{var t=e();g=!1;var n=b.length>0?b:void 0;return i.d.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{g=!1}}((function(){var t,n;if(v.track((function(){try{t=e()}catch(e){n=e}})),n)throw n;return t}))}var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function w(e,t){if(l())return e;var n,r,o,a=j({forwardRef:!1},t),c=e.displayName||e.name,u=function(t,n){return x((function(){return e(t,n)}),c)};return u.displayName=c,n=a.forwardRef?Object(i.f)(Object(i.e)(u)):Object(i.f)(u),r=e,o=n,Object.keys(r).forEach((function(e){E[e]||Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=c,n}var _,E={$$typeof:!0,render:!0,compare:!0,type:!0};function S(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:x(r)}function P(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],c="function"==typeof e[i];return a&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}S.propTypes={children:P,render:P},S.displayName="Observer",(_=i.g)||(_=u),Object(o.n)({reactionScheduler:_}),Object(a.a)()[c]=!0;var A=0,N={};function M(e){return N[e]||(N[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+A+")";return A++,t}(e)),N[e]}function k(e,t){if(D(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!D(e[n[o]],t[n[o]]))return!1;return!0}function D(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function T(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var C=M("patchMixins"),I=M("patchedDefinition");function R(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function L(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];R.call.apply(R,[this,e,t].concat(r))}}function z(e,t,n){var r=function(e,t){var n=e[C]=e[C]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[I]){var i=e[t],a=function e(t,n,r,o,i){var a,c=L(i,o);return(a={})[I]=!0,a.get=function(){return c},a.set=function(i){if(this===t)c=L(i,o);else{var a=e(this,n,r,o,i);Object.defineProperty(this,n,a)}},a.configurable=!0,a.enumerable=r,a}(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}var B=o.a||"$mobx",G=M("isMobXReactObserver"),F=M("isUnmounted"),H=M("skipRender"),U=M("isForcingUpdate");function X(e){var t=e.prototype;if(e[G]){var n=Y(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[G]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==i.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==W)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=W;K(t,"props"),K(t,"state");var r=t.render;return t.render=function(){return V.call(this,r)},z(t,"componentWillUnmount",(function(){var e;if(!0!==l()&&(null===(e=this.render[B])||void 0===e||e.dispose(),this[F]=!0,!this.render[B])){var t=Y(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function Y(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function V(e){var t=this;if(!0===l())return e.call(this);T(this,H,!1),T(this,U,!1);var n=Y(this),r=e.bind(this),a=!1,c=new o.c(n+".render()",(function(){if(!a&&(a=!0,!0!==t[F])){var e=!0;try{T(t,U,!0),t[H]||i.a.prototype.forceUpdate.call(t),e=!1}finally{T(t,U,!1),e&&c.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(c.track((function(){try{t=Object(o.d)(!1,r)}catch(t){e=t}})),e)throw e;return t}return c.reactComponent=this,u[B]=c,this.render=u,u.call(this)}function W(e,t){return l()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!k(this.props,e)}function K(e,t){var n=M("reactProp_"+t+"_valueHolder"),r=M("reactProp_"+t+"_atomHolder");function i(){return this[r]||T(this,r,Object(o.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return o.f&&o.e&&(e=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(e),this[n]},set:function(e){this[U]||k(this[n],e)?T(this,n,e):(T(this,n,e),T(this,H,!0),i.call(this).reportChanged(),T(this,H,!1))}})}var Z="function"==typeof Symbol&&Symbol.for,q=Z?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(e){return null})).$$typeof,J=Z?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(e){return null})).$$typeof;function Q(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),J&&e.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(q&&e.$$typeof===q){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var e=arguments;return Object(i.c)(S,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(i.a,e)?X(e):w(e)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var $=n(1);n(3),n(60),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(8),n(9),n(17),n(25),n(19),n(29),n(187),n(192),n(103),n(152),n(153);var ee=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},te=function(){this.__data__=[],this.size=0},ne=function(e,t){return e===t||e!=e&&t!=t},re=function(e,t){for(var n=e.length;n--;)if(ne(e[n][0],t))return n;return-1},oe=Array.prototype.splice,ie=function(e){var t=this.__data__,n=re(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},ae=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]},ce=function(e){return re(this.__data__,e)>-1},ue=function(e,t){var n=this.__data__,r=re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}se.prototype.clear=te,se.prototype.delete=ie,se.prototype.get=ae,se.prototype.has=ce,se.prototype.set=ue;var le,fe=se,pe=function(){this.__data__=new fe,this.size=0},de=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},he=function(e){return this.__data__.get(e)},ye=function(e){return this.__data__.has(e)},ve=n(30),ge=ve.a.Symbol,be=Object.prototype,me=be.hasOwnProperty,Oe=be.toString,xe=ge?ge.toStringTag:void 0,je=function(e){var t=me.call(e,xe),n=e[xe];try{e[xe]=void 0;var r=!0}catch(e){}var o=Oe.call(e);return r&&(t?e[xe]=n:delete e[xe]),o},we=Object.prototype.toString,_e=function(e){return we.call(e)},Ee=ge?ge.toStringTag:void 0,Se=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ee&&Ee in Object(e)?je(e):_e(e)},Pe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ae=function(e){if(!Pe(e))return!1;var t=Se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ne=ve.a["__core-js_shared__"],Me=(le=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+le:"",ke=function(e){return!!Me&&Me in e},De=Function.prototype.toString,Te=function(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ce=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Re=Object.prototype,Le=Ie.toString,ze=Re.hasOwnProperty,Be=RegExp("^"+Le.call(ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=function(e){return!(!Pe(e)||ke(e))&&(Ae(e)?Be:Ce).test(Te(e))},Fe=function(e,t){return null==e?void 0:e[t]},He=function(e,t){var n=Fe(e,t);return Ge(n)?n:void 0},Ue=He(ve.a,"Map"),Xe=He(Object,"create"),Ye=function(){this.__data__=Xe?Xe(null):{},this.size=0},Ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},We=Object.prototype.hasOwnProperty,Ke=function(e){var t=this.__data__;if(Xe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return We.call(t,e)?t[e]:void 0},Ze=Object.prototype.hasOwnProperty,qe=function(e){var t=this.__data__;return Xe?void 0!==t[e]:Ze.call(t,e)},Je=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xe&&void 0===t?"__lodash_hash_undefined__":t,this};function Qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qe.prototype.clear=Ye,Qe.prototype.delete=Ve,Qe.prototype.get=Ke,Qe.prototype.has=qe,Qe.prototype.set=Je;var $e=Qe,et=function(){this.size=0,this.__data__={hash:new $e,map:new(Ue||fe),string:new $e}},tt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},nt=function(e,t){var n=e.__data__;return tt(t)?n["string"==typeof t?"string":"hash"]:n.map},rt=function(e){var t=nt(this,e).delete(e);return this.size-=t?1:0,t},ot=function(e){return nt(this,e).get(e)},it=function(e){return nt(this,e).has(e)},at=function(e,t){var n=nt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ct(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ct.prototype.clear=et,ct.prototype.delete=rt,ct.prototype.get=ot,ct.prototype.has=it,ct.prototype.set=at;var ut=ct,st=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!Ue||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ut(r)}return n.set(e,t),this.size=n.size,this};function lt(e){var t=this.__data__=new fe(e);this.size=t.size}lt.prototype.clear=pe,lt.prototype.delete=de,lt.prototype.get=he,lt.prototype.has=ye,lt.prototype.set=st;var ft=lt,pt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},dt=function(e){return this.__data__.has(e)};function ht(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ut;++t<n;)this.add(e[t])}ht.prototype.add=ht.prototype.push=pt,ht.prototype.has=dt;var yt=ht,vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},gt=function(e,t){return e.has(t)},bt=function(e,t,n,r,o,i){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;var f=-1,p=!0,d=2&n?new yt:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!vt(t,(function(e,t){if(!gt(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},mt=ve.a.Uint8Array,Ot=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},xt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},jt=ge?ge.prototype:void 0,wt=jt?jt.valueOf:void 0,_t=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new mt(e),new mt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ne(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Ot;case"[object Set]":var u=1&r;if(c||(c=xt),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var l=bt(c(e),c(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(wt)return wt.call(e)==wt.call(t)}return!1},Et=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},St=Array.isArray,Pt=function(e,t,n){var r=t(e);return St(e)?r:Et(r,n(e))},At=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},Nt=function(){return[]},Mt=Object.prototype.propertyIsEnumerable,kt=Object.getOwnPropertySymbols,Dt=kt?function(e){return null==e?[]:(e=Object(e),At(kt(e),(function(t){return Mt.call(e,t)})))}:Nt,Tt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Ct=function(e){return null!=e&&"object"==typeof e},It=function(e){return Ct(e)&&"[object Arguments]"==Se(e)},Rt=Object.prototype,Lt=Rt.hasOwnProperty,zt=Rt.propertyIsEnumerable,Bt=It(function(){return arguments}())?It:function(e){return Ct(e)&&Lt.call(e,"callee")&&!zt.call(e,"callee")},Gt=n(48),Ft=/^(?:0|[1-9]\d*)$/,Ht=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ft.test(e))&&e>-1&&e%1==0&&e<t},Ut=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Xt={};Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Arguments]"]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object Boolean]"]=Xt["[object DataView]"]=Xt["[object Date]"]=Xt["[object Error]"]=Xt["[object Function]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt["[object Object]"]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object WeakMap]"]=!1;var Yt=function(e){return Ct(e)&&Ut(e.length)&&!!Xt[Se(e)]},Vt=function(e){return function(t){return e(t)}},Wt=n(49),Kt=Wt.a&&Wt.a.isTypedArray,Zt=Kt?Vt(Kt):Yt,qt=Object.prototype.hasOwnProperty,Jt=function(e,t){var n=St(e),r=!n&&Bt(e),o=!n&&!r&&Object(Gt.a)(e),i=!n&&!r&&!o&&Zt(e),a=n||r||o||i,c=a?Tt(e.length,String):[],u=c.length;for(var s in e)!t&&!qt.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ht(s,u))||c.push(s);return c},Qt=Object.prototype,$t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qt)},en=function(e,t){return function(n){return e(t(n))}},tn=en(Object.keys,Object),nn=Object.prototype.hasOwnProperty,rn=function(e){if(!$t(e))return tn(e);var t=[];for(var n in Object(e))nn.call(e,n)&&"constructor"!=n&&t.push(n);return t},on=function(e){return null!=e&&Ut(e.length)&&!Ae(e)},an=function(e){return on(e)?Jt(e):rn(e)},cn=function(e){return Pt(e,an,Dt)},un=Object.prototype.hasOwnProperty,sn=function(e,t,n,r,o,i){var a=1&n,c=cn(e),u=c.length;if(u!=cn(t).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in t:un.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++s<u;){var y=e[l=c[s]],v=t[l];if(r)var g=a?r(v,y,l,t,e,i):r(y,v,l,e,t,i);if(!(void 0===g?y===v||o(y,v,n,r,i):g)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},ln=He(ve.a,"DataView"),fn=He(ve.a,"Promise"),pn=He(ve.a,"Set"),dn=He(ve.a,"WeakMap"),hn=Te(ln),yn=Te(Ue),vn=Te(fn),gn=Te(pn),bn=Te(dn),mn=Se;(ln&&"[object DataView]"!=mn(new ln(new ArrayBuffer(1)))||Ue&&"[object Map]"!=mn(new Ue)||fn&&"[object Promise]"!=mn(fn.resolve())||pn&&"[object Set]"!=mn(new pn)||dn&&"[object WeakMap]"!=mn(new dn))&&(mn=function(e){var t=Se(e),n="[object Object]"==t?e.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case hn:return"[object DataView]";case yn:return"[object Map]";case vn:return"[object Promise]";case gn:return"[object Set]";case bn:return"[object WeakMap]"}return t});var On=mn,xn=Object.prototype.hasOwnProperty,jn=function(e,t,n,r,o,i){var a=St(e),c=St(t),u=a?"[object Array]":On(e),s=c?"[object Array]":On(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),p=u==s;if(p&&Object(Gt.a)(e)){if(!Object(Gt.a)(t))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new ft),a||Zt(e)?bt(e,t,n,r,o,i):_t(e,t,u,n,r,o,i);if(!(1&n)){var d=l&&xn.call(e,"__wrapped__"),h=f&&xn.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new ft),o(y,v,n,r,i)}}return!!p&&(i||(i=new ft),sn(e,t,n,r,o,i))},wn=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Ct(t)&&!Ct(n)?t!=t&&n!=n:jn(t,n,r,o,e,i))},_n=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],s=e[u],l=c[1];if(a&&c[2]){if(void 0===s&&!(u in e))return!1}else{var f=new ft;if(r)var p=r(s,l,u,e,t,f);if(!(void 0===p?wn(l,s,3,r,f):p))return!1}}return!0},En=function(e){return e==e&&!Pe(e)},Sn=function(e){for(var t=an(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,En(o)]}return t},Pn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},An=function(e){var t=Sn(e);return 1==t.length&&t[0][2]?Pn(t[0][0],t[0][1]):function(n){return n===e||_n(n,e,t)}},Nn=function(e){return"symbol"==typeof e||Ct(e)&&"[object Symbol]"==Se(e)},Mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kn=/^\w*$/,Dn=function(e,t){if(St(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Nn(e))||kn.test(e)||!Mn.test(e)||null!=t&&e in Object(t)};function Tn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Tn.Cache||ut),n}Tn.Cache=ut;var Cn,In,Rn,Ln,zn,Bn,Gn,Fn,Hn,Un,Xn,Yn,Vn,Wn,Kn,Zn,qn,Jn=Tn,Qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$n=/\\(\\)?/g,er=function(e){var t=Jn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Qn,(function(e,n,r,o){t.push(r?o.replace($n,"$1"):n||e)})),t})),tr=ge?ge.prototype:void 0,nr=tr?tr.toString:void 0,rr=function e(t){if("string"==typeof t)return t;if(St(t))return ee(t,e)+"";if(Nn(t))return nr?nr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},or=function(e){return null==e?"":rr(e)},ir=function(e,t){return St(e)?e:Dn(e,t)?[e]:er(or(e))},ar=function(e){if("string"==typeof e||Nn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},cr=function(e,t){for(var n=0,r=(t=ir(t,e)).length;null!=e&&n<r;)e=e[ar(t[n++])];return n&&n==r?e:void 0},ur=function(e,t,n){var r=null==e?void 0:cr(e,t);return void 0===r?n:r},sr=function(e,t){return null!=e&&t in Object(e)},lr=function(e,t,n){for(var r=-1,o=(t=ir(t,e)).length,i=!1;++r<o;){var a=ar(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ut(o)&&Ht(a,o)&&(St(e)||Bt(e))},fr=function(e,t){return null!=e&&lr(e,t,sr)},pr=function(e,t){return Dn(e)&&En(t)?Pn(ar(e),t):function(n){var r=ur(n,e);return void 0===r&&r===t?fr(n,e):wn(t,r,3)}},dr=function(e){return e},hr=function(e){return function(t){return null==t?void 0:t[e]}},yr=function(e){return function(t){return cr(t,e)}},vr=function(e){return Dn(e)?hr(ar(e)):yr(e)},gr=function(e){return"function"==typeof e?e:null==e?dr:"object"==typeof e?St(e)?pr(e[0],e[1]):An(e):vr(e)},br=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}(),mr=function(e,t){return function(n,r){if(null==n)return n;if(!on(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&br(e,t,an)})),Or=function(e,t){var n=-1,r=on(e)?Array(e.length):[];return mr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},xr=function(e,t){return(St(e)?ee:Or)(e,gr(t,3))},jr=function(){try{var e=He(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),wr=function(e,t,n){"__proto__"==t&&jr?jr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},_r=Object.prototype.hasOwnProperty,Er=function(e,t,n){var r=e[t];_r.call(e,t)&&ne(r,n)&&(void 0!==n||t in e)||wr(e,t,n)},Sr=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?wr(n,c,u):Er(n,c,u)}return n},Pr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Ar=Math.max,Nr=function(e,t,n){return t=Ar(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Ar(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),Pr(e,this,c)}},Mr=function(e){return function(){return e}},kr=jr?function(e,t){return jr(e,"toString",{configurable:!0,enumerable:!1,value:Mr(t),writable:!0})}:dr,Dr=Date.now,Tr=function(e){var t=0,n=0;return function(){var r=Dr(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(kr),Cr=function(e,t){return Tr(Nr(e,t,dr),e+"")},Ir=function(e,t,n){if(!Pe(n))return!1;var r=typeof t;return!!("number"==r?on(n)&&Ht(t,n.length):"string"==r&&t in n)&&ne(n[t],e)},Rr=function(e){return Cr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Ir(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))},Lr=Object.prototype.hasOwnProperty,zr=Rr((function(e,t){if($t(t)||on(t))Sr(t,an(t),e);else for(var n in t)Lr.call(t,n)&&Er(e,n,t[n])})),Br=function(e,t,n,r){if(!Pe(e))return e;for(var o=-1,i=(t=ir(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var u=ar(t[o]),s=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var l=c[u];void 0===(s=r?r(l,u,c):void 0)&&(s=Pe(l)?l:Ht(t[o+1])?[]:{})}Er(c,u,s),c=c[u]}return e},Gr=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=cr(e,a);n(c,a)&&Br(i,ir(a,e),c)}return i},Fr=function(e,t){return Gr(e,t,(function(t,n){return fr(e,n)}))},Hr=ge?ge.isConcatSpreadable:void 0,Ur=function(e){return St(e)||Bt(e)||!!(Hr&&e&&e[Hr])},Xr=function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=Ur),i||(i=[]);++a<c;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Et(i,u):o||(i[i.length]=u)}return i},Yr=function(e){return null!=e&&e.length?Xr(e,1):[]},Vr=function(e){return Tr(Nr(e,void 0,Yr),e+"")}((function(e,t){return null==e?{}:Fr(e,t)}));function Wr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Jr,Qr,$r,eo,to,no,ro,oo,io,ao,co,uo,so,lo,fo,po={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ho=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],yo=(In=qr((Cn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wr(this,"isSilentMode",In,this),Wr(this,"stopZoomGraph",Rn,this),Wr(this,"stopScrollGraph",Ln,this),Wr(this,"stopMoveGraph",zn,this),Wr(this,"adjustEdge",Bn,this),Wr(this,"adjustEdgeMiddle",Gn,this),Wr(this,"adjustEdgeStartAndEnd",Fn,this),Wr(this,"adjustNodePosition",Hn,this),Wr(this,"hideAnchors",Un,this),Wr(this,"hoverOutline",Xn,this),Wr(this,"nodeSelectedOutline",Yn,this),Wr(this,"edgeSelectedOutline",Vn,this),Wr(this,"nodeTextEdit",Wn,this),Wr(this,"edgeTextEdit",Kn,this),Wr(this,"nodeTextDraggable",Zn,this),Wr(this,"edgeTextDraggable",qn,this),Zr(this,"multipleSelectKey",""),Zr(this,"defaultConfig",{}),zr(this,this.getConfigDetail(t))}var t,n,r;return t=e,(n=[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);zr(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,n=e.textEdit,r={};if(!1===t&&zr(r,this.defaultConfig),!0===t){var o=Vr(po,ho);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},zr(r,o)}!1===n&&zr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=Vr(e,ho);return zr(r,i)}},{key:"getConfig",value:function(){return Vr(this,ho)}}])&&Kr(t.prototype,n),r&&Kr(t,r),e}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rn=qr(Cn.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ln=qr(Cn.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zn=qr(Cn.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bn=qr(Cn.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gn=qr(Cn.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fn=qr(Cn.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hn=qr(Cn.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Un=qr(Cn.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xn=qr(Cn.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yn=qr(Cn.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vn=qr(Cn.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wn=qr(Cn.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kn=qr(Cn.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zn=qr(Cn.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qn=qr(Cn.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qr(Cn.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(Cn.prototype,"updateEditConfig"),Cn.prototype),Cn);function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bo(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(77),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Jr||(Jr={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Qr||(Qr={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}($r||($r={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(eo||(eo={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(to||(to={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(no||(no={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(ro||(ro={}));var jo=(io=xo((oo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oo(this,"MINI_SCALE_SIZE",.2),Oo(this,"MAX_SCALE_SIZE",16),bo(this,"SCALE_X",io,this),bo(this,"SKEW_Y",ao,this),bo(this,"SKEW_X",co,this),bo(this,"SCALE_Y",uo,this),bo(this,"TRANSLATE_X",so,this),bo(this,"TRANSLATE_Y",lo,this),bo(this,"ZOOM_SIZE",fo,this),Oo(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=vo(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=vo(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=vo(e,2),o=r[0],i=r[1];return[o+t/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===e?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===e?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof e&&(n=e,r=e),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(t&&(this.TRANSLATE_X-=(n-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*t[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(e){this.eventCenter.emit(to.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(e,t,n,r){var o=vo(this.CanvasPointToHtmlPoint([e,t]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}])&&mo(t.prototype,n),r&&mo(t,r),e}()).prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ao=xo(oo.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),co=xo(oo.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),uo=xo(oo.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),so=xo(oo.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lo=xo(oo.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fo=xo(oo.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),xo(oo.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(oo.prototype,"zoom"),oo.prototype),xo(oo.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(oo.prototype,"resetZoom"),oo.prototype),xo(oo.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(oo.prototype,"translate"),oo.prototype),xo(oo.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(oo.prototype,"focusOn"),oo.prototype),oo),wo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},_o=function(e,t){return e&&Sr(t,an(t),e)},Eo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},So=Object.prototype.hasOwnProperty,Po=function(e){if(!Pe(e))return Eo(e);var t=$t(e),n=[];for(var r in e)("constructor"!=r||!t&&So.call(e,r))&&n.push(r);return n},Ao=function(e){return on(e)?Jt(e,!0):Po(e)},No=function(e,t){return e&&Sr(t,Ao(t),e)},Mo=n(106),ko=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Do=function(e,t){return Sr(e,Dt(e),t)},To=en(Object.getPrototypeOf,Object),Co=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Et(t,Dt(e)),e=To(e);return t}:Nt,Io=function(e,t){return Sr(e,Co(e),t)},Ro=function(e){return Pt(e,Ao,Co)},Lo=Object.prototype.hasOwnProperty,zo=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Lo.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Bo=function(e){var t=new e.constructor(e.byteLength);return new mt(t).set(new mt(e)),t},Go=function(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Fo=/\w*$/,Ho=function(e){var t=new e.constructor(e.source,Fo.exec(e));return t.lastIndex=e.lastIndex,t},Uo=ge?ge.prototype:void 0,Xo=Uo?Uo.valueOf:void 0,Yo=function(e){return Xo?Object(Xo.call(e)):{}},Vo=function(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Wo=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Bo(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Go(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vo(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Ho(e);case"[object Symbol]":return Yo(e)}},Ko=Object.create,Zo=function(){function e(){}return function(t){if(!Pe(t))return{};if(Ko)return Ko(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qo=function(e){return"function"!=typeof e.constructor||$t(e)?{}:Zo(To(e))},Jo=function(e){return Ct(e)&&"[object Map]"==On(e)},Qo=Wt.a&&Wt.a.isMap,$o=Qo?Vt(Qo):Jo,ei=function(e){return Ct(e)&&"[object Set]"==On(e)},ti=Wt.a&&Wt.a.isSet,ni=ti?Vt(ti):ei,ri={};ri["[object Arguments]"]=ri["[object Array]"]=ri["[object ArrayBuffer]"]=ri["[object DataView]"]=ri["[object Boolean]"]=ri["[object Date]"]=ri["[object Float32Array]"]=ri["[object Float64Array]"]=ri["[object Int8Array]"]=ri["[object Int16Array]"]=ri["[object Int32Array]"]=ri["[object Map]"]=ri["[object Number]"]=ri["[object Object]"]=ri["[object RegExp]"]=ri["[object Set]"]=ri["[object String]"]=ri["[object Symbol]"]=ri["[object Uint8Array]"]=ri["[object Uint8ClampedArray]"]=ri["[object Uint16Array]"]=ri["[object Uint32Array]"]=!0,ri["[object Error]"]=ri["[object Function]"]=ri["[object WeakMap]"]=!1;var oi=function e(t,n,r,o,i,a){var c,u=1&n,s=2&n,l=4&n;if(r&&(c=i?r(t,o,i,a):r(t)),void 0!==c)return c;if(!Pe(t))return t;var f=St(t);if(f){if(c=zo(t),!u)return ko(t,c)}else{var p=On(t),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Gt.a)(t))return Object(Mo.a)(t,u);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(c=s||d?{}:qo(t),!u)return s?Io(t,No(c,t)):Do(t,_o(c,t))}else{if(!ri[p])return i?t:{};c=Wo(t,p,u)}}a||(a=new ft);var h=a.get(t);if(h)return h;a.set(t,c),ni(t)?t.forEach((function(o){c.add(e(o,n,r,o,t,a))})):$o(t)&&t.forEach((function(o,i){c.set(i,e(o,n,r,i,t,a))}));var y=f?void 0:(l?s?Ro:cn:s?Ao:an)(t);return wo(y||t,(function(o,i){y&&(o=t[i=o]),Er(c,i,e(o,n,r,i,t,a))})),c},ii=function(e){return oi(e,5)},ai=function(e,t,n){(void 0!==n&&!ne(e[t],n)||void 0===n&&!(t in e))&&wr(e,t,n)},ci=function(e){return Ct(e)&&on(e)},ui=Function.prototype,si=Object.prototype,li=ui.toString,fi=si.hasOwnProperty,pi=li.call(Object),di=function(e){if(!Ct(e)||"[object Object]"!=Se(e))return!1;var t=To(e);if(null===t)return!0;var n=fi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&li.call(n)==pi},hi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},yi=function(e){return Sr(e,Ao(e))},vi=function(e,t,n,r,o,i,a){var c=hi(e,n),u=hi(t,n),s=a.get(u);if(s)ai(e,n,s);else{var l=i?i(c,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var p=St(u),d=!p&&Object(Gt.a)(u),h=!p&&!d&&Zt(u);l=u,p||d||h?St(c)?l=c:ci(c)?l=ko(c):d?(f=!1,l=Object(Mo.a)(u,!0)):h?(f=!1,l=Vo(u,!0)):l=[]:di(u)||Bt(u)?(l=c,Bt(c)?l=yi(c):Pe(c)&&!Ae(c)||(l=qo(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),ai(e,n,l)}},gi=function e(t,n,r,o,i){t!==n&&br(n,(function(a,c){if(i||(i=new ft),Pe(a))vi(t,n,c,r,e,o,i);else{var u=o?o(hi(t,c),a,c+"",t,n,i):void 0;void 0===u&&(u=a),ai(t,c,u)}}),Ao)},bi=Rr((function(e,t,n){gi(e,t,n)})),mi={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Oi=function(e){var t=ii(mi);return e&&(t=bi(t,e)),t};function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(78),n(158);var ji=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="_events")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){var r=this;return null==e||e.split(",").forEach((function(e){e=e.trim(),r._events[e]||(r._events[e]=[]),r._events[e].push({callback:t,once:!!n})})),this}},{key:"once",value:function(e,t){var n=this;null==e||e.split(",").forEach((function(e){return e=e.trim(),n.on(e,t,!0)}))}},{key:"emit",value:function(e,t){var n=this;null==e||e.split(",").forEach((function(e){var r=n._events[e]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],c=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[e],o--,i--),c.apply(n,[t])}};i(r),i(o)}))}},{key:"off",value:function(e,t){var n=this;return e||(this._events={}),e.split(",").forEach((function(e){if(t){for(var r=n._events[e]||[],o=r.length,i=0;i<o;i++)r[i].callback===t&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[e]}else delete n._events[e]})),this}},{key:"getEvents",value:function(){return this._events}}])&&xi(t.prototype,n),r&&xi(t,r),e}();function wi(e,t){return t*Math.round(e/t)||e}function _i(e,t){return e%t}function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pi,Ai=function(e,t,n){var r=Ei(e,2),o=r[0],i=r[1],a=Ei(t,2),c=a[0],u=a[1],s=Ei(n,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},Ni=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Mi=(n(79),n(161),n(125),n(80),n(12),n(13),n(14),n(47),n(31),new Uint8Array(16));function ki(){if(!Pi&&!(Pi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pi(Mi)}for(var Di=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ti=function(e){return"string"==typeof e&&Di.test(e)},Ci=[],Ii=0;Ii<256;++Ii)Ci.push((Ii+256).toString(16).substr(1));var Ri=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]).toLowerCase();if(!Ti(n))throw TypeError("Stringified UUID is invalid");return n},Li=function(e,t,n){var r=(e=e||{}).random||(e.rng||ki)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Ri(r)},zi=function(){return Li()},Bi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.nodes.reduce((function(e,n){return e[n.id]=t+Li(),n.id=e[n.id],e}),{});return e.edges.forEach((function(e){e.id=t+Li(),e.sourceNodeId=n[e.sourceNodeId],e.targetNodeId=n[e.targetNodeId]})),e},Gi=(n(104),n(203),function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0});function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yi,Vi,Wi,Ki,Zi,qi,Ji,Qi,$i,ea,ta,na,ra,oa,ia,aa,ca,ua,sa=function(e){return e.anchors},la=function(e,t){for(var n,r=t.nodes,o=r.length-1;o>=0;o--){var i=r[o];if(ya(e,i)){var a=pa(e,i);if(a){var c={node:i,anchorIndex:a.index,anchor:a.anchor};n&&!fa(i,n.node,t)||(n=c)}}}return n},fa=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},pa=function(e,t){for(var n,r=sa(t),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=da(e.x,e.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:Ui(Ui({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},da=function(e,t,n,r){return Math.hypot(e-n,t-r)},ha=function(e,t){var n=!1,r=va(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},ya=function(e,t){var n=!1,r=va(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},va=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}},ga=function(e,t,n){var r,o=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var n=da(e.x,e.y,t.x,t.y);n<i&&(i=n,r=t)})),ba(e,t,r)},ba=function(e,t,n){var r,o=n,i=o.x,a=o.y,c=o.r;if(t===no.HORIZONTAL){var u=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)),s=i+Math.sqrt(c*c-(e.y-a)*(e.y-a));r={x:Math.abs(u-e.x)<Math.abs(s-e.x)?u:s,y:e.y}}else if(t===no.VERTICAL){var l=a-Math.sqrt(c*c-(e.x-i)*(e.x-i)),f=a+Math.sqrt(c*c-(e.x-i)*(e.x-i)),p=Math.abs(l-e.y)<Math.abs(f-e.y)?l:f;r={x:e.x,y:p}}return r},ma=function(e,t){var n=t,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,u=n.x,s=n.y,l=n.width,f=n.height;return e.y===s+f/2||e.y===s-f/2?r=e.x>o&&e.x<i:e.x!==u+l/2&&e.x!==u-l/2||(r=e.y>a&&e.y<c),r},Oa=function(e,t,n){var r,o=n,i=o.x,a=o.y,c=o.rx,u=o.ry;if(t===no.HORIZONTAL){var s=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u)),l=i+Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u));r={x:Math.abs(s-e.x)<Math.abs(l-e.x)?s:l,y:e.y}}else if(t===no.VERTICAL){var f=a-Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),p=a+Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;r={x:e.x,y:d}}return r},xa=function(e,t,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],c=0;c<o.length;c++)a.push({start:o[c],end:o[(c+1)%o.length]});return a.forEach((function(n){var o=n.start,a=n.end,c=o,u=a;o.x>a.x&&(c=a,u=o);var s={x:e.x,y:e.y};if(c.x===u.x&&t===no.HORIZONTAL&&(s={x:c.x,y:e.y}),c.y===u.y&&t===no.VERTICAL&&(s={x:e.x,y:c.y}),c.x!==u.x&&c.y!==u.y){var l=(u.y-c.y)/(u.x-c.x),f=(c.x*u.y-u.x*c.y)/(c.x-u.x);t===no.HORIZONTAL?s={x:(e.y-f)/l,y:e.y}:t===no.VERTICAL&&(s={x:e.x,y:l*e.x+f})}if(Gi(s,o,a)){var p=da(s.x,s.y,e.x,e.y);p<i&&(i=p,r=s)}})),r},ja=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}},wa=function(e){var t=e.rows,n=e.style,r=e.rowsLength,o=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,i.appendChild(t)})):i.textContent=t,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},_a=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return t&&t.forEach((function(e){var t=$c(e);o=t>o?t:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ea=function(e){return"object"!==Fi(e)?{isAllPass:!!e,msg:e?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:e},Sa={node:!1,edge:!1},Pa={node:!0,edge:!0},Aa={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Na=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Ma=1e3,ka=999,Da=function(){return++Ma};function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){La(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ba=(Vi=za((Yi=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),La(this,"id",zi()),Ia(this,"type",Vi,this),Ia(this,"sourceNodeId",Wi,this),Ia(this,"targetNodeId",Ki,this),Ia(this,"startPoint",Zi,this),Ia(this,"endPoint",qi,this),Ia(this,"text",Ji,this),Ia(this,"properties",Qi,this),Ia(this,"points",$i,this),Ia(this,"pointsList",ea,this),Ia(this,"isSelected",ta,this),Ia(this,"isHovered",na,this),Ia(this,"isHitable",ra,this),Ia(this,"draggable",oa,this),Ia(this,"visible",ia,this),Ia(this,"isAnimation",aa,this),La(this,"graphModel",void 0),Ia(this,"zIndex",ca,this),La(this,"BaseType",eo.EDGE),La(this,"modelType",$r.EDGE),Ia(this,"state",ua,this),La(this,"additionStateData",void 0),La(this,"sourceAnchorId",""),La(this,"targetAnchorId",""),La(this,"menu",void 0),La(this,"customTextPosition",!1),La(this,"animationData",Aa),this.graphModel=n,this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}var t,n,r;return t=e,(n=[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}zr(this,ou(e)),this.graphModel.overlapMode===ro.INCREASE&&(this.zIndex=e.zIndex||Da())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.baseEdge;return ii(e)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.edgeText;return ii(e)}},{key:"getAnimation",value:function(){var e=this.animationData;return ii(e)}},{key:"getEdgeAnimationStyle",value:function(){var e=this.graphModel.theme.edgeAnimation;return ii(e)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return ii(e)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(e,t){var n,r;return sa(e).forEach((function(e){var o=iu(e,t);r?o<r&&(r=o,n=e):(r=o,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this;return sa(e).forEach((function(e){var o=iu(e,r.startPoint);n?o<n&&(n=o,t=e):(n=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return r&&(i.text={x:t,y:n,value:r}),this.graphModel.overlapMode===ro.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(e,t){this.properties[e]=Na(t),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=Ca(Ca({},this.properties),Na(e)),this.setAttributes()}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text&&"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,n=e.y;this.text.x=t,this.text.y=n}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,draggable:a,x:r+e,y:o+t,editable:c}}}},{key:"setText",value:function(e){e&&zr(this.text,e)}},{key:"updateText",value:function(e){this.text=Ca(Ca({},this.text),{},{value:e})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id)}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){zr(this,e)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:n.x,y:n.y})}}])&&Ra(t.prototype,n),r&&Ra(t,r),e}()).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wi=za(Yi.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ki=za(Yi.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zi=za(Yi.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=za(Yi.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=za(Yi.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Qi=za(Yi.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$i=za(Yi.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ea=za(Yi.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ta=za(Yi.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na=za(Yi.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ra=za(Yi.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oa=za(Yi.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ia=za(Yi.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),aa=za(Yi.prototype,"isAnimation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ca=za(Yi.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ua=za(Yi.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),za(Yi.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"sourceNode"),Yi.prototype),za(Yi.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"targetNode"),Yi.prototype),za(Yi.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"textPosition"),Yi.prototype),za(Yi.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setProperty"),Yi.prototype),za(Yi.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setProperties"),Yi.prototype),za(Yi.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"formatText"),Yi.prototype),za(Yi.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"resetTextPosition"),Yi.prototype),za(Yi.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveText"),Yi.prototype),za(Yi.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setText"),Yi.prototype),za(Yi.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateText"),Yi.prototype),za(Yi.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setAnchors"),Yi.prototype),za(Yi.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setSelected"),Yi.prototype),za(Yi.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setHovered"),Yi.prototype),za(Yi.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setHitable"),Yi.prototype),za(Yi.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"openEdgeAnimation"),Yi.prototype),za(Yi.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"closeEdgeAnimation"),Yi.prototype),za(Yi.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setElementState"),Yi.prototype),za(Yi.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateStartPoint"),Yi.prototype),za(Yi.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveStartPoint"),Yi.prototype),za(Yi.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateEndPoint"),Yi.prototype),za(Yi.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveEndPoint"),Yi.prototype),za(Yi.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setZIndex"),Yi.prototype),za(Yi.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"initPoints"),Yi.prototype),za(Yi.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateAttributes"),Yi.prototype),za(Yi.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"getAdjustStart"),Yi.prototype),za(Yi.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"getAdjustEnd"),Yi.prototype),za(Yi.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateAfterAdjustStartAndEnd"),Yi.prototype),Yi),Ga=Ba;function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(){return(Va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wa(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Wa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qa(e)););return e}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qa(e);if(t){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qa(this,n)}}function qa(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ja(e)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec,tc,nc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(i,e);var t,n,r,o=Za(i);function i(){var e;Xa(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $a(Ja(e=o.call.apply(o,[this].concat(n))),"modelType",$r.LINE_EDGE),e}return t=i,(n=[{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.line;return Ua(Ua({},Va(Qa(i.prototype),"getEdgeStyle",this).call(this)),ii(e))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Ya(t.prototype,n),r&&Ya(t,r),i}(Ga);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(){return(fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pc(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function pc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gc(e)););return e}function dc(e,t){return(dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gc(e);if(t){var o=gc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yc(this,n)}}function yc(e,t){if(t&&("object"===rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vc(e)}function vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mc(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Oc=(tc=mc((ec=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dc(e,t)}(i,e);var t,n,r,o=hc(i);function i(){var e;sc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bc(vc(e=o.call.apply(o,[this].concat(n))),"modelType",$r.POLYLINE_EDGE),bc(vc(e),"draginngPointList",void 0),uc(vc(e),"dbClickPosition",tc,vc(e)),e}return t=i,(n=[{key:"initEdgeData",value:function(e){this.offset=30,fc(gc(i.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.polyline;return cc(cc({},fc(gc(i.prototype),"getEdgeStyle",this).call(this)),ii(e))}},{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=qc(this.points),o=oc(Yc(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(e,t,n){var r,o;return n.forEach((function(n){var i;e===no.HORIZONTAL?i=Math.abs(t.y-n.y):e===no.VERTICAL&&(i=Math.abs(t.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(e,t,n){var r;return e===no.HORIZONTAL?r={x:n.x,y:t.y}:e===no.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var o=r[e],i=r[t],a=r[e-1];if(Vc(a,o,this.sourceNode)){if(Wc(o,i,this.sourceNode)){var c=Kc(o,i,this.sourceNode);c&&(r[e]=c,r.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&da(t.x,t.y,o.x,o.y)<da(a.x,a.y,o.x,o.y)&&(r[e-1]=t)}))}if(t===n.length-2){var u=r[e],s=r[t],l=r[t+1];if(Vc(s,l,this.targetNode)){if(Wc(u,s,this.targetNode)){var f=Kc(u,s,this.targetNode);f&&(r[t]=f,r.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===l.x&&e.x===s.x||e.y===l.y&&e.y===s.y)&&da(e.x,e.y,s.x,s.y)<da(l.x,l.y,s.x,s.y)&&(r[t+1]=e)}))}return r}},{key:"getDragingPoints",value:function(e,t,n,r,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),c=this.getCorssPoint(e,n,a);return"start"===t?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,c=this.targetNode,u=a.modelType,s=c.modelType,l=Zc(n,r),f=t[0];switch(u){case $r.RECT_NODE:0!==a.radius&&(ma(n,a)||(f=ga(n,l,a)));break;case $r.CIRCLE_NODE:f=ba(n,l,a);break;case $r.ELLIPSE_NODE:f=Oa(n,l,a);break;case $r.DIAMOND_NODE:case $r.POLYGON_NODE:f=xa(n,l,a)}t[0]=f;var p=Zc(o,i),d=t[t.length-1];switch(s){case $r.RECT_NODE:0!==c.radius&&(ma(i,c)||(d=ga(i,p,c)));break;case $r.CIRCLE_NODE:d=ba(i,p,c);break;case $r.ELLIPSE_NODE:d=Oa(i,p,c);break;case $r.DIAMOND_NODE:case $r.POLYGON_NODE:d=xa(i,p,c)}return t[t.length-1]=d,t}},{key:"getData",value:function(){var e=fc(gc(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=Xc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppendSimple",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,c=this.pointsList,u=c;return a===no.HORIZONTAL?(c[o]={x:n.x,y:n.y+t.y},c[i]={x:r.x,y:r.y+t.y},u=this.pointsList.map((function(e){return e}))):a===no.VERTICAL&&(c[o]={x:n.x+t.x,y:n.y},c[i]={x:r.x+t.x,y:r.y},u=this.pointsList.map((function(e){return e}))),this.updatePointsAfterDrage(u),this.draginngPointList=u,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,c=this.pointsList;if(a===no.HORIZONTAL){c[o]={x:n.x,y:n.y+t.y},c[i]={x:r.x,y:r.y+t.y};var u=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(u=this.removeCrossPoints(o,i,u)),0===o){var s={x:n.x,y:n.y+t.y};if(!ha(s,this.sourceNode)){var l=this.sourceNode.anchors;u=this.getDragingPoints(a,"start",s,l,u)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+t.y};if(!ha(f,this.targetNode)){var p=this.targetNode.anchors;u=this.getDragingPoints(a,"end",f,p,u)}}u=Uc(u),this.updatePointsAfterDrage(u),this.draginngPointList=u}else if(a===no.VERTICAL){c[o]={x:n.x+t.x,y:n.y},c[i]={x:r.x+t.x,y:r.y};var d=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+t.x,y:n.y};if(!ha(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+t.x,y:r.y};if(!ha(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,g,d)}}d=Uc(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=qc(this.points);this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=Xc({x:t.x,y:t.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&lc(t.prototype,n),r&&lc(t,r),i}(Ga)).prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc(ec.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"initPoints"),ec.prototype),mc(ec.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"updatePoints"),ec.prototype),mc(ec.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"updateStartPoint"),ec.prototype),mc(ec.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"moveStartPoint"),ec.prototype),mc(ec.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"updateEndPoint"),ec.prototype),mc(ec.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"moveEndPoint"),ec.prototype),mc(ec.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"dragAppendStart"),ec.prototype),mc(ec.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"dragAppendSimple"),ec.prototype),mc(ec.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"dragAppend"),ec.prototype),mc(ec.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"dragAppendEnd"),ec.prototype),mc(ec.prototype,"updatePointsAfterDrage",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"updatePointsAfterDrage"),ec.prototype),mc(ec.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"getAdjustStart"),ec.prototype),mc(ec.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"getAdjustEnd"),ec.prototype),mc(ec.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(ec.prototype,"updateAfterAdjustStartAndEnd"),ec.prototype),ec),xc=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-t.y)/(n.x-t.x)),u=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=t.x?(a.leftX=t.x+s*Math.sin(c+u),a.leftY=t.y-s*Math.cos(c+u),a.rightX=t.x-s*Math.sin(c-u),a.rightY=t.y+s*Math.cos(c-u)):(a.leftX=t.x-s*Math.sin(c+u),a.leftY=t.y+s*Math.cos(c+u),a.rightX=t.x+s*Math.sin(c-u),a.rightY=t.y-s*Math.cos(c-u)):"end"===i&&(n.x>=t.x?(a.leftX=n.x+s*Math.sin(c-u),a.leftY=n.y-s*Math.cos(c-u),a.rightX=n.x-s*Math.sin(c+u),a.rightY=n.y+s*Math.cos(c+u)):(a.leftX=n.x-s*Math.sin(c-u),a.leftY=n.y+s*Math.cos(c-u),a.rightX=n.x+s*Math.sin(c+u),a.rightY=n.y-s*Math.cos(c+u))),a};function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){_c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e){return function(e){if(Array.isArray(e))return Nc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ac(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||Ac(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){if(e){if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mc=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},kc=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Dc=function(e,t){return function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?no.HORIZONTAL:no.VERTICAL}(t,e)===no.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Tc=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},Cc=function(){var e=arguments.length>1?arguments[1]:void 0,t=[],n=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n),c=o-r,u=a-i;return e&&(c+=e,u+=e),{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,x:(r+o)/2,y:(i+a)/2,height:u,width:c}},Ic=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},Rc=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Lc=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},zc=function(e,t,n,r,o){return Lc(e,t)+Lc(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,o])},Bc=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,c=r.y-n.y,u=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*c),s=(a*(e.y-n.y)-c*(e.x-n.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},Gc=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=Pc(Ic(n),4),o=r[0],i=r[1],a=r[2],c=r[3];return Bc(e,t,o,i)||Bc(e,t,o,c)||Bc(e,t,i,a)||Bc(e,t,a,c)},Fc=function(e,t,n,r,o,i,a){var c=[],u=[t],s={},l={},f={};l[t.id]=0,f[t.id]=zc(t,n,t);var p={};e.forEach((function(e){p[e.id]=e}));for(var d=function(){var d,h,y,v=void 0,g=1/0;if(u.forEach((function(e){f[e.id]<g&&(g=f[e.id],v=e)})),v===n){var b=[];return function e(t,n,r,o,i){i||(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)}(b,p,s,n.id),{v:b}}h=v,(y=(d=u).indexOf(h))>-1&&d.splice(y,1),c.push(v),function(e,t,n,r){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||Gc(e,t,n)||Gc(e,t,r)||o.push(e))})),Mc(o)}(e,v,r,o).forEach((function(e){if(-1===c.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[v.id]+Lc(v,e);l[e.id]&&r>=l[e.id]||(s[e.id]=v.id,l[e.id]=r,f[e.id]=l[e.id]+zc(e,n,t,i,a))}}))};u.length;){var h=d();if("object"===Sc(h))return h.v}return[t,n]},Hc=function(e){return va(e)},Uc=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],o=t[n],i=t[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?t.splice(n,1):n++}return t},Xc=function(e,t,n,r,o){var i,a,c=Hc(n),u=Hc(r),s=kc(c,o),l=kc(u,o),f=Dc(s,e),p=Dc(l,t);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=Jc(e,t,f,p);return[e,f].concat(Ec(d),[p,t])}var h=Cc([f,p]),y=Tc(s,h),v=Tc(l,h),g=[];g=(g=g.concat(Ic(y))).concat(Ic(v));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[h,y,v].forEach((function(e){g=g.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return Rc(e,s)&&Rc(e,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(e){Rc(e,s)&&Rc(e,l)&&g.push(e)})),g.unshift(f),g.push(p),g=Mc(g);var m=Fc(g,f,p,c,u,e,t);return m.unshift(e),m.push(t),m.length>2&&(m=Uc(m)),Mc(m)},Yc=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],o=da(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var a=e[i],c=e[i+1],u=da(a.x,a.y,c.x,c.y);u>o&&(o=u,n=a,r=c)}t=[n,r]}return t},Vc=function(e,t,n){var r=ha(e,n),o=ha(t,n);return r&&o},Wc=function(e,t,n){var r=ha(e,n),o=ha(t,n);return!(r&&o)&&(r||o)},Kc=function(e,t,n){for(var r,o,i=va(n),a=Ic(i),c=0;c<a.length;c++)Bc(e,t,a[c],a[(c+1)%a.length])&&(o=[a[c],a[(c+1)%a.length]]);return o&&(r=function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===o)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}(e,t,o[0],o[1])),r},Zc=function(e,t){var n;return e.x===t.x?n=no.VERTICAL:e.y===t.y&&(n=no.HORIZONTAL),n},qc=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=Pc(e.split(","),2),r=t[0],o=t[1];n.push({x:Number(r),y:Number(o)})})),n},Jc=function(e,t,n,r){var o=[];if(Zc(e,n)===Zc(t,r))e.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},a=Gi(i,e,n),c=Gi(i,t,r);if(a||c)i={x:r.x,y:n.y};else{var u=Qc(i,e,n),s=Qc(i,t,r);u&&s&&(i={x:r.x,y:n.y})}o.push(i)}return o},Qc=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},$c=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},eu=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,a=va(r),c=va(o),u=kc(a,i),s=kc(c,i);return{sNext:Dc(u,t),ePre:Dc(s,n)}},tu=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[nu(t[0]),nu(t[1]),nu(t[2]),nu(t[3])]},nu=function(e){var t=Pc(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},ru=function(e,t){for(var n,r=e.x,o=e.y,i=qc(t),a=Number.MAX_SAFE_INTEGER,c=[],u=0;u<i.length;u++)c.push({start:i[u],end:i[(u+1)%i.length]});if(c.forEach((function(e){var t=e.start,i=e.end;if(t.x===i.x){var c={x:t.x,y:o};if(Gi(c,t,i)){var u=Math.abs(t.x-r);u<a&&(a=u,n=c)}}else if(t.y===i.y){var s={x:r,y:t.y};if(Gi(s,t,i)){var l=Math.abs(t.y-o);l<a&&(a=l,n=s)}}})),!n){var s=c[0],l=s.start,f=s.end;n={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return n},ou=function(e){return Vr(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},iu=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};n(204);var au=function(){};function cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var su=window.document;function lu(e){var t=e.onDragStart,n=void 0===t?au:t,r=e.onDraging,o=void 0===r?au:r,i=e.onDragEnd,a=void 0===i?au:i,c=e.step,u=void 0===c?1:c,s=e.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,h=0,y=0,v=0;function g(e){if(l&&e.stopPropagation(),p&&(f=!0,y+=e.clientX-d,v+=e.clientY-h,d=e.clientX,h=e.clientY,Math.abs(y)>u||Math.abs(v)>u)){var t=y%u,n=v%u,r=y-t,i=v-n;y=t,v=n,o({deltaX:r,deltaY:i,event:e})}}function b(e){if(l&&e.stopPropagation(),p=!1,su.removeEventListener("mousemove",g,!1),su.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:e})}return function(e){if(0===e.button)return l&&e.stopPropagation(),p=!0,d=e.clientX,h=e.clientY,su.addEventListener("mousemove",g,!1),su.addEventListener("mouseup",b,!1),n({event:e})}}var fu,pu,du,hu,yu,vu,gu,bu,mu,Ou,xu,ju,wu,_u=function(){function e(t){var n=this,r=t.onDragStart,o=void 0===r?au:r,i=t.onDraging,a=void 0===i?au:i,c=t.onDragEnd,u=void 0===c?au:c,s=t.eventType,l=void 0===s?"":s,f=t.eventCenter,p=void 0===f?null:f,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,g=t.model,b=void 0===g?null:g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uu(this,"onDragStart",void 0),uu(this,"onDraging",void 0),uu(this,"onDragEnd",void 0),uu(this,"step",void 0),uu(this,"isStopPropagation",void 0),uu(this,"isDraging",!1),uu(this,"isStartDraging",!1),uu(this,"startX",0),uu(this,"startY",0),uu(this,"sumDeltaX",0),uu(this,"sumDeltaY",0),uu(this,"eventType",void 0),uu(this,"eventCenter",void 0),uu(this,"model",void 0),uu(this,"startTime",void 0),uu(this,"isGrag",void 0),uu(this,"handleMouseDown",(function(e){var t,r;if(0===e.button){n.isStopPropagation&&e.stopPropagation(),n.isStartDraging=!0,n.startX=e.clientX,n.startY=e.clientY,su.addEventListener("mousemove",n.handleMouseMove,!1),su.addEventListener("mouseup",n.handleMouseUp,!1);var o=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(to["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:o}),n.startTime=(new Date).getTime()}})),uu(this,"handleMouseMove",(function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isStartDraging&&(n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var c,u=null===(t=n.model)||void 0===t?void 0:t.getData();n.isDraging||(null===(c=n.eventCenter)||void 0===c||c.emit(to["".concat(n.eventType,"_DRAGSTART")],{e:e,data:u}),n.onDragStart({event:e})),n.isDraging=!0,Promise.resolve().then((function(){var t,r;n.onDraging({deltaX:i,deltaY:a,event:e}),null===(t=n.eventCenter)||void 0===t||t.emit(to["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:u}),null===(r=n.eventCenter)||void 0===r||r.emit(to["".concat(n.eventType,"_DRAG")],{e:e,data:u})}))}})),uu(this,"handleMouseUp",(function(e){n.isStartDraging=!1,n.isStopPropagation&&e.stopPropagation(),Promise.resolve().then((function(){var t,r,o;su.removeEventListener("mousemove",n.handleMouseMove,!1),su.removeEventListener("mouseup",n.handleMouseUp,!1);var i=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(to["".concat(n.eventType,"_MOUSEUP")],{e:e,data:i}),n.isDraging&&(n.isDraging=!1,n.onDragEnd({event:e}),null===(o=n.eventCenter)||void 0===o||o.emit(to["".concat(n.eventType,"_DROP")],{e:e,data:i}))}))})),uu(this,"cancelDrag",(function(){su.removeEventListener("mousemove",n.handleMouseMove,!1),su.removeEventListener("mouseup",n.handleMouseUp,!1),n.isDraging=!1})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=b}var t,n,r;return t=e,(n=[{key:"setStep",value:function(e){this.step=e}}])&&cu(t.prototype,n),r&&cu(t,r),e}();function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach((function(t){Cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||Nu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(e){return function(e){if(Array.isArray(e))return Mu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(e,t){if(e){if("string"==typeof e)return Mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mu(e,t):void 0}}function Mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ku(e){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Du(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ru,Lu=(pu=Iu((fu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cu(this,"rootEl",void 0),Du(this,"width",pu,this),Du(this,"height",du,this),Cu(this,"theme",void 0),Cu(this,"eventCenter",void 0),Cu(this,"modelMap",new Map),Cu(this,"topElement",void 0),Cu(this,"animation",void 0),Cu(this,"idGenerator",void 0),Cu(this,"nodeMoveRules",[]),Du(this,"edgeType",hu,this),Du(this,"nodes",yu,this),Du(this,"edges",vu,this),Du(this,"overlapMode",gu,this),Du(this,"background",bu,this),Du(this,"transformModel",mu,this),Du(this,"editConfigModel",Ou,this),Du(this,"gridSize",xu,this),Du(this,"partial",ju,this),Du(this,"fakerNode",wu,this);var n,r=t.container,o=t.background,i=void 0===o?{}:o,a=t.grid,c=t.idGenerator,u=t.animation;this.background=i,"object"===ku(a)&&(this.gridSize=a.size),this.rootEl=r,this.editConfigModel=new yo(t),this.eventCenter=new ji,this.transformModel=new jo(this.eventCenter),this.theme=Oi(t.style),this.edgeType=t.edgeType||"polyline",t.width||(t.width=r.getBoundingClientRect().width),t.height||(t.height=r.getBoundingClientRect().height),this.width=t.width,this.height=t.height,this.animation=(n=u)&&"boolean"!=typeof n?bi(ii(Sa),n):ii(!0===n?Pa:Sa),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=c}var t,n,r;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"modelsMap",get:function(){return[].concat(Au(this.nodes),Au(this.edges)).reduce((function(e,t){return e[t.id]=t,e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],n=-1,r=[-200,-200],o=[this.width+200,this.height+200],i=0;i<e.length;i++){var a=e[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,o,!1,!1))&&(9999===a.zIndex&&(n=t.length),t.push(a))}if(-1!==n){var c=t[t.length-1];t[t.length-1]=t[n],t[n]=c}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===Jr.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===Jr.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],i=[];this.nodes.forEach((function(e){return i.push(e)})),this.edges.forEach((function(e){return i.push(e)}));for(var a=0;a<i.length;a++){var c=i[a];this.isElementInArea(c,e,t,n,r)&&o.push(c)}return o}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModelById",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),o={x:t-r.left,y:n-r.top},i=Pu(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.BaseType===eo.NODE){for(var i=va(e=e),a=i.minX,c=i.minY,u=i.maxX,s=i.maxY,l=[{x:a,y:c},{x:u,y:c},{x:u,y:s},{x:a,y:s}],f=o,p=0;p<l.length;p++){var d=l[p],h=d.x,y=d.y,v=Pu(this.transformModel.CanvasPointToHtmlPoint([h,y]),2);if(h=v[0],y=v[1],Ai([h,y],t,n)!==o){f=!o;break}}return f}if(e.BaseType===eo.EDGE){var g=e=e,b=g.startPoint,m=g.endPoint,O=this.transformModel.CanvasPointToHtmlPoint([b.x,b.y]),x=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),j=Ai(O,t,n),w=Ai(x,t,n);return r?j&&w:j||w}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.nodes=xr(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var r=e.x,o=e.y;return r&&o&&(e.x=wi(r,t.gridSize),e.y=wi(o,t.gridSize),"object"===ku(e.text)&&(e.text.x-=_i(r,t.gridSize),e.text.y-=_i(o,t.gridSize))),new n(e,t)})),this.edges=xr(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new n(e,t)}))}},{key:"modelToGraphData",value:function(){var e=[];this.edges.forEach((function(t){var n=t.getData();n&&e.push(n)}));var t=[];return this.nodes.forEach((function(e){var n=e.getData();n&&t.push(n)})),{nodes:t,edges:e}}},{key:"modelToHistoryData",value:function(){for(var e=!1,t=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){e=!0;break}t.push(r.getHistoryData())}if(e)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var c=this.edges[a];if(c.isDragging){o=!0;break}i.push(c.getHistoryData())}return!o&&{nodes:t,edges:i}}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.modelsMap[e]}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===e,i=this.edges[n].targetNodeId===e;(o||i)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===eo.NODE&&n.nodes.push(r.getData()),r.BaseType===eo.EDGE){var o=r.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"changeNodeId",value:function(e,t){return t||(t=zi()),this.nodesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),""):this.nodesMap[e]?(this.edges.forEach((function(n){n.sourceNodeId===e&&(n.sourceNodeId=t),n.targetNodeId===e&&(n.targetNodeId=t)})),this.nodesMap[e].model.id=t,t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"changeEdgeId",value:function(e,t){return t||(t=zi()),this.edgesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fb9: ".concat(t,", \u4fee\u6539\u5931\u8d25")),""):this.edgesMap[e]?(this.edges.forEach((function(n){n.id===e&&(n.id=t)})),t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fb9: ".concat(t,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"toFront",value:function(e){var t,n,r,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);o&&(this.overlapMode===ro.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===ro.INCREASE&&this.setElementZIndex(e,"top"))}},{key:"setElementZIndex",value:function(e,t){var n,r,o,i=(null===(n=this.nodesMap[e])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);i&&("number"==typeof t&&(o=t),"top"===t&&(o=Da()),"bottom"===t&&(o=--ka),i.setZIndex(o))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(to.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Na(e);t.id&&this.nodesMap[e.id]&&delete t.id;var n=this.getModel(t.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var r=new n(t,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(to.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(e){var t=this.getNodeModelById(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];o?o.model.move(t,n,r)&&this.moveEdge(e,t,n):console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];if(o){var i=o.model,a=t-i.x,c=n-i.y;this.moveNode(e,a,c,r)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"editText",value:function(e){this.setElementStateById(e,Jr.TEXT_EDIT)}},{key:"addEdge",value:function(e){var t=Na(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8fb9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fb9\u3002"));var o=new r(Su(Su({},t),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(to.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,c=a.x,u=a.y,s=this.edges[r].sourceNodeId===e,l=this.edges[r].targetNodeId===e;if(s&&i.moveStartPoint(t,n),l&&i.moveEndPoint(t,n),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===$r.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=ru(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-c,y-u)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(to.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(e){if(this.edgesMap[e]){var t=this.edgesMap[e].index,n=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(to.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(to.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(to.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(e,t,n){this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(Jr.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(Jr.DEFAULT)}))}},{key:"updateText",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"selectNodeById",value:function(e){var t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements();var n=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model;null==n||n.setSelected(!0)}},{key:"selectEdgeById",value:function(e){var t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements();var n=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model;null==n||n.setSelected(!0)}},{key:"selectElementById",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements();var t=this.getElement(e);null==t||t.setSelected(!0)}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===ro.DEFAULT&&(null===(e=this.topElement)||void 0===e||e.setZIndex())}},{key:"moveNodes",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(e){return r.moveNode(e,t,n,o)}))}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"setDefaultEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModelById(e);if(n){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var i=new o(r,this);this.nodes.splice(this.nodesMap[e].index,1,i),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var n=ja(i,t.startPoint,i.width,i.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=ja(i,t.endPoint,i.width,i.height);t.updateEndPoint(r)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"changeEdgeType",value:function(e,t){var n=this.getEdgeModelById(e);if(n){if(n.type!==t){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[e].index,1,i)}}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"getNodeIncomingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.targetNodeId===e&&t.push(n)})),t}},{key:"getNodeOutgoingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.sourceNodeId===e&&t.push(n)})),t}},{key:"getNodeIncomingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===e&&n.push(t.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===e&&n.push(t.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(e){this.theme=Oi(Su(Su({},this.theme),e))}},{key:"resize",value:function(e,t){this.width=null!=e?e:this.width,this.height=null!=t?t:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var e=this.nodes,t=[],n=[];e.forEach((function(e){var r=e.x,o=e.y,i=e.width,a=e.height,c=e.getNodeStyle().strokeWidth,u=void 0===c?0:c;t=t.concat([r+i/2+u,r-i/2-u]),n=n.concat([o+a/2+u,o-a/2-u])}));var r=Math.min.apply(Math,Au(t)),o=Math.max.apply(Math,Au(t)),i=Math.min.apply(Math,Au(n)),a=o-r||0,c=Math.max.apply(Math,Au(n))-i||0;return{virtualRectWidth:a,virtualRectHeight:c,virtualRectCenterPositionX:r+a/2,virtualRectCenterPositionY:i+c/2}}},{key:"translateCenter",value:function(){var e=this.nodes,t=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(e.length){var i=t||r.clientWidth,a=n||r.clientHeight,c=this.getVirtualRectSize(),u=c.virtualRectCenterPositionX,s=c.virtualRectCenterPositionY;o.focusOn(u,s,i,a)}}},{key:"fitView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var c=r||i.clientWidth,u=o||i.clientHeight,s=this.getVirtualRectSize(),l=s.virtualRectWidth,f=s.virtualRectHeight,p=s.virtualRectCenterPositionX,d=s.virtualRectCenterPositionY,h=(l+t)/c,y=(f+e)/u,v=0;v=1/Math.max(h,y);var g=[c/2,u/2];a.zoom(v,g),a.focusOn(p,d,c,u)}}},{key:"openEdgeAnimation",value:function(e){this.getEdgeModelById(e).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(e){this.getEdgeModelById(e).closeEdgeAnimation()}}])&&Tu(t.prototype,n),r&&Tu(t,r),e}()).prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),du=Iu(fu.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hu=Iu(fu.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=Iu(fu.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vu=Iu(fu.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gu=Iu(fu.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ro.DEFAULT}}),bu=Iu(fu.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mu=Iu(fu.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ou=Iu(fu.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xu=Iu(fu.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ju=Iu(fu.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wu=Iu(fu.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iu(fu.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"nodesMap"),fu.prototype),Iu(fu.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"edgesMap"),fu.prototype),Iu(fu.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"modelsMap"),fu.prototype),Iu(fu.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"sortElements"),fu.prototype),Iu(fu.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"textEditElement"),fu.prototype),Iu(fu.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(fu.prototype,"selectElements"),fu.prototype),Iu(fu.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setFakerNode"),fu.prototype),Iu(fu.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"removeFakerNode"),fu.prototype),Iu(fu.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setModel"),fu.prototype),Iu(fu.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"toFront"),fu.prototype),Iu(fu.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setElementZIndex"),fu.prototype),Iu(fu.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"deleteNode"),fu.prototype),Iu(fu.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"addNode"),fu.prototype),Iu(fu.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"cloneNode"),fu.prototype),Iu(fu.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"moveNode"),fu.prototype),Iu(fu.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"moveNode2Coordinate"),fu.prototype),Iu(fu.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"editText"),fu.prototype),Iu(fu.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"addEdge"),fu.prototype),Iu(fu.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"moveEdge"),fu.prototype),Iu(fu.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"deleteEdgeBySourceAndTarget"),fu.prototype),Iu(fu.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"deleteEdgeById"),fu.prototype),Iu(fu.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"deleteEdgeBySource"),fu.prototype),Iu(fu.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"deleteEdgeByTarget"),fu.prototype),Iu(fu.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setElementStateById"),fu.prototype),Iu(fu.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"updateText"),fu.prototype),Iu(fu.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"selectNodeById"),fu.prototype),Iu(fu.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"selectEdgeById"),fu.prototype),Iu(fu.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"selectElementById"),fu.prototype),Iu(fu.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"clearSelectElements"),fu.prototype),Iu(fu.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"moveNodes"),fu.prototype),Iu(fu.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setDefaultEdgeType"),fu.prototype),Iu(fu.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"changeNodeType"),fu.prototype),Iu(fu.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"changeEdgeType"),fu.prototype),Iu(fu.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"getNodeIncomingEdge"),fu.prototype),Iu(fu.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"getNodeOutgoingEdge"),fu.prototype),Iu(fu.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"getNodeIncomingNode"),fu.prototype),Iu(fu.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"getNodeOutgoingNode"),fu.prototype),Iu(fu.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"setTheme"),fu.prototype),Iu(fu.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"resize"),fu.prototype),Iu(fu.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"clearData"),fu.prototype),Iu(fu.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"translateCenter"),fu.prototype),Iu(fu.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"fitView"),fu.prototype),Iu(fu.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"openEdgeAnimation"),fu.prototype),Iu(fu.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(fu.prototype,"closeEdgeAnimation"),fu.prototype),fu),zu=Lu;function Bu(e){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gu(){return(Gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return(Hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vu(e);if(t){var o=Vu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xu(this,n)}}function Xu(e,t){if(t&&("object"===Bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yu(e)}function Yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ku,Zu=Nm(Ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}(i,e);var t,n,r,o=Uu(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Wu(Yu(t=o.call(this)),"stepDrag",void 0),Wu(Yu(t),"stepScrollX",0),Wu(Yu(t),"stepScrollY",0),Wu(Yu(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY;t.setState({isDraging:!0});var o=t.props.graphModel,i=o.transformModel;o.editConfigModel.stopMoveGraph||i.translate(n,r)})),Wu(Yu(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),Wu(Yu(t),"zoomHandler",(function(e){var n=t.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,a=r.gridSize,c=n.graphModel,u=e.deltaX,s=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var l=c.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=s,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.translate(-h*i.SCALE_X,0),t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,v=t.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),t.stepScrollY=y}}})),Wu(Yu(t),"clickHandler",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){var n=t.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(to.BLANK_CLICK,{e:e})}})),Wu(Yu(t),"handleContextMenu",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var n=t.props.graphModel,r=n.getPointByClient({x:e.clientX,y:e.clientY});n.eventCenter.emit(to.BLANK_CONTEXTMENU,{e:e,position:r})}})),Wu(Yu(t),"mouseDownHandler",(function(e){var n=t.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,a=n.gridSize,c=e.target,u=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===c.getAttribute("name")||u)&&(o.stopMoveGraph?r.emit(to.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(a*i),t.stepDrag.handleMouseDown(e)),t.clickHandler(e))}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new _u({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),t.state={isDraging:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props,n=t.children,r=t.dnd,o=this.state.isDraging;return Object($.g)("svg",Gu({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object($.g)("g",{transform:e},n))}}])&&Fu(t.prototype,n),r&&Fu(t,r),i}($.a))||Ru;function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $u(e,t){return($u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rs(e);if(t){var o=rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ts(this,n)}}function ts(e,t){if(t&&("object"===qu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ns(e)}function ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var is=Nm(Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$u(e,t)}(i,e);var t,n,r,o=es(i);function i(){var e;Ju(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return os(ns(e=o.call.apply(o,[this].concat(n))),"setToolOverlayRef",(function(t){var n=e.props.tool.getInstance();n.components.forEach((function(e){return e(n,t)})),n.components=[]})),e}return t=i,(n=[{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=t.getTools().map((function(e){return Object($.g)(e,{graphModel:n,logicFlow:t.instance})}));return t.components=r,r}},{key:"render",value:function(){return Object($.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Qu(t.prototype,n),r&&Qu(t,r),i}($.a))||Ku;function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return(ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ps(e);if(t){var o=ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(e,t){if(t&&("object"===as(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ds,hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ss(e,t)}(i,e);var t,n,r,o=ls(i);function i(){return cs(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.background;return Object($.g)("div",{className:"lf-background"},Object($.g)("div",{style:e,className:"lf-background-area"}))}}])&&us(t.prototype,n),r&&us(t,r),i}($.a);function ys(e){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t){return(bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=js(e);if(t){var o=js(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Os(this,n)}}function Os(e,t){if(t&&("object"===ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xs(e)}function xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _s=Nm(ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bs(e,t)}(i,e);var t,n,r,o=ms(i);function i(){var e;vs(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ws(xs(e=o.call.apply(o,[this].concat(n))),"id",zi()),e}return t=i,(n=[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?2:r,i=e.size,a=e.visible,c=Math.min(Math.max(2,o),i/2),u=1;return a||(u=0),Object($.g)("rect",{width:c,height:c,rx:c/2,ry:c/2,fill:n,opacity:u})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?1:r,i=e.size,a=e.visible,c=Math.min(Math.max(1,o),i/2),u="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),s=1;return a||(s=0),Object($.g)("path",{d:u,stroke:n,strokeWidth:c,opacity:s})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.graphModel.transformModel,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object($.g)("div",{className:"lf-grid"},Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object($.g)("defs",null,Object($.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object($.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&gs(t.prototype,n),r&&gs(t,r),i}($.a))||ds;function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_s.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(52);var As,Ns=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach((function(e){var n=Ss(e,2),r=n[0],o=n[1];("style"===r||"object"!==Es(o))&&(t[r]=o)})),Object($.g)("line",t)};function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t){return(Rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bs(e);if(t){var o=Bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zs(this,n)}}function zs(e,t){if(t&&("object"===Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bs(e){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gs,Fs=Nm(As=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rs(e,t)}(i,e);var t,n,r,o=Ls(i);function i(){return Cs(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,r=e.isShowVertical,o=e.getStyle(),i=t.x,a=void 0===i?0:i,c=t.y,u=void 0===c?0:c,s=Ds(Ds({x1:-1e5,y1:u,x2:1e5,y2:u},o),{},{stroke:n?o.stroke:"none"}),l=Ds(Ds({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object($.g)("g",{className:"lf-snapline"},Object($.g)(Ns,s),Object($.g)(Ns,l))}}])&&Is(t.prototype,n),r&&Is(t,r),i}($.a))||As;function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ys(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.className,a=e.radius,c=t-r/2,u=n-o/2,s={};return Object.entries(e).forEach((function(e){var t=Us(e,2),n=t[0],r=t[1];"object"!==Hs(r)&&(s[n]=r)})),s.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(s.rx=a,s.ry=a),s.x=c,s.y=u,Object($.g)("rect",s)}function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ws(){return(Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e,t){return($s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function el(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nl(e);if(t){var o=nl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tl(this,n)}}function tl(e,t){if(t&&("object"===Vs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ys.defaultProps={className:"",radius:""};var rl,ol=Nm(Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$s(e,t)}(i,e);var t,n,r,o=el(i);function i(){return Js(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var e=this.props.graphModel,t=e.nodes,n=e.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return t.forEach((function(e){if(e.isHovered||e.isSelected){var t=e.isHovered,n=e.isSelected,a=e.x,c=e.y,u=e.width,s=e.height;if(o&&n||r&&t){var l=e.getOutlineStyle(),f={};if(Object.keys(l).forEach((function(e){"hover"!==e&&(f[e]=l[e])})),t){var p=l.hover;f=Zs(Zs({},f),p)}i.push(Object($.g)(Ys,Ws({className:"lf-outline-node",x:a,y:c,width:u+10,height:s+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,n=e.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<t.length;a++){var c=t[a];(r&&c.isSelected||o&&c.isHovered)&&(c.modelType===$r.LINE_EDGE?i.push(this.getLineOutline(c)):c.modelType===$r.POLYLINE_EDGE?i.push(this.getPolylineOutline(c)):c.modelType===$r.BEZIER_EDGE&&i.push(this.getBezierOutline(c)))}return i}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10,c=e.getOutlineStyle();return Object($.g)(Ys,Ws({className:"lf-outline-edge",x:r,y:o,width:i,height:a},c))}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=qc(t),r=Cc(n,8),o=r.x,i=r.y,a=r.width,c=r.height,u=e.getOutlineStyle();return Object($.g)(Ys,Ws({className:"lf-outline",x:o,y:i,width:a,height:c},u))}},{key:"getBezierOutline",value:function(e){var t=e.path,n=tu(t),r=Cc(n,8),o=r.x,i=r.y,a=r.width,c=r.height,u=e.getOutlineStyle();return Object($.g)(Ys,Ws({className:"lf-outline",x:o,y:i,width:a,height:c},u))}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Qs(t.prototype,n),r&&Qs(t,r),i}($.a))||Gs;function il(e){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ul(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.r,a=void 0===i?4:i,c=e.className,u={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=al(e,2),n=t[0],r=t[1];"object"!==il(r)&&(u[n]=r)})),u.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",Object($.g)("circle",u)}function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pl(){return(pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t,n){return t&&hl(e.prototype,t),n&&hl(e,n),e}function vl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gl(e,t)}function gl(e,t){return(gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xl(e);if(t){var o=xl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ml(this,n)}}function ml(e,t){if(t&&("object"===sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ol(e)}function Ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl,_l=function(e){vl(n,e);var t=bl(n);function n(){var e;return dl(this,n),jl(Ol(e=t.call(this)),"dragHandler",void 0),jl(Ol(e),"onDraging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.bezierModel,a=r.type,c=o.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,u=c.x,s=c.y;i.updateAdjustAnchor({x:u,y:s},a)})),jl(Ol(e),"onDragEnd",(function(){e.props.bezierModel.isDragging=!1})),e.dragHandler=new _u({onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return yl(n,[{key:"render",value:function(){var e=this,t=this.props.position,n=t.x,r=t.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object($.g)(ul,pl({className:"lf-bezier-adjust-anchor",x:n,y:r},o,{onMouseDown:function(t){e.dragHandler.handleMouseDown(t)}}))}}]),n}($.a),El=Nm(rl=function(e){vl(n,e);var t=bl(n);function n(){return dl(this,n),t.apply(this,arguments)}return yl(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,r=e.id,o=ll(tu(n),4),i=o[0],a=o[1],c=o[2],u=o[3],s=e.getEdgeStyle().adjustLine,l=[];return l.push(Object($.g)(Ns,pl({x1:i.x,y1:i.y,x2:a.x,y2:a.y},s))),l.push(Object($.g)(_l,{position:a,bezierModel:e,graphModel:t,key:"".concat(r,"_ePre"),type:"sNext"})),l.push(Object($.g)(Ns,pl({x1:u.x,y1:u.y,x2:c.x,y2:c.y},s))),l.push(Object($.g)(_l,{position:c,bezierModel:e,graphModel:t,key:"".concat(r,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var o=t[r];o.isSelected&&o.modelType===$r.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,e))}return n}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}($.a))||rl;function Sl(e){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dl(e);if(t){var o=Dl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kl(this,n)}}function kl(e,t){if(t&&("object"===Sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dl(e){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tl,Cl=Nm(wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(i,e);var t,n,r,o=Ml(i);function i(){return Pl(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props.children;return Object($.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object($.g)("g",{transform:e},t))}}])&&Al(t.prototype,n),r&&Al(t,r),i}($.a))||wl;function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(){return(Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hl(e);if(t){var o=Hl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){if(t&&("object"===Il(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hl(e){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ul=Nm(Tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}(i,e);var t,n,r,o=Gl(i);function i(){return Ll(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=(0,this.props.getView)(e.type);return Object($.g)(r,{key:e.id,model:e,graphModel:t,overlay:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.graphModel,r=t.tool,o=t.options,i=t.dnd,a=t.snaplineModel,c={};o.width&&(c.width="".concat(n.width,"px")),o.height&&(c.height="".concat(n.height,"px"));var u=n.fakerNode,s=n.editConfigModel.adjustEdge;return Object($.g)("div",{className:"lf-graph",style:c},Object($.g)(Zu,{graphModel:n,dnd:i},Object($.g)("g",{className:"lf-base"},xr(n.sortElements,(function(t){return e.getComponent(t,n)}))),u?this.getComponent(u,n):""),Object($.g)(Cl,{graphModel:n},Object($.g)(ol,{graphModel:n}),s?Object($.g)(El,{graphModel:n}):"",o.isSilentMode||!1===o.snapline?"":Object($.g)(Fs,{snaplineModel:a})),Object($.g)(is,{graphModel:n,tool:r}),o.background&&Object($.g)(hs,{background:o.background}),o.grid&&Object($.g)(_s,Rl({},o.grid,{graphModel:n})))}}])&&zl(t.prototype,n),r&&zl(t,r),i}($.a))||Tl;function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){Wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kl=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wl(this,"nodeConfig",void 0),Wl(this,"lf",void 0),Wl(this,"fakerNode",void 0),Wl(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),Wl(this,"dragEnter",(function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(Yl(Yl({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),Wl(this,"onDragOver",(function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,o=t.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(to.NODE_DND_DRAG,{data:i})}return!1})),Wl(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),Wl(this,"onDrop",(function(e){if(n.lf.graphModel&&e&&n.nodeConfig){var t=n.lf.addNode(Yl(Yl({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=t.getData();n.lf.graphModel.eventCenter.emit(to.NODE_DND_ADD,{data:r})}}));var r=t.lf;this.lf=r}var t,n,r;return t=e,(n=[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=ur(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:wi(i,r),y:wi(a,r)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Vl(t.prototype,n),r&&Vl(t,r),e}();function Zl(e){var t=e.container,n=e.grid,r=e.width,o=e.height;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");if("string"==typeof r||"string"==typeof o)throw new Error("width\u6216height\u4e0d\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f20\u6570\u5b57");return n&&(e.grid=zr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),zr({},Ql,e)}var ql,Jl,Ql={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){yf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(){return(uf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sf(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function sf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hf(e)););return e}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hf(e);if(t){var o=hf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pf(this,n)}}function pf(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return df(e)}function df(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vf(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var gf,bf,mf,Of,xf,jf,wf,_f,Ef,Sf,Pf,Af,Nf,Mf,kf,Df,Tf,Cf,If=(Jl=vf((ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(i,e);var t,n,r,o=ff(i);function i(){var e;af(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yf(df(e=o.call.apply(o,[this].concat(n))),"modelType",$r.BEZIER_EDGE),of(df(e),"path",Jl,df(e)),e}return t=i,(n=[{key:"initEdgeData",value:function(e){this.offset=100,uf(hf(i.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.bezier;return rf(rf({},uf(hf(i.prototype),"getEdgeStyle",this).call(this)),ii(e))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;e+=r,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=uf(hf(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return rf(rf({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return eu({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=ef(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e=this.getControls(),t=e.sNext,n=e.ePre;this.updatePath(t,n)}},{key:"updatePath",value:function(e,t){var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!e||!t){var o=this.getControls();e=o.sNext,t=o.ePre}this.pointsList=[n,e,t,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t;var n=ef(this.pointsList,3),r=n[1],o=n[2];r.x+=e,r.y+=t,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t;var n=ef(this.pointsList,3),r=n[1],o=n[2];o.x+=e,o.y+=t,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=eu({start:t,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,c=i.ePre;this.pointsList=[t,a,c,n],this.initPoints()}}])&&cf(t.prototype,n),r&&cf(t,r),i}(Ga)).prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vf(ql.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"initPoints"),ql.prototype),vf(ql.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"updatePoints"),ql.prototype),vf(ql.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"updateStartPoint"),ql.prototype),vf(ql.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"updateEndPoint"),ql.prototype),vf(ql.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"moveStartPoint"),ql.prototype),vf(ql.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"moveEndPoint"),ql.prototype),vf(ql.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"updateAdjustAnchor"),ql.prototype),vf(ql.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"getAdjustStart"),ql.prototype),vf(ql.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"getAdjustEnd"),ql.prototype),vf(ql.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(ql.prototype,"updateAfterAdjustStartAndEnd"),ql.prototype),ql),Rf=function(e){return null==e};function Lf(e){return(Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Bf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Bf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){Xf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Vf,Wf,Kf=(bf=Yf((gf=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xf(this,"id",zi()),Hf(this,"type",bf,this),Hf(this,"x",mf,this),Hf(this,"y",Of,this),Hf(this,"text",xf,this),Hf(this,"properties",jf,this),Hf(this,"_width",wf,this),Hf(this,"_height",_f,this),Hf(this,"anchorsOffset",Ef,this),Hf(this,"isSelected",Sf,this),Hf(this,"isHovered",Pf,this),Hf(this,"isDragging",Af,this),Hf(this,"isHitable",Nf,this),Hf(this,"draggable",Mf,this),Hf(this,"visible",kf,this),Xf(this,"graphModel",void 0),Hf(this,"zIndex",Df,this),Hf(this,"state",Tf,this),Hf(this,"autoToFront",Cf,this),Xf(this,"BaseType",eo.NODE),Xf(this,"modelType",$r.NODE),Xf(this,"additionStateData",void 0),Xf(this,"targetRules",[]),Xf(this,"sourceRules",[]),Xf(this,"moveRules",[]),Xf(this,"hasSetTargetRules",!1),Xf(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(t),this.setAttributes()}var t,n,r;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}this.formatText(e),zr(this,function(e){return Vr(e,["id","type","x","y","text","properties"])}(e)),this.graphModel.overlapMode===ro.INCREASE&&(this.zIndex=e.zIndex||Da())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===ro.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:t,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Ff({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.nodeText;return ii(e)}},{key:"getAnchorStyle",value:function(e){var t=this.graphModel.theme.anchor;return ii(t)}},{key:"getAnchorLineStyle",value:function(){var e=this.graphModel.theme.anchorLine;return ii(e)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return ii(e)}},{key:"isAllowConnectedAsSource",value:function(e,t,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var c=r[a];if(!c.validate.call(this,this,e,t,n)){i=!1,o=c.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e,t,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var c=r[a];if(!c.validate.call(this,e,this,t,n)){i=!1,o=c.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(e,t){var n,r=!0,o=!0,i=zf(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(this,e,t);if(!a)return!1;if("object"===Lf(a)){var c=a;if(!1===c.x&&!1===c.y)return!1;r=r&&c.x,o=o&&c.y}}}catch(e){i.e(e)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.id,n=this.x,r=this.y;return e&&e.length>0?e.map((function(e,o){return e.length?(e=e,{id:"".concat(t,"_").concat(o),x:n+e[0],y:r+e[1]}):Ff(Ff({},e=e),{},{x:n+e.x,y:r+e.y,id:e.id||"".concat(t,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(e){if(!Rf(e))for(var t=0;t<this.anchors.length;t++){var n=this.anchors[t];if(n.id===e)return n}}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){var n=!1,r=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])n=!0,r=!0;else{var o=this.isAllowMoveNode(e,t);"boolean"==typeof o?(n=o,r=o):(n=o.x,r=o.y)}if(n){var i=this.x+e;this.x=i,this.text&&this.moveText(e,0)}if(r){var a=this.y+t;this.y=a,this.text&&this.moveText(0,t)}return n||r}},{key:"moveTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e-this.x,o=t-this.y;return!(!n&&!this.isAllowMoveNode(r,o)||(this.text&&this.text&&this.moveText(r,o),this.x=e,this.y=t,0))}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,editable:c,draggable:a,x:r+e,y:o+t}}},{key:"updateText",value:function(e){this.text=Ff(Ff({},this.text),{},{value:e})}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setProperty",value:function(e,t){this.properties=Ff(Ff({},this.properties),{},Xf({},e,Na(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=Ff(Ff({},this.properties),Na(e)),this.setAttributes()}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=e}},{key:"updateAttributes",value:function(e){zr(this,e)}}])&&Uf(t.prototype,n),r&&Uf(t,r),e}()).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mf=Yf(gf.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Of=Yf(gf.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xf=Yf(gf.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),jf=Yf(gf.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wf=Yf(gf.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),_f=Yf(gf.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Ef=Yf(gf.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sf=Yf(gf.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pf=Yf(gf.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Af=Yf(gf.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nf=Yf(gf.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mf=Yf(gf.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kf=Yf(gf.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Df=Yf(gf.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Tf=Yf(gf.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cf=Yf(gf.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yf(gf.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(gf.prototype,"incoming"),gf.prototype),Yf(gf.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(gf.prototype,"outgoing"),gf.prototype),Yf(gf.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"addNodeMoveRules"),gf.prototype),Yf(gf.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"move"),gf.prototype),Yf(gf.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"moveTo"),gf.prototype),Yf(gf.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"moveText"),gf.prototype),Yf(gf.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"updateText"),gf.prototype),Yf(gf.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setSelected"),gf.prototype),Yf(gf.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setHovered"),gf.prototype),Yf(gf.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setHitable"),gf.prototype),Yf(gf.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setElementState"),gf.prototype),Yf(gf.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setProperty"),gf.prototype),Yf(gf.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setProperties"),gf.prototype),Yf(gf.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setZIndex"),gf.prototype),Yf(gf.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"updateAttributes"),gf.prototype),gf);function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(n),!0).forEach((function(t){up(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tp(){return(tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=np(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function np(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cp(e)););return e}function rp(e,t){return(rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function op(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cp(e);if(t){var o=cp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ip(this,n)}}function ip(e,t){if(t&&("object"===Zf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ap(e)}function ap(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e){return(cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sp(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var lp,fp,pp,dp=(Wf=sp((Vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rp(e,t)}(i,e);var t,n,r,o=op(i);function i(){var e;$f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return up(ap(e=o.call.apply(o,[this].concat(n))),"modelType",$r.CIRCLE_NODE),Qf(ap(e),"r",Wf,ap(e)),e}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var e=tp(cp(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.circle;return Jf(Jf({},e),ii(t))}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.r;return[{x:e,y:t-n,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+n,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&ep(t.prototype,n),r&&ep(t,r),i}(Kf)).prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),sp(Vf.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Vf.prototype,"width"),Vf.prototype),sp(Vf.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Vf.prototype,"height"),Vf.prototype),Vf);function hp(e){return(hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(n),!0).forEach((function(t){Np(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(){return(jp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function wp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ap(e)););return e}function _p(e,t){return(_p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ap(e);if(t){var o=Ap(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sp(this,n)}}function Sp(e,t){if(t&&("object"===hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pp(e)}function Pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ap(e){return(Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mp(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(127);var kp,Dp,Tp,Cp=(fp=Mp((lp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_p(e,t)}(i,e);var t,n,r,o=Ep(i);function i(){var e;Op(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Np(Pp(e=o.call.apply(o,[this].concat(n))),"modelType",$r.DIAMOND_NODE),mp(Pp(e),"rx",fp,Pp(e)),mp(Pp(e),"ry",pp,Pp(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=jp(Ap(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.diamond;return bp(bp({},e),ii(t))}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=yp(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=yp(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this;return this.points.map((function(t,n){var r=yp(t,2);return{x:r[0],y:r[1],id:"".concat(e.id,"_").concat(n)}}))}}])&&xp(t.prototype,n),r&&xp(t,r),i}(Kf)).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),pp=Mp(lp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Mp(lp.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(lp.prototype,"points"),lp.prototype),Mp(lp.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(lp.prototype,"pointsPosition"),lp.prototype),Mp(lp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(lp.prototype,"width"),lp.prototype),Mp(lp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(lp.prototype,"height"),lp.prototype),lp);function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fp(){return(Fp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Hp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wp(e)););return e}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wp(e);if(t){var o=Wp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yp(this,n)}}function Yp(e,t){if(t&&("object"===Ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vp(e)}function Vp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wp(e){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zp(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var qp,Jp,Qp=(Dp=Zp((kp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(i,e);var t,n,r,o=Xp(i);function i(){var e;Bp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kp(Vp(e=o.call.apply(o,[this].concat(n))),"modelType",$r.ELLIPSE_NODE),zp(Vp(e),"rx",Dp,Vp(e)),zp(Vp(e),"ry",Tp,Vp(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=Fp(Wp(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.ellipse;return Lp(Lp({},e),ii(t))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[{x:e,y:t-r,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&Gp(t.prototype,n),r&&Gp(t,r),i}(Kf)).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Tp=Zp(kp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Zp(kp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(kp.prototype,"width"),kp.prototype),Zp(kp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(kp.prototype,"height"),kp.prototype),kp);function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return td(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?td(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach((function(t){hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function od(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(){return(cd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ud(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ud(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dd(e)););return e}function sd(e,t){return(sd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dd(e);if(t){var o=dd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fd(this,n)}}function fd(e,t){if(t&&("object"===$p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pd(e)}function pd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yd(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var vd,gd,bd=(Jp=yd((qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sd(e,t)}(i,e);var t,n,r,o=ld(i);function i(){var e;id(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hd(pd(e=o.call.apply(o,[this].concat(n))),"modelType",$r.POLYGON_NODE),od(pd(e),"points",Jp,pd(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=cd(dd(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.polygon;return rd(rd({},e),ii(t))}},{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+e-n/2,y:o[1]+t-r/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ed(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ed(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this,t=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,a){var c=ed(i,2),u=c[0],s=c[1];return{x:t+u-r/2,y:n+s-o/2,id:"".concat(e.id,"_").concat(a)}}))}}])&&ad(t.prototype,n),r&&ad(t,r),i}(Kf)).prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yd(qp.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(qp.prototype,"pointsPosition"),qp.prototype),yd(qp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(qp.prototype,"width"),qp.prototype),yd(qp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(qp.prototype,"height"),qp.prototype),qp);function md(e){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){Dd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ed(){return(Ed="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Sd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Sd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kd(e)););return e}function Pd(e,t){return(Pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kd(e);if(t){var o=kd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nd(this,n)}}function Nd(e,t){if(t&&("object"===md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Md(e)}function Md(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kd(e){return(kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Td,Cd=(gd=function(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}((vd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pd(e,t)}(i,e);var t,n,r,o=Ad(i);function i(){var e;wd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dd(Md(e=o.call.apply(o,[this].concat(n))),"modelType",$r.RECT_NODE),jd(Md(e),"radius",gd,Md(e)),e}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var e=Ed(kd(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.rect;return xd(xd({},e),ii(t))}}])&&_d(t.prototype,n),r&&_d(t,r),i}(Kf)).prototype,"radius",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vd);function Id(e){return(Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(n),!0).forEach((function(t){Wd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gd(){return(Gd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Fd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vd(e)););return e}function Hd(e,t){return(Hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vd(e);if(t){var o=Vd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xd(this,n)}}function Xd(e,t){if(t&&("object"===Id(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yd(e)}function Yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e){return(Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kd(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Zd=(Kd((Td=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hd(e,t)}(i,e);var t,n,r,o=Ud(i);function i(){var e;zd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wd(Yd(e=o.call.apply(o,[this].concat(n))),"modelType",$r.TEXT_NODE),e}return t=i,(n=[{key:"getTextStyle",value:function(){var e=Gd(Vd(i.prototype),"getTextStyle",this).call(this),t=this.graphModel.theme.text;return Ld(Ld({},e),ii(t))}},{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return _a({rows:e,fontSize:t,rowsLength:e.length}).width}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return _a({rows:e,fontSize:t,rowsLength:e.length}).height}}])&&Bd(t.prototype,n),r&&Bd(t,r),i}(Kf)).prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Td.prototype,"width"),Td.prototype),Kd(Td.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Td.prototype,"height"),Td.prototype),Td);function qd(e){return(qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $d(e,t){return($d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rh(e);if(t){var o=rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return th(this,n)}}function th(e,t){if(t&&("object"===qd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nh(e)}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rh(e){return(rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ih,ah,ch,uh,sh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$d(e,t)}(i,e);var t,n,r,o=eh(i);function i(){var e;Jd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oh(nh(e=o.call.apply(o,[this].concat(n))),"modelType",$r.HTML_NODE),e}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}}])&&Qd(t.prototype,n),r&&Qd(t,r),i}(Kf);function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var yh=(ah=hh((ih=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dh(this,"graphModel",void 0),fh(this,"isShowHorizontal",ah,this),fh(this,"isShowVertical",ch,this),fh(this,"position",uh,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}var t,n,r;return t=e,(n=[{key:"getStyle",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(n),!0).forEach((function(t){dh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,o=!1,i=!1,a=0;a<t.length;a++){var c=t[a];if(c.id!==e.id&&(n===c.x&&(o=!0),r===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=va(a);else{var c=this.graphModel.getNodeModelById(i);r=va(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=va(s);if(l.minY===r.minY||l.maxY===r.minY){o=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){o=!0,n=r.maxY;break}}}return zr({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=va(a);else{var c=this.graphModel.getNodeModelById(i);r=va(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=va(s);if(l.minX===r.minX||l.maxX===r.minX){o=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){o=!0,n=r.maxX;break}}}return zr({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}])&&ph(t.prototype,n),r&&ph(t,r),e}()).prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ch=hh(ih.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=hh(ih.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh(ih.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(ih.prototype,"clearSnapline"),ih.prototype),hh(ih.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(ih.prototype,"setNodeSnapLine"),ih.prototype),ih);function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach((function(t){Ah(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wh(e,t){return(wh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ph(e);if(t){var o=Ph(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eh(this,n)}}function Eh(e,t){if(t&&("object"===vh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sh(e)}function Sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ph(e){return(Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wh(e,t)}(i,e);var t,n,r,o=_h(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ah(Sh(e=o.call(this)),"preTargetNode",void 0),Ah(Sh(e),"sourceRuleResults",void 0),Ah(Sh(e),"targetRuleResults",void 0),Ah(Sh(e),"dragHandler",void 0),Ah(Sh(e),"t",void 0),Ah(Sh(e),"onDragStart",(function(t){var n=t.event,r=e.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel,c=a.overlapMode;a.selectNodeById(i.id),c!==ro.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(to.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),e.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),Ah(Sh(e),"onDraging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,c=o.transformModel,u=o.eventCenter,s=o.width,l=o.height,f=o.editConfigModel,p=n.clientX,d=n.clientY,h=o.getPointByClient({x:p,y:d}),y=h.domOverlayPosition,v=y.x,g=y.y,b=h.canvasOverlayPosition,m=b.x,O=b.y;e.t&&clearInterval(e.t);var x=[];v<10?x=[10,0]:v+10>s?x=[-10,0]:g<10?x=[0,10]:g+10>l&&(x=[0,-10]),e.setState({endX:m,endY:O,draging:!0}),e.moveAnchorEnd(m,O),x.length>0&&!f.stopMoveGraph&&(e.t=setInterval((function(){var t=Oh(x,2),n=t[0],r=t[1];c.translate(n,r);var o=e.state,i=o.endX,a=o.endY;e.setState({endX:i-n,endY:a-r}),e.moveAnchorEnd(i-n,a-r)}),50)),u.emit(to.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),Ah(Sh(e),"onDragEnd",(function(t){e.t&&clearInterval(e.t),e.checkEnd(t),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),e.sourceRuleResults.clear(),e.targetRuleResults.clear()})),Ah(Sh(e),"checkEnd",(function(t){var n=e.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,c=i.y,u=i.id,s=r.edgeType,l=e.state,f=l.endX,p=l.endY,d=l.draging,h=la({x:f,y:p},r);if(e.preTargetNode&&e.preTargetNode.state!==Jr.DEFAULT&&e.preTargetNode.setElementState(Jr.DEFAULT),d&&h&&h.node){var y=h.node,v=h.anchor.id,g="".concat(o.id,"_").concat(y.id,"_").concat(v,"_").concat(u),b=e.sourceRuleResults.get(g)||{},m=b.isAllPass,O=b.msg,x=e.targetRuleResults.get(g)||{},j=x.isAllPass,w=x.msg;if(m&&j){y.setElementState(Jr.DEFAULT);var _=r.addEdge({type:s,sourceNodeId:o.id,sourceAnchorId:u,startPoint:{x:a,y:c},targetNodeId:h.node.id,targetAnchorId:h.anchor.id,endPoint:{x:h.anchor.x,y:h.anchor.y}}),E=e.props.anchorData;r.eventCenter.emit(to.ANCHOR_DROP,{data:E,e:t,nodeModel:o,edgeModel:_})}else{var S=y.getData();r.eventCenter.emit(to.CONNECTION_NOT_ALLOWED,{data:S,msg:w||O})}}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=new _u({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=i,(n=[{key:"getAnchorShape",value:function(){var e=this.props,t=e.anchorData,n=e.style,r=e.node.getAnchorShape(t);if(r)return r;var o=t.x,i=t.y,a=mh(mh({},n),n.hover);return Object($.g)("g",null,Object($.g)(ul,gh({className:"lf-node-anchor-hover"},a,{x:o,y:i})),Object($.g)(ul,gh({className:"lf-node-anchor"},n,{x:o,y:i})))}},{key:"moveAnchorEnd",value:function(e,t){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=la({x:e,y:t},r);if(a){var c=a.node,u=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(Jr.DEFAULT),i.id===u)return;this.preTargetNode=c;var s="".concat(o.id,"_").concat(c.id,"_").concat(u,"_").concat(i.id);if(!this.targetRuleResults.has(s)){var l=a.anchor,f=o.isAllowConnectedAsSource(c,i,l),p=c.isAllowConnectedAsTarget(o,i,l);this.sourceRuleResults.set(s,Ea(f)),this.targetRuleResults.set(s,Ea(p))}var d=this.sourceRuleResults.get(s).isAllPass,h=this.targetRuleResults.get(s).isAllPass;d&&h?c.setElementState(Jr.ALLOW_CONNECT):c.setElementState(Jr.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Jr.DEFAULT&&this.preTargetNode.setElementState(Jr.DEFAULT)}},{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY;return da(t,n,r,o)>10}},{key:"render",value:function(){var e=this,t=this.state,n=t.startX,r=t.startY,o=t.endX,i=t.endY,a=this.props,c=a.anchorData.edgeAddable,u=a.edgeStyle;return Object($.g)("g",{className:"lf-anchor"},Object($.g)("g",{onMouseDown:function(t){!1!==c&&e.dragHandler.handleMouseDown(t)}},this.getAnchorShape()),this.isShowLine()&&Object($.g)(Ns,gh({x1:n,y1:r,x2:o,y2:i},u,{"pointer-events":"none"})))}}])&&jh(t.prototype,n),r&&jh(t,r),i}($.a);function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mh(Object(n),!0).forEach((function(t){Dh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ch(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ih(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ih(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rh(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.value,a=e.fontSize,c=e.fill,u=void 0===c?"currentColor":c,s=e.overflowMode,l=void 0===s?"default":s,f=e.textWidth,p=void 0===f?"":f,d=e.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:u};if(Object.entries(e).forEach((function(e){var t=Ch(e,2),n=t[0],r=t[1];"object"!==Th(r)&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==l){var g=d.BaseType,b=d.modelType;if(g===eo.NODE&&b!==$r.TEXT_NODE||g===eo.EDGE&&p)return function(e){var t=e.value,n=e.fontSize,r=e.model,o=e.fontFamily,i=void 0===o?"":o,a=e.lineHeight,c=e.wrapPadding,u=void 0===c?"0, 0":c,s=e.overflowMode,l=e.x,f=e.y,p=r.width,d=r.textHeight,h=e.textWidth||p,y=String(t).split(/[\r\n]/g),v=y.length,g=wa({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:u},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===s;return Object($.g)("g",null,Object($.g)("foreignObject",{width:h,height:b,x:l-h/2,y:f-b/2},Object($.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:u}},Object($.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:kh({},e)},y.map((function(e){return Object($.g)("div",{className:"lf-node-text--auto-wrap-inner"},e)}))))))}(e)}if(v>1){var m=y.map((function(e,t){var r=(t-(v-1)/2)*(a+2);return Object($.g)("tspan",{className:"lf-text-tspan",x:n,y:o+r},e)}));return Object($.g)("text",h,m)}return Object($.g)("text",h,i)}}function Lh(e){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zh(){return(zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vh(e);if(t){var o=Vh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xh(this,n)}}function Xh(e,t){if(t&&("object"===Lh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yh(e)}function Yh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vh(e){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(63);var Kh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hh(e,t)}(i,e);var t,n,r,o=Uh(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Wh(Yh(t=o.call(this)),"dragHandler",void 0),Wh(Yh(t),"sumDeltaX",0),Wh(Yh(t),"sumDeltaY",0),Wh(Yh(t),"stepDrag",void 0),Wh(Yh(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=Bh(o.graphModel.transformModel.fixDeltaXY(n,r),2),c=a[0],u=a[1];i.moveText(c,u)})),Wh(Yh(t),"dblClickHandler",(function(){t.props.editable&&t.props.model.setElementState(Jr.TEXT_EDIT)})),Wh(Yh(t),"mouseDownHandle",(function(e){var n=t.props,r=n.draggable,o=n.graphModel.editConfigModel.nodeTextDraggable;(r||o)&&t.stepDrag.handleMouseDown(e)}));var n=e.model,r=e.draggable;return t.stepDrag=new _u({onDraging:t.onDraging,step:1,model:n,isStopPropagation:r}),t}return t=i,(n=[{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.text,o=n.editConfigModel,i=r.value,a=r.x,c=r.y,u=r.editable,s=r.draggable,l={x:a,y:c,className:"",value:i};u?l.className="lf-element-text":s||o.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var f=t.getTextStyle();return Object($.g)(Rh,zh({},l,f,{model:t}))}},{key:"render",value:function(){if(this.props.model.text)return Object($.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Fh(t.prototype,n),r&&Fh(t,r),i}($.a),Zh=null!==window.navigator.userAgent.match(/MSIE|Trident/),qh=new Map,Jh=function(e){var t=qh.get(e);t&&(window.cancelAnimationFrame(t),qh.delete(e))};function Qh(e){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ey(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ty(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return(ny=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ay(e);if(t){var o=ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oy(this,n)}}function oy(e,t){if(t&&("object"===Qh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iy(e)}function iy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ay(e){return(ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ny(e,t)}(i,e);var t,n,r,o=ry(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),cy(iy(t=o.call(this)),"t",void 0),cy(iy(t),"moveOffset",void 0),cy(iy(t),"stepDrag",void 0),cy(iy(t),"contextMenuTime",void 0),cy(iy(t),"startTime",void 0),cy(iy(t),"clickTimer",void 0),cy(iy(t),"onDragStart",(function(e){var n=e.event,r=n.clientX,o=n.clientY,i=t.props,a=i.model,c=i.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,u=c.x,s=c.y;t.moveOffset={x:a.x-u,y:a.y-s}})),cy(iy(t),"onDraging",(function(e){var n=e.event,r=t.props,o=r.model,i=r.graphModel,a=i.editConfigModel,c=i.transformModel,u=i.width,s=i.height,l=i.gridSize;o.isDragging=!0;var f=n.clientX,p=n.clientY,d=i.getPointByClient({x:f,y:p}).canvasOverlayPosition,h=d.x,y=d.y,v=$h(c.CanvasPointToHtmlPoint([h,y]),2),g=v[0],b=v[1];if(!(g<0||b<0||g>u||b>s)){h+=t.moveOffset.x,y+=t.moveOffset.y,h=wi(h,l),y=wi(y,l);var m,O,x,j=$h(c.CanvasPointToHtmlPoint([h-o.width/2,y-o.height/2]),2),w=j[0],_=j[1],E=$h(c.CanvasPointToHtmlPoint([h+o.width/2,y+o.height/2]),2),S=E[0],P=E[1],A=Math.max(l,20),N=[];w<0?N=[A,0]:S>i.width?N=[-A,0]:_<0?N=[0,A]:P>i.height&&(N=[0,-A]),t.t&&Jh(t.t),N.length>0&&!a.stopMoveGraph?t.t=(m=function(){var e=$h(N,2),t=e[0],n=e[1];c.translate(t,n),i.moveNode(o.id,-t/c.SCALE_X,-n/c.SCALE_X)},O=zi(),x=window.requestAnimationFrame((function e(){if(m(),qh.get(O)){var t=window.requestAnimationFrame(e);qh.set(O,t)}})),qh.set(O,x),O):i.moveNode2Coordinate(o.id,h,y)}})),cy(iy(t),"onDragEnd",(function(){t.t&&Jh(t.t),t.props.model.isDragging=!1})),cy(iy(t),"handleClick",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var n=t.props,r=n.model,o=n.graphModel,i={data:r.getData(),e:e,position:o.getPointByClient({x:e.clientX,y:e.clientY})},a=2===e.button,c=2===e.detail;if(!a){var u=o.editConfigModel;o.selectNodeById(r.id,Ni(e,u)),t.toFront(),c?(u.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),o.setElementStateById(r.id,Jr.TEXT_EDIT)),o.eventCenter.emit(to.NODE_DBCLICK,i)):(o.eventCenter.emit(to.ELEMENT_CLICK,i),o.eventCenter.emit(to.NODE_CLICK,i))}}})),cy(iy(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.model,o=n.graphModel,i=r.getData(),a=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,Jr.SHOW_MENU,a.domOverlayPosition),o.selectNodeById(r.id),o.eventCenter.emit(to.NODE_CONTEXTMENU,{data:i,e:e,position:a}),t.toFront()})),cy(iy(t),"handleMouseDown",(function(e){var n=t.props,r=n.model,o=n.graphModel;t.toFront(),t.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&r.draggable&&t.stepDrag&&t.stepDrag.handleMouseDown(e)})),cy(iy(t),"setHoverON",(function(e){if(!t.state.isHovered){t.setState({isHovered:!0});var n=t.props,r=n.model,o=n.graphModel,i=r.getData();r.setHovered(!0),o.eventCenter.emit(to.NODE_MOUSEENTER,{data:i,e:e})}})),cy(iy(t),"setHoverOFF",(function(e){t.setState({isHovered:!1});var n=t.props,r=n.model,o=n.graphModel,i=r.getData();r.setHovered(!1),o.eventCenter.emit(to.NODE_MOUSELEAVE,{data:i,e:e})})),cy(iy(t),"onMouseOut",(function(e){Zh&&t.setHoverOFF(e)}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter,c=e.model;return t.stepDrag=new _u({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:c}),t.state={isHovered:!1},t}return t=i,r=[{key:"getModel",value:function(e){return e}}],(n=[{key:"getAnchorShape",value:function(e){return null}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,c=this.state.isHovered;if(i&&(o||c)&&!a){var u=n.getAnchorLineStyle();return xr(n.anchors,(function(t,o){var i=n.getAnchorStyle(t);return Object($.g)(Nh,{anchorData:t,node:e,style:i,edgeStyle:u,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:e.setHoverOFF})}))}return[]}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===Jr.TEXT_EDIT)return"";if(t.text){var r=n.editConfigModel,o=!1;return(t.text.draggable||r.nodeTextDraggable)&&(o=!0),Object($.g)(Kh,{editable:r.nodeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var e=this.props.model,t=e.state,n=e.isDraging,r=e.isSelected,o="lf-node";switch(t){case Jr.ALLOW_CONNECT:o+=" lf-node-allow";break;case Jr.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default"}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var e=this.props,t=e.model,n=e.graphModel;n.overlapMode!==ro.INCREASE&&t.autoToFront&&n.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,n=t.model,r=t.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,c=r.gridSize,u=r.transformModel.SCALE_X,s=n.isHitable,l=n.draggable,f=Object($.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(c*u),e=Object($.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):e=Object($.g)("g",{className:this.getStateClassName()},f),e}}])&&ty(t.prototype,n),r&&ty(t,r),i}($.a);function sy(e){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ly(){return(ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dy(e,t){return(dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vy(e);if(t){var o=vy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yy(this,n)}}function yy(e,t){if(t&&("object"===sy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vy(e){return(vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dy(e,t)}(i,e);var t,n,r,o=hy(i);function i(){return fy(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object($.g)(Ys,ly({},t,{x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius}))}}])&&py(t.prototype,n),r&&py(t,r),i}(uy);function by(e){return(by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function my(){return(my=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jy(e,t){return(jy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ey(e);if(t){var o=Ey(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _y(this,n)}}function _y(e,t){if(t&&("object"===by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ey(e){return(Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jy(e,t)}(i,e);var t,n,r,o=wy(i);function i(){return Oy(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.r,o=e.getNodeStyle();return Object($.g)(ul,my({},o,{x:t,y:n,r:r}))}}])&&xy(t.prototype,n),r&&xy(t,r),i}(uy);function Py(e){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ny(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ny(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function My(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach((function(e){var t=Ay(e,2),n=t[0],o=t[1];"object"!==Py(o)&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map((function(e){return e.join(",")})).join(" "),Object($.g)("polygon",r)}function ky(e){return(ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dy(){return(Dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return(Iy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zy(e);if(t){var o=zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ly(this,n)}}function Ly(e,t){if(t&&("object"===ky(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zy(e){return(zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var By=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iy(e,t)}(i,e);var t,n,r,o=Ry(i);function i(){return Ty(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle(),c={transform:"matrix(1 0 0 1 ".concat(t-r/2," ").concat(n-o/2,")")};return Object($.g)("g",c,Object($.g)(My,Dy({},a,{points:i,x:t,y:n})))}}])&&Cy(t.prototype,n),r&&Cy(t,r),i}(uy);function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fy(){return(Fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xy(e,t){return(Xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wy(e);if(t){var o=Wy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vy(this,n)}}function Vy(e,t){if(t&&("object"===Gy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wy(e){return(Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ky=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xy(e,t)}(i,e);var t,n,r,o=Yy(i);function i(){return Hy(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object($.g)("g",null,Object($.g)(My,Fy({},t,{points:e.points,x:e.x,y:e.y})))}}])&&Uy(t.prototype,n),r&&Uy(t,r),i}(uy);function Zy(e){return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qy(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,c=e.ry,u=void 0===c?4:c,s=e.className,l={cx:n,cy:o,rx:a,ry:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=qy(e,2),n=t[0],r=t[1];"object"!==Zy(r)&&(l[n]=r)})),l.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object($.g)("ellipse",l)}function $y(e){return($y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(){return(ev=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rv(e,t){return(rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ov(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=av(e);if(t){var o=av(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iv(this,n)}}function iv(e,t){if(t&&("object"===$y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function av(e){return(av=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rv(e,t)}(i,e);var t,n,r,o=ov(i);function i(){return tv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object($.g)(Qy,ev({},t,{x:e.x,y:e.y,rx:e.rx,ry:e.ry}))}}])&&nv(t.prototype,n),r&&nv(t,r),i}(uy);function uv(e){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(n),!0).forEach((function(t){fv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hv(e,t){return(hv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gv(e);if(t){var o=gv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vv(this,n)}}function vv(e,t){if(t&&("object"===uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gv(e){return(gv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hv(e,t)}(i,e);var t,n,r,o=yv(i);function i(){return pv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text;if(n&&n.value&&t.background&&"transparnet"!==t.background.fill){var r=n.x,o=n.y,i=e.width,a=e.height,c=lv(lv({},t.background),{},{x:r,y:o-1,width:i,height:a});return Object($.g)(Ys,c)}}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getBackgroud())}}])&&dv(t.prototype,n),r&&dv(t,r),i}(uy);function mv(e){return(mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jv(e,t){return(jv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sv(e);if(t){var o=Sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _v(this,n)}}function _v(e,t){if(t&&("object"===mv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ev(e)}function Ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Av=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jv(e,t)}(i,e);var t,n,r,o=wv(i);function i(){var e;Ov(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pv(Ev(e=o.call.apply(o,[this].concat(n))),"ref",void 0),Pv(Ev(e),"currrentProperties",void 0),Pv(Ev(e),"preProperties",void 0),Pv(Ev(e),"setRef",(function(t){e.ref=t})),e}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.height,o=e.width;return this.currrentProperties=JSON.stringify(e.properties),Object($.g)("foreignObject",{x:t-o/2,y:n-r/2,width:o,height:r,ref:this.setRef})}}])&&xv(t.prototype,n),r&&xv(t,r),i}(uy);function Nv(e){return(Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dv=function(e){var t={d:""};return Object.entries(e).forEach((function(e){var n=Mv(e,2),r=n[0],o=n[1],i=Nv(o);"style"!==r&&"object"===i||(t[r]=o)})),Object($.g)("path",t)};function Tv(e){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zv(e,t){return(zv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fv(e);if(t){var o=Fv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gv(this,n)}}function Gv(e,t){if(t&&("object"===Tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fv(e){return(Fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zv(e,t)}(i,e);var t,n,r,o=Bv(i);function i(){return Rv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,o=t.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=xc(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){Iv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttributes(),t=e.d,n=e.strokeWidth,r=e.stroke,o=e.fill;return Object($.g)(Dv,{d:t,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object($.g)("g",{className:"lf-arrow"},this.getShape())}}])&&Lv(t.prototype,n),r&&Lv(t,r),i}($.a);function Uv(e){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xv(){return(Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yv(Object(n),!0).forEach((function(t){$v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kv(e,t){return(Kv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qv(e);if(t){var o=Qv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qv(this,n)}}function qv(e,t){if(t&&("object"===Uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jv(e)}function Jv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qv(e){return(Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eg,tg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kv(e,t)}(i,e);var t,n,r,o=Zv(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$v(Jv(t=o.call(this,e)),"setHoverON",(function(){t.setState({isHoverd:!0})})),$v(Jv(t),"setHoverOFF",(function(){t.setState({isHoverd:!1})})),t.state={isHoverd:!1},t}return t=i,(n=[{key:"getBackgroud",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text,r=t.background||{};if(this.state.isHoverd&&t.hover&&t.hover.background&&(r=Vv(Vv({},r),t.hover.background)),n&&n.value&&"transparent"!==r.fill){var o,i=t.fontSize,a=t.overflowMode,c=t.lineHeight,u=t.wrapPadding,s=t.textWidth,l=n.value,f=n.x,p=n.y,d=String(l).split(/[\r\n]/g),h=d.length;if("autoWrap"===a&&s){var y=wa({rows:d,style:{fontSize:"".concat(i,"px"),width:"".concat(s,"px"),lineHeight:c,padding:u},rowsLength:h,className:"lf-get-text-height"});o=Vv(Vv({},r),{},{x:f-1,y:p-1,width:s,height:y})}else{var v=0;d&&d.forEach((function(e){var t=$c(e);v=t>v?t:v}));var g=_a({rows:d,fontSize:i,rowsLength:h}),b=g.width,m=g.height;if("string"==typeof r.wrapPadding){var O=r.wrapPadding.split(",").filter((function(e){return e.trim()})).map((function(e){return parseFloat(e.trim())}));O.length>0&&O.length<=4&&(1===O.length?O=[O[0],O[0],O[0],O[0]]:2===O.length?O=[O[0],O[1],O[0],O[1]]:3===O.length&&(O=[O[0],O[1],O[2],O[1]]),b+=O[1]+O[3],m+=O[0]+O[2],f+=(O[1]-O[3])/2,p+=(O[2]-O[0])/2)}o=Vv(Vv({},r),{},{x:f-1,y:p-1,width:b,height:m})}return Object($.g)(Ys,o)}}},{key:"getShape",value:function(){var e=this.props.model,t=e.text,n=t.value,r=t.x,o=t.y;if(n){var i=Vv({x:r,y:o,className:"lf-element-text",value:n},e.getTextStyle());return Object($.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object($.g)(Rh,Xv({},i,{model:e})))}}}])&&Wv(t.prototype,n),r&&Wv(t,r),i}(Kh);function ng(e){return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rg(){return(rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?og(Object(n),!0).forEach((function(t){hg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ag(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sg(e,t){return(sg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dg(e);if(t){var o=dg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fg(this,n)}}function fg(e,t){if(t&&("object"===ng(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pg(e)}function pg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dg(e){return(dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(eg||(eg={}));var yg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sg(e,t)}(i,e);var t,n,r,o=lg(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),hg(pg(e=o.call(this)),"dragHandler",void 0),hg(pg(e),"oldEdge",void 0),hg(pg(e),"preTargetNode",void 0),hg(pg(e),"targetRuleResults",void 0),hg(pg(e),"sourceRuleResults",void 0),hg(pg(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.edgeModel,i=o.startPoint,a=o.endPoint,c=o.pointsList;e.oldEdge={startPoint:i,endPoint:a,pointsList:c},e.setState({endX:n,endY:r,draging:!0}),o.isHitable=!1})),hg(pg(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,a=o.endY,c=e.props,u=c.graphModel,s=c.type,l=ag(u.transformModel.moveCanvasPointByHtml([i,a],n,r),2),f=l[0],p=l[1];e.setState({endX:f,endY:p,draging:!0});var d=e.props.edgeModel,h=la({x:i,y:a},u);if(h&&h.node&&e.isAllowAdjust(h)){var y,v=d.startPoint,g=d.endPoint,b=d.sourceNode,m=d.targetNode;s===eg.SOURCE?y={startPoint:{x:h.anchor.x,y:h.anchor.y},endPoint:{x:g.x,y:g.y},sourceNode:h.node,targetNode:m}:s===eg.TARGET&&(y={startPoint:{x:v.x,y:v.y},endPoint:{x:h.anchor.x,y:h.anchor.y},sourceNode:b,targetNode:h.node}),d.updateAfterAdjustStartAndEnd(y)}else s===eg.SOURCE?d.updateStartPoint({x:f,y:p}):s===eg.TARGET&&d.updateEndPoint({x:f,y:p})})),hg(pg(e),"onDragEnd",(function(){var t;e.setState({draging:!1});var n=e.props,r=n.graphModel,o=n.edgeModel,i=n.type;o.isHitable=!0;var a=e.state,c=a.endX,u=a.endY,s=a.draging,l=la({x:c,y:u},r);if(s){if(l&&l.node&&e.isAllowAdjust(l)){var f,p=o.getData(),d=ig(ig({},p),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==p||null===(f=p.text)||void 0===f?void 0:f.value)||""});i===eg.SOURCE?d=ig(ig({},d),{},{sourceNodeId:l.node.id,sourceAnchorId:l.anchor.id,startPoint:{x:l.anchor.x,y:l.anchor.y},targetNodeId:o.targetNodeId,endPoint:ig({},o.endPoint)}):i===eg.TARGET&&(d=ig(ig({},d),{},{sourceNodeId:o.sourceNodeId,startPoint:ig({},o.startPoint),targetNodeId:l.node.id,targetAnchorId:l.anchor.id,endPoint:{x:l.anchor.x,y:l.anchor.y}})),r.deleteEdgeById(o.id);var h=r.addEdge(ig({},d));r.eventCenter.emit(to.EDGE_EXCHANGE_NODE,{data:{newEdge:h.getData(),oldEdge:o.getData()}})}else e.recoveryEdge();null===(t=e.preTargetNode)||void 0===t||t.setElementState(Jr.DEFAULT)}})),hg(pg(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(o),t.modelType!==$r.LINE_EDGE&&(t.pointsList=i,t.initPoints())})),hg(pg(e),"getAdjustPointStyle",(function(){return e.props.graphModel.theme.edgeAdjust})),e.state={draging:!1,endX:0,endY:0},e.targetRuleResults=new Map,e.sourceRuleResults=new Map,e.dragHandler=lu({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=i,(n=[{key:"isAllowAdjust",value:function(e){var t=this.props,n=t.edgeModel,r=(n.id,n.sourceNode),o=n.targetNode,i=n.sourceAnchorId,a=n.targetAnchorId,c=t.type,u=null,s=null,l=null,f=null;if(c===eg.SOURCE?(u=e.node,s=o,l=e.anchor,f=o.getAnchorInfo(a)):(u=r,s=e.node,f=e.anchor,l=r.getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==e.node&&this.preTargetNode.setElementState(Jr.DEFAULT),this.preTargetNode=e.node,f.id===l.id)return!1;var p="".concat(u.id,"_").concat(s.id,"_").concat(l.id,"_").concat(f.id);if(!this.targetRuleResults.has(p)){var d=u.isAllowConnectedAsSource(s,l,f),h=s.isAllowConnectedAsTarget(u,l,f);this.sourceRuleResults.set(p,Ea(d)),this.targetRuleResults.set(p,Ea(h))}var y=this.sourceRuleResults.get(p).isAllPass,v=this.targetRuleResults.get(p).isAllPass,g=y&&v?Jr.ALLOW_CONNECT:Jr.NOT_ALLOW_CONNECT;return c===eg.SOURCE?u.setElementState(g):s.setElementState(g),y&&v}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=this.state.draging,o=this.getAdjustPointStyle();return Object($.g)("g",null,Object($.g)(ul,rg({className:"lf-edge-adjust-point"},o,{x:t,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}])&&ug(t.prototype,n),r&&ug(t,r),i}($.a);function vg(e){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gg(){return(gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(n),!0).forEach((function(t){Pg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Og(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jg(e,t){return(jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sg(e);if(t){var o=Sg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _g(this,n)}}function _g(e,t){if(t&&("object"===vg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eg(e)}function Eg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sg(e){return(Sg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ag=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jg(e,t)}(i,e);var t,n,r,o=wg(i);function i(){var e;Og(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pg(Eg(e=o.call.apply(o,[this].concat(n))),"startTime",void 0),Pg(Eg(e),"contextMenuTime",void 0),Pg(Eg(e),"clickTimer",void 0),Pg(Eg(e),"handleHover",(function(t,n){var r=e.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(t);var a=t?to.EDGE_MOUSEENTER:to.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:n})})),Pg(Eg(e),"setHoverON",(function(t){e.handleHover(!0,t)})),Pg(Eg(e),"setHoverOFF",(function(t){e.handleHover(!1,t)})),Pg(Eg(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,Jr.SHOW_MENU,i.domOverlayPosition),e.toFront(),o.selectEdgeById(r.id);var a=null==r?void 0:r.getData();o.eventCenter.emit(to.EDGE_CONTEXTMENU,{data:a,e:t,position:i})})),Pg(Eg(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),Pg(Eg(e),"handleMouseUp",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200||2===t.button)){var n=2===t.detail,r=e.props,o=r.model,i=r.graphModel,a=null==o?void 0:o.getData(),c=i.getPointByClient({x:t.clientX,y:t.clientY});if(n){var u=i.editConfigModel,s=i.textEditElement;if(s&&s.id===o.id&&i.setElementStateById(o.id,Jr.DEFAULT),u.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,Jr.TEXT_EDIT),o.modelType===$r.POLYLINE_EDGE){var l=o,f=i.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,p=f.x,d=f.y,h=ru({x:p,y:d},l.points);l.dbClickPosition=h}i.eventCenter.emit(to.EDGE_DBCLICK,{data:a,e:t,position:c})}else i.eventCenter.emit(to.ELEMENT_CLICK,{data:a,e:t,position:c}),i.eventCenter.emit(to.EDGE_CLICK,{data:a,e:t,position:c});var y=i.editConfigModel;i.selectEdgeById(o.id,Ni(t,y)),e.toFront()}})),Pg(Eg(e),"getIsDraging",(function(){return!1})),e}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===Jr.TEXT_EDIT)return"";var r=!1,o=n.editConfigModel;return(t.text.draggable||o.edgeTextDraggable)&&(r=!0),Object($.g)(tg,{editable:o.edgeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected;return{start:t,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getEdgeStyle(),o=t.getEdgeAnimationStyle(),i=n.theme.arrow,a=t.isAnimation?o.stroke:r.stroke;return mg(mg({},r),{},{fill:a,stroke:a},i)}},{key:"getArrow",value:function(){var e=this.getArrowInfo(),t=e.start,n=e.end;if(t&&n&&(t.x!==n.x||t.y!==n.y)){var r=this.getArrowStyle();return Object($.g)(Hv,{arrowInfo:e,style:r})}}},{key:"getAdjustPoints",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getAdjustStart(),o=t.getAdjustEnd();return Object($.g)("g",null,Object($.g)(yg,gg({type:"SOURCE"},r,{edgeModel:t,graphModel:n})),Object($.g)(yg,gg({type:"TARGET"},o,{edgeModel:t,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object($.g)("g",null)}},{key:"getAppend",value:function(){return Object($.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var e=this.props,t=e.graphModel,n=e.model;t.overlapMode!==ro.INCREASE&&t.toFront(n.id)}},{key:"render",value:function(){var e=this.props,t=e.model,n=t.isSelected,r=t.isHitable,o=e.graphModel,i=this.getIsDraging(),a=o.editConfigModel.adjustEdgeStartAndEnd,c=o.animation,u=n&&c.edge&&1===o.getSelectElements().edges.length;return Object($.g)("g",null,Object($.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),u&&this.getAnimation(),this.getText(),this.getArrow()),a&&n&&!i?this.getAdjustPoints():"")}}])&&xg(t.prototype,n),r&&xg(t,r),i}($.a);function Ng(e){return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mg(){return(Mg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tg(e,t){return(Tg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rg(e);if(t){var o=Rg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ig(this,n)}}function Ig(e,t){if(t&&("object"===Ng(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rg(e){return(Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tg(e,t)}(i,e);var t,n,r,o=Cg(i);function i(){return kg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isAnimation,o=e.getEdgeStyle(),i=e.getEdgeAnimationStyle(),a=i.strokeDasharray,c=i.stroke,u=i.strokeDashoffset,s=i.animationName,l=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object($.g)(Ns,Mg({},o,{x1:t.x,y1:t.y,x2:n.x,y2:n.y},r?{strokeDasharray:a,stroke:c,style:{strokeDashoffset:u,animationName:s,animationDuration:l,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.startPoint,a=e.endPoint,c=e.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Ns,Mg({},c,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=xc(wc(wc({},o),{},{type:"start"})),a=xc(wc(wc({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:e.startPoint,end:e.endPoint}),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return Object($.g)(Dv,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}}])&&Dg(t.prototype,n),r&&Dg(t,r),i}(Ag);function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fg=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach((function(e){var n=Bg(e,2),r=n[0],o=n[1];("style"===r||"object"!==zg(o))&&(t[r]=o)})),Object($.g)("polyline",t)};function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ug(Object(n),!0).forEach((function(t){eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yg(){return(Yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zg(e,t){return(Zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$g(e);if(t){var o=$g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jg(this,n)}}function Jg(e,t){if(t&&("object"===Hg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qg(e)}function Qg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $g(e){return($g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zg(e,t)}(i,e);var t,n,r,o=qg(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),eb(Qg(e=o.call(this)),"drag",void 0),eb(Qg(e),"isDraging",void 0),eb(Qg(e),"appendInfo",void 0),eb(Qg(e),"dragHandler",void 0),eb(Qg(e),"onDragStart",(function(){e.props.model.dragAppendStart()})),eb(Qg(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var c=a.transformModel,u=a.editConfigModel,s=Vg(c.fixDeltaXY(n,r),2),l=s[0],f=s[1],p=i,d=u.adjustEdgeMiddle;e.appendInfo=d?p.dragAppendSimple(e.appendInfo,{x:l,y:f}):p.dragAppend(e.appendInfo,{x:l,y:f})})),eb(Qg(e),"onDragEnd",(function(){var t=e.props,n=t.model,r=t.graphModel.eventCenter,o=n;o.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0,r.emit(to.EDGE_ADJUST,{data:o.getData()})})),eb(Qg(e),"beforeDragStart",(function(t,n){n.dragAble&&e.dragHandler(t),e.appendInfo=n})),eb(Qg(e),"getIsDraging",(function(){return e.isDraging})),e.drag=lu({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.points,n=e.isAnimation,r=e.getEdgeStyle(),o=e.getEdgeAnimationStyle(),i=o.strokeDasharray,a=o.stroke,c=o.strokeDashoffset,u=o.animationName,s=o.animationDuration,l=o.animationIterationCount,f=o.animationTimingFunction,p=o.animationDirection;return Object($.g)(Fg,Yg({points:t},r,n?{strokeDasharray:i,stroke:a,style:{strokeDashoffset:c,animationName:u,animationDuration:s,animationIterationCount:l,animationTimingFunction:f,animationDirection:p}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Fg,Yg({points:e.points},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=qc(t);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getAppendAttributes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=xc(Xg(Xg({},o),{},{type:"start"})),a=xc(Xg(Xg({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttributes(e),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return Object($.g)(Dv,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.pointsList,i=n.draggable,a=[],c=o.length,u=function(t){var n="lf-polyline-append",u={start:{x:o[t].x,y:o[t].y},end:{x:o[t+1].x,y:o[t+1].y},startIndex:t,endIndex:t+1,direction:"",dragAble:!0},s=Object($.g)("g",{className:n},e.getAppendShape(u)),l=r.editConfigModel,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){e.dragHandler=e.drag;var d=u.startIndex,h=u.endIndex,y=p&&(0===d||h===c-1);u.dragAble=!y,u.start.x===u.end.x?(u.dragAble&&(n+="-ew-resize"),u.direction=no.VERTICAL):u.start.y===u.end.y&&(u.dragAble&&(n+="-ns-resize"),u.direction=no.HORIZONTAL),s=Object($.g)("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,u)}},Object($.g)("g",{className:n},e.getAppendShape(u)))}else e.dragHandler=function(){};a.push(s)},s=0;s<c-1;s++)u(s);return Object($.g)("g",null,a)}}])&&Kg(t.prototype,n),r&&Kg(t,r),i}(Ag);function nb(e){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ob(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ob(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ib(){return(ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ub(e,t){return(ub=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fb(e);if(t){var o=fb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lb(this,n)}}function lb(e,t){if(t&&("object"===nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fb(e){return(fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ub(e,t)}(i,e);var t,n,r,o=sb(i);function i(){return ab(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.getEdgeStyle(),n=e.path,r=e.isAnimation,o=e.getEdgeAnimationStyle(),i=o.strokeDasharray,a=o.stroke,c=o.strokeDashoffset,u=o.animationName,s=o.animationDuration,l=o.animationIterationCount,f=o.animationTimingFunction,p=o.animationDirection;return Object($.g)(Dv,ib({d:n},t,r?{strokeDasharray:i,stroke:a,style:{strokeDashoffset:c,animationName:u,animationDuration:s,animationIterationCount:l,animationTimingFunction:f,animationDirection:p}}:{}))}},{key:"getShape",value:function(){return Object($.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var e=this.props.model,t=e.getAnimation(),n=t.stroke,r=t.className,o=t.strokeDasharray,i=e.getEdgeStyle();return Object($.g)("g",null,Object($.g)(Dv,ib({d:e.path},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var e=this.props.model.path;return Object($.g)(Dv,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,n=e,r=n.path,o=n.isSelected,i=rb(function(e){var t=tu(e);return[t[2],t[3]]}(r),2);return{start:i[0],end:i[1],hover:t,isSelected:o}}}])&&cb(t.prototype,n),r&&cb(t,r),i}(Ag),db=function(e,t){return wn(e,t)},hb=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},yb=function(){return ve.a.Date.now()},vb=/\s/,gb=function(e){for(var t=e.length;t--&&vb.test(e.charAt(t)););return t},bb=/^\s+/,mb=function(e){return e?e.slice(0,gb(e)+1).replace(bb,""):e},Ob=/^[-+]0x[0-9a-f]+$/i,xb=/^0b[01]+$/i,jb=/^0o[0-7]+$/i,wb=parseInt,_b=function(e){if("number"==typeof e)return e;if(Nn(e))return NaN;if(Pe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Pe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=mb(e);var n=xb.test(e);return n||jb.test(e)?wb(e.slice(2),n?2:8):Ob.test(e)?NaN:+e},Eb=Math.max,Sb=Math.min,Pb=function(e,t,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function h(e){return s=e,c=setTimeout(v,t),l?d(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function v(){var e=yb();if(y(e))return g(e);c=setTimeout(v,function(e){var n=t-(e-u);return f?Sb(n,i-(e-s)):n}(e))}function g(e){return c=void 0,p&&r?d(e):(r=o=void 0,a)}function b(){var e=yb(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(v,t),d(u)}return void 0===c&&(c=setTimeout(v,t)),a}return t=_b(t)||0,Pe(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Eb(_b(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},b.flush=function(){return void 0===c?a:g(yb())},b},Ab=n(166);function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kb,Db,Tb,Cb=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mb(this,"undos",[]),Mb(this,"redos",[]),Mb(this,"callbacks",[]),Mb(this,"stopWatch",null),Mb(this,"curData",null),Mb(this,"maxSize",50),Mb(this,"waitTime",100),Mb(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){db(hb(this.undos),e)||(this.undos.push(e),db(this.curData,e)||(this.redos=[]),this.eventCenter.emit(to.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=ii(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=ii(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(Ab.a)(e,Pb((function(){var n=e.modelToHistoryData();n&&t.add(n)}),this.waitTime))}}])&&Nb(t.prototype,n),r&&Nb(t,r),e}();function Ib(e){return(Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fb(e,t){return(Fb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yb(e);if(t){var o=Yb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(e,t){if(t&&("object"===Ib(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xb(e)}function Xb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yb(e){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wb,Kb,Zb,qb=Nm((Tb=Db=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fb(e,t)}(i,e);var t,n,r,o=Hb(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vb(Xb(e=o.call(this)),"ref",Object($.f)()),Vb(Xb(e),"__prevText",{type:"",text:"",id:""}),Vb(Xb(e),"keyupHandler",(function(t){var n=e.props.graphModel.textEditElement;"Enter"===t.key&&t.altKey&&n.setElementState(0)})),Vb(Xb(e),"inputHandler",(function(t){var n=t.target.innerText,r=e.props.graphModel.textEditElement;e.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),Vb(Xb(e),"keydownHandler",(function(e){e.stopPropagation()})),e.state={style:{left:0,top:0}},e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.graphModel,r=n.transformModel,o=n.theme,i=n.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===eo.EDGE){var c=(i=i).text,u=i.textPosition,s=u.x,l=u.y;c.x=s,c.y=l,i.setText(c)}else i=i;var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===eo.EDGE){var p=o.edgeText,d=p.overflowMode,h=p.lineHeight,y=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(t=Bb(Bb({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===eo.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,O=g.wrapPadding,x=g.textWidth,j=i,w=j.width,_=j.modelType;(_!==$r.TEXT_NODE&&"autoWrap"===b||_===$r.TEXT_NODE&&x)&&(t=Bb(Bb({},f),{},{width:x||w,minWidth:x||w,lineHeight:m,padding:O}))}var E=i.text,S=E.x,P=E.y,A=Rb(r.CanvasPointToHtmlPoint([S,P]),2);return{style:Bb({left:A[0],top:A[1]},t)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var e=this.props.graphModel,t=e.eventCenter,n=e.editConfigModel,r=n.edgeTextEdit,o=n.nodeTextEdit;(r||o)&&t.on("".concat(to.GRAPH_TRANSFORM,",").concat(to.NODE_CLICK,",").concat(to.BLANK_CLICK," "),(function(){e.textEditElement&&e.textEditElement.setElementState(Jr.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.updateText(r,n),e.eventCenter.emit(to.TEXT_UPDATE,Bb({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?Object($.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&Gb(t.prototype,n),r&&Gb(t,r),i}($.a),Vb(Db,"toolName","textEdit"),kb=Tb))||kb,Jb=function(e){return e.modelType===$r.LINE_EDGE?function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(e):e.modelType===$r.POLYLINE_EDGE?function(e){var t=e.points,n=qc(t),r=Cc(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):e.modelType===$r.BEZIER_EDGE?function(e){var t=e.path,n=tu(t),r=Cc(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):void 0};function Qb(e){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||tm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e){return function(e){if(Array.isArray(e))return nm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,t){if(e){if("string"==typeof e)return nm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nm(e,t):void 0}}function nm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return(om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=um(e);if(t){var o=um(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&("object"===Qb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cm(e)}function cm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lm=Nm((Zb=Kb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(i,e);var t,n,r,o=im(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),sm(cm(t=o.call(this)),"stepDrag",void 0),sm(cm(t),"handleMouseDown",(function(e){t.stepDrag.handleMouseDown(e)})),sm(cm(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(e){return e.id})),n,r)})),sm(cm(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,a=o.selectElements,c=r.getPointByClient({x:e.clientX,y:e.clientY}),u={nodes:[],edges:[]};em(a.values()).forEach((function(e){e.BaseType===eo.NODE&&u.nodes.push(e.getData()),e.BaseType===eo.EDGE&&u.edges.push(e.getData())})),i.emit(to.SELECTION_CONTEXTMENU,{data:u,e:e,position:c})}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new _u({onDraging:t.onDraging,step:r,eventType:"SELECTION",eventCenter:a}),t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.transformModel;if(!(t.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===eo.NODE&&(t=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}}(e)),e.BaseType===eo.EDGE&&(t=Jb(e)),r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x1),a=Math.max(a,t.y1)}));var c=$b(n.CanvasPointToHtmlPoint([r,o]),2);r=c[0],o=c[1];var u=$b(n.CanvasPointToHtmlPoint([i,a]),2);i=u[0],a=u[1];var s={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object($.g)("div",{className:"lf-multiple-select",style:s,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&rm(t.prototype,n),r&&rm(t,r),i}($.a),sm(Kb,"toolName","multipleSelect"),Wb=Zb))||Wb;function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pm(this,"tools",void 0),pm(this,"components",void 0),pm(this,"toolMap",new Map),pm(this,"instance",void 0),this.instance=t,this.isDisabledTool(qb.toolName)||this.registerTool(qb.toolName,qb),this.isDisabledTool(lm.toolName)||this.registerTool(lm.toolName,lm)}var t,n,r;return t=e,(n=[{key:"isDisabledTool",value:function(e){return-1!==this.instance.options.disabledTools.indexOf(e)}},{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&fm(t.prototype,n),r&&fm(t,r),e}(),hm=n(167),ym=n.n(hm);function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gm(this,"mousetrap",void 0),gm(this,"options",void 0),gm(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new ym.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,n,r;return t=e,(n=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(St(t))t.forEach((function(t){var n=t.keys,r=t.callback,o=t.action;return e.on(n,r,o)}));else{var n=t.keys,r=t.callback,o=t.action;this.on(n,r,o)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&vm(t.prototype,n),r&&vm(t,r),e}(),mm=bm,Om=null;function xm(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function jm(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}function wm(e){return(wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){Pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Am=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pm(this,"container",void 0),Pm(this,"width",void 0),Pm(this,"height",void 0),Pm(this,"graphModel",void 0),Pm(this,"history",void 0),Pm(this,"viewMap",new Map),Pm(this,"tool",void 0),Pm(this,"keyboard",void 0),Pm(this,"dnd",void 0),Pm(this,"options",void 0),Pm(this,"snaplineModel",void 0),Pm(this,"components",[]),Pm(this,"plugins",void 0),Pm(this,"extension",{}),Pm(this,"adapterIn",void 0),Pm(this,"adapterOut",void 0),Pm(this,"getView",(function(e){return o.viewMap.get(e)})),t=Zl(t),this.options=t,this.container=t.container,this.plugins=t.plugins,this.graphModel=new zu(Em({},t)),this.tool=new dm(this),this.history=new Cb(this.graphModel.eventCenter),this.dnd=new Kl({lf:this}),this.keyboard=new mm({lf:this,keyboard:t.keyboard}),t.isSilentMode||!1===t.snapline||(this.snaplineModel=new yh(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(e){var t=e.data;r.setNodeSnapLine(t)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),function(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!t.textEditElement){var n=e.options.guards,o=t.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)?(Om=null,!1):((Om=o).nodes.forEach((function(e){return xm(e,40)})),Om.edges.forEach((function(e){return jm(e,40)})),!1)}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!t.textEditElement){if(Om&&(Om.nodes||Om.edges)){e.clearSelectElements();var n=e.addElements(Om);if(!n)return;n.nodes.forEach((function(t){return e.selectElementById(t.id,!0)})),n.edges.forEach((function(t){return e.selectElementById(t.id,!0)})),Om.nodes.forEach((function(e){return xm(e,40)})),Om.edges.forEach((function(e){return jm(e,40)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!t.textEditElement)return e.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!t.textEditElement)return e.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!t.textEditElement){var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(e){var t=e.pluginName;t||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(e.name||e.constructor.name,"\u6307\u5b9apluginName!")),t=e.name);var n=this.extensions.get(t);n&&n.destroy&&n.destroy(),this.extensions.set(t,e)}}],(n=[{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){var r={BaseEdge:Ag,BaseEdgeModel:Ba,BaseNode:uy,BaseNodeModel:Kf,RectNode:gy,RectNodeModel:Cd,CircleNode:Sy,CircleNodeModel:dp,PolygonNode:By,PolygonNodeModel:bd,TextNode:bv,TextNodeModel:Zd,LineEdge:Lg,LineEdgeModel:nc,DiamondNode:Ky,DiamondNodeModel:Cp,PolylineEdge:tb,PolylineEdgeModel:Oc,BezierEdge:pb,BezierEdgeModel:If,EllipseNode:cv,EllipseNodeModel:Qp,HtmlNode:Av,HtmlNodeModel:sh,h:$.g,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var o=t(r),i=o.view,a=o.model,c=i;n&&!c.isObervered&&(c.isObervered=!0,c=Q(c)),this.setView(e,c),this.graphModel.setModel(e,a)}else this.registerElement(e)}},{key:"registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=Q(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"batchRegister",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.registerElement(t)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:gy,model:Cd,type:"rect"}),this.registerElement({type:"circle",view:Sy,model:dp}),this.registerElement({type:"polygon",view:By,model:bd}),this.registerElement({type:"line",view:Lg,model:nc}),this.registerElement({type:"polyline",view:tb,model:Oc}),this.registerElement({type:"bezier",view:pb,model:If}),this.registerElement({type:"text",view:bv,model:Zd}),this.registerElement({type:"ellipse",view:cv,model:Qp}),this.registerElement({type:"diamond",view:Ky,model:Cp}),this.registerElement({type:"html",view:Av,model:sh})}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t),t||this.graphModel.toFront(e)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformModel,n=e.coordinate,r=e.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,c=a.x,u=a.y;t.focusOn(c,u,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"resize",value:function(e,t){this.options.width=null!=e?e:this.options.width,this.options.height=null!=t?t:this.options.height,this.graphModel.resize(e,t)}},{key:"setDefaultEdgeType",value:function(e){this.graphModel.setDefaultEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.updateText(e,t)}},{key:"deleteElement",value:function(e){var t,n,r,o=this.getModelById(e);return!!o&&null!==(n=null===(r=(Pm(t={},eo.NODE,this.deleteNode),Pm(t,eo.EDGE,this.deleteEdge),t)[o.BaseType])||void 0===r?void 0:r.call(this,e))&&void 0!==n&&n}},{key:"getModelById",value:function(e){return this.graphModel.getElement(e)}},{key:"getDataById",value:function(e){return this.graphModel.getElement(e).getData()}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"changeEdgeType",value:function(e,t){this.graphModel.changeEdgeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModelById(e);if(!t)return!1;var n=t.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(e),o}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModelById(e).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"changeNodeId",value:function(e,t){return this.graphModel.changeNodeId(e,t)}},{key:"getNodeModelById",value:function(e){return this.graphModel.getNodeModelById(e)}},{key:"getNodeDataById",value:function(e){return this.graphModel.getNodeModelById(e).getData()}},{key:"addEdge",value:function(e){return this.graphModel.addEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(!n)return!1;var r=n.model.getData(),o=!t||!t.beforeDelete||t.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(e),o}},{key:"deleteEdgeByNodeId",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.deleteEdgeBySourceAndTarget(t,n):t?this.graphModel.deleteEdgeBySource(t):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(e,t){return this.graphModel.changeEdgeId(e,t)}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getEdgeModels",value:function(e){var t=this.graphModel.edges,n=e.sourceNodeId,r=e.targetNodeId;if(n&&r){var o=[];return t.forEach((function(e){e.sourceNodeId===n&&e.targetNodeId===r&&o.push(e)})),o}if(n){var i=[];return t.forEach((function(e){e.sourceNodeId===n&&i.push(e)})),i}if(r){var a=[];return t.forEach((function(e){e.targetNodeId===r&&a.push(e)})),a}return[]}},{key:"getEdgeDataById",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"getNodeIncomingEdge",value:function(e){return this.graphModel.getNodeIncomingEdge(e)}},{key:"getNodeOutgoingEdge",value:function(e){return this.graphModel.getNodeOutgoingEdge(e)}},{key:"getNodeIncomingNode",value:function(e){return this.graphModel.getNodeIncomingNode(e)}},{key:"getNodeOutgoingNode",value:function(e){return this.graphModel.getNodeOutgoingNode(e)}},{key:"editText",value:function(e){this.graphModel.editText(e)}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(Na(t))}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"toFront",value:function(e){this.graphModel.toFront(e)}},{key:"setElementZIndex",value:function(e,t){return this.graphModel.setElementZIndex(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var c=n[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;o[n]&&(e.sourceNodeId=o[n]),o[r]&&(e.targetNodeId=o[r]);var a=t.graphModel.addEdge(e);i.edges.push(a)})),i}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.graphModel.getAreaElement(e,t,n,r).map((function(e){return e.getData()}))}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfigModel.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Na(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Na(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(e,t){return this.graphModel.transformModel.zoom(e,t)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformModel.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformModel.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformModel;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformModel.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformModel,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(e,t){void 0===t&&(t=e),this.graphModel.fitView(e,t)}},{key:"openEdgeAnimation",value:function(e){this.graphModel.openEdgeAnimation(e)}},{key:"closeEdgeAnimation",value:function(e){this.graphModel.closeEdgeAnimation(e)}},{key:"on",value:function(e,t){this.graphModel.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.graphModel.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.graphModel.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.graphModel.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(null!==(t=this.plugins)&&void 0!==t?t:e.extensions).forEach((function(e){var t=e.pluginName||e.name;-1===r.indexOf(t)&&n.installPlugin(e)}))}},{key:"installPlugin",value:function(t){if("object"===wm(t)){var n=t.install,r=t.render;return n&&n.call(t,this,e),r&&this.components.push(r.bind(t)),void(this.extension[t.pluginName]=t)}var o=t,i=new o({lf:this,LogicFlow:e});i.render&&this.components.push(i.render.bind(i)),this.extension[o.pluginName]=i}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(Em(Em({},e),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(e.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"renderRawData",value:function(e){this.graphModel.graphDataToModel(Na(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object($.j)(Object($.g)(Ul,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(to.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.renderRawData(e)}}])&&Sm(t.prototype,n),r&&Sm(t,r),e}();function Nm(e){return Q(e)}Pm(Am,"extensions",new Map),t.default=Am}])},94:function(e,t,n){}},[[253,1,2]]]);
//# sourceMappingURL=main.16c3e098.chunk.js.map